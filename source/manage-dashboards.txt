.. _manage-existing-dashboards:

==========================
Manage Existing Dashboards
==========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

This page outlines various methods for modifying existing
:doc:`dashboards </dashboards>`. The sections on this page outline the
required :doc:`permissions <dashboard-permissions>` to perform the
actions.

To begin modifying a dashboard, enter the :guilabel:`dashboard view` by
clicking the desired dashboard from the :guilabel:`Dashboards` page.

.. note::

   You can search for dashboards by title by using the search bar
   in the top-right corner of the page.

Viewer Actions
--------------

The following action can be performed by any user with at least
``Viewer`` :doc:`permissions <dashboard-permissions>` on the target
dashboard, meaning any level of dashboard access is sufficient.

Duplicate a Dashboard
~~~~~~~~~~~~~~~~~~~~~

You can duplicate any dashboard in your Dashboards page,
even if you do not have editing permissions.

To duplicate a dashboard from the Dashboards page:

1. Click the ellipsis (:guilabel:`...`) button on the desired dashboard.

#. Select :guilabel:`Duplicate Dashboard` from the pop-up menu.

#. In the :guilabel:`Dashboard Details` dialog, update the
   :guilabel:`Title` and :guilabel:`Description` fields.

#. Click :guilabel:`Create` to save the duplicated dashboard.

.. note::

   The user who duplicates a dashboard becomes the owner and only
   user of the newly duplicated dashboard. To grant other users access,
   update the dashboard's :doc:`permissions </dashboard-permissions>`.

.. _refresh-dashboard:

Refresh Dashboard Data
~~~~~~~~~~~~~~~~~~~~~~

|charts| automatically refreshes chart data once it becomes out of
date with the backing data source. You can also manually refresh dashboard data at any time.

.. _configure-auto-refresh:

Configure Auto Refresh Settings
```````````````````````````````

Charts on a dashboard automatically refresh once their data becomes out
of date. You can specify how stale your charts' data can be before it is
refreshed. This is known as your staleness tolerance. The default
behavior is to refresh when data is one hour stale.

To configure auto-refresh settings for a dashboard:

1. Select a dashboard from the :guilabel:`Dashboards` page.

#. Click :guilabel:`Settings` at the top of the dashboard.

#. Select your data staleness tolerance from the dropdown.
   |charts-short| supports staleness tolerances between 1 minute and 30
   days.

#. Click :guilabel:`Save`.

Manually Refresh Dashboard Data
```````````````````````````````

To manually refresh dashboard data:

1. Select a dashboard from the :guilabel:`Dashboards` page.

#. Click the arrow next to the :guilabel:`Settings` button.

#. Click :guilabel:`Force Refresh`.

Refresh Behavior
````````````````

- When |charts-short| refreshes dashboard data, only charts with data
  older than your specified staleness tolerance are refreshed.
  |charts-short| does not refresh the entire dashboard at once.

- Auto-refresh settings are stored in the local browser state. These
  settings are not persisted with the dashboard or shared between
  users.

- When |charts| loads charts on a dashboard, it does not consistently
  query the data source for each chart. Instead, |charts| queries the
  data sources when the dashboard first loads, and that data is cached
  on both the client and server.

  .. note::

     The data stored in the cache is encrypted with a key specific to
     your |charts| tenant.

- When a dashboard refreshes automatically:

  - If a chart's data is within the staleness tolerance period,
    |charts-short| doesn't refresh the chart's data.

  - If a chart's data is outside of the staleness tolerance period, 
    |charts-short| returns the latest data from the server cache. If the
    server cache contains stale data, |charts-short| queries the data 
    source for the latest data, refreshes the chart, and updates the 
    data cached on both the client and server.
    
- When you manually refresh a dashboard, |charts-short| updates all
  chart data by querying the data source for the latest data even if
  the chart data is within the specified staleness tolerance period.


Author Actions
--------------

The following actions require either the ``Author`` or ``Owner``
:doc:`permission <dashboard-permissions>` on the target dashboard.

.. _dashboard-add-chart:

Add a Chart
~~~~~~~~~~~

To add a chart to your dashboard, click the :guilabel:`Add Chart`
button at the top-right of your dashboard. For detailed instructions on
creating charts, see :doc:`Build Charts <build-charts>`.

.. _dashboard-edit-chart:

Edit a Chart
~~~~~~~~~~~~

To edit a chart, hover over the desired chart and click the
:guilabel:`Edit` button. For details on the available editing options,
see :doc:`Build Charts <build-charts>`.

.. _dashboard-remove-chart:

Remove a Chart
~~~~~~~~~~~~~~

.. important::

   Removing a chart from a dashboard is a permanent operation. There
   is no way to recover a chart once it has been deleted, although
   the underlying data in the collection the chart was created
   from will continue to exist.

To remove a chart from your dashboard, hover over the desired chart
and click the ellipsis (:guilabel:`...`) button at the top-right of the
chart. Select :guilabel:`Delete Chart`, then click the
:guilabel:`Delete Chart` button in the dialog to confirm the chart
deletion.

.. _dashboard-duplicate-chart:

Duplicate a Chart
~~~~~~~~~~~~~~~~~

To quickly build multiple related charts without starting from scratch
each time, you can duplicate any chart on a dashboard.

To duplicate a chart:

1. Hover over the desired chart on your dashboard and click the
   ellipsis (:guilabel:`...`) button at the top-right of the
   chart.
#. Select :guilabel:`Duplicate Chart`.

#. Make any desired changes, then click the green
   :guilabel:`Save and Close` button to save the new chart. This saves
   the chart on the same dashboard as the original copy.

.. _move-chart:

Move a Chart to a Different Dashboard
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note::

   This action requires the :doc:`author </dashboard-permissions/>` or
   :doc:`owner </dashboard-permissions/>` role on both the origin and
   destination dashboards.

To move a chart to a different dashboard:

1. Navigate to the dashboard which contains the chart you wish to move.

#. Hover over the desired chart and click the ellipsis
   (:guilabel:`...`) button at the top-right of the chart.

#. Click :guilabel:`Move to`.

#. In the :guilabel:`Move to` dialog, use the dropdown to select the
   target dashboard for the chart.

#. Click :guilabel:`Move Chart`.

|charts-short| reloads the current dashboard and the target chart is no
longer present.

.. _dashboard-resize-chart:

Resize a Chart
~~~~~~~~~~~~~~

To resize a chart, hover over the chart and drag the bottom-right
corner until the appearing blue rectangle reaches the desired size.

.. figure:: /images/charts/resize-chart2.gif
   :figwidth: 750px
   :alt: Resize Chart Example

.. _dashboard-rearrange-chart:

Reposition Charts
~~~~~~~~~~~~~~~~~

To rearrange charts in your dashboard, hover over the chart and drag
the top-left corner until the appearing blue rectangle is in the
desired location. You can also see how moving the chart will affect the
position of other charts in your dashboard, as illustrated in the
following example:

.. figure:: /images/charts/rearrange-charts2.gif
   :figwidth: 750px
   :alt: Rearrange Charts Example

.. _dashboard-modify-title-description:

Rename a Dashboard and Edit its Description
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You can rename a dashboard and edit its description either from the
:ref:`Dashboards page <dashboards-tab>`, which shows an overview of all
your dashboards, or from within an individual dashboard.

From the Dashboards page:

1. Each dashboard has a button with an ellipsis icon (:guilabel:`...`)
   in the upper right corner. Click the ellipsis button.

#. Select :guilabel:`Edit Title / Description` from the pop-up menu.

#. In the :guilabel:`Dashboard Details` dialog, update the
   :guilabel:`Title` and :guilabel:`Description` of your dashboard.

#. Click :guilabel:`Update` to save your changes.

From within an individual dashboard:

1. In the upper left corner of the desired dashboard view, hover over
   the dashboard title or description and click the
   :guilabel:`pencil icon`.

#. In the :guilabel:`Dashboard Details` dialog, update the
   :guilabel:`Title` and :guilabel:`Description` of your dashboard.

#. Click :guilabel:`Update` to save your changes.

.. _duplicate-dashboard:

Owner Actions
-------------

The following actions require ``Owner`` :doc:`permission
<dashboard-permissions>` on the target dashboard.

.. _dashboard-delete:

Delete a Dashboard
~~~~~~~~~~~~~~~~~~

.. important::

   Deleting a dashboard is a permanent operation. There is no way to
   recover a dashboard once it has been deleted, although the
   underlying data in the collections used in the dashboard will
   continue to exist.

To delete a dashboard:

1. In the :guilabel:`Dashboards` page, locate the dashboard you wish to
   delete.

#. Click the :guilabel:`...` button on the top-right of the dashboard.

#. Click :guilabel:`Delete Dashboard`.

#. Click :guilabel:`Delete` in the :guilabel:`Delete Dashboard` dialog
   to confirm deletion.

Modify Dashboard Permissions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

A dashboard ``Owner`` can modify which users can access the dashboard
and their respective permission levels. For more information, refer to
the :doc:`Dashboard Permissions <dashboard-permissions>` page.

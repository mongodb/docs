=========================
Two-Factor Authentication
=========================

.. default-domain:: mongodb

Overview
--------

Two-factor authentication requires users to enter unique, one-time
verification codes as an added measure of security when they log into MMS
or perform certain operations. Once used, a code stays valid for a
specified period of time (usually fewer than 15 minutes). When the code
times out, a user must receive a new code if performing an operation that
requires verification.

Users receive their verification codes through either text messages (SMS),
automated voice calls, or `an application that implements the Time-based
One-time Password Algorithm (TOTP)
<http://en.wikipedia.org/wiki/Time-based_One-time_Password_Algorithm#Client_implementations>`_,
such as the Google Authenticator application. Users choose how to receive
codes when configuring their MMS profiles.

Authentication via Text or Voice
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You can receive verification codes through text or voice by providing a
mobile phone number when setting up your MMS profile. When you need a
code, MMS sends it either via text (SMS) or through an automated phone
call that reads out the code.

Certain network providers and countries may impose delays on SMS messages.
Users who experience delays should consider Google Authenticator for
verification codes.

.. include:: /includes/fact-two-factor-auth-India-limit.rst

Authentication via Google Authenticator
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Google Authenticator is a smartphone application that uses `TOTP
<http://en.wikipedia.org/wiki/Time-based_One-time_Password_Algorithm>`_ to
generate verification codes. When you need a code, the application
generates a time-based code based on a private key that was shared between
MMS and your Google Authenticator application during the initial pairing
process.

Google Authenticator **does not** require a Google account. The
application runs on both `iOS
<https://itunes.apple.com/us/app/google-authenticator/id388497605>`_ and
`Android
<https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2>`_
devices, and you never need associate it with a Google account. MMS
two-factor authentication via Google Authenticator is not in any way
integrated with Googleâ€™s own account authentication mechanisms, and MMS
does **not** provide two-factor authentication codes to Google.

Authentication via Another Implementation of TOTP
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

There are implementations of the Time-based One-time Password Algorithm
(TOTP) other than Google Authenticator. For example, for an alternative for Windows
Phones, see
`<http://www.windowsphone.com/en-us/store/app/authenticator/021dd79f-0598-e011-986b-78e7d1fa76f8>`_.

Be aware that some implementations run on your computer rather than your
mobile device, which would be a security risk if your laptop is unattended
and has no password protection.

For other implementations of TOTP, see the following Wikipedia entry:

`<http://en.wikipedia.org/wiki/Time-based_One-time_Password_Algorithm#Client_implementations>`_

For third-party implementations of Authenticator, see the following Wikipedia entry:

`<http://en.wikipedia.org/wiki/Google_Authenticator#Implementations>`_

Two-Factor Authentication on a Shared Account
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you have a global team that shares the same MMS account, use Google
Authenticator and use the same seed code for all team members. To generate
a common seed code that all team members can use, select the
:guilabel:`Can't scan the barcode?` link in MMS during the appropriate
step in the procedure to :ref:`two-factor-google-authenticator`.

Procedures
----------

Configure Two-Factor Authentication with Text or Voice
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/two-factor-auth-configure-text-voice.rst

.. _two-factor-google-authenticator:

Configure Two-Factor Authentication with Google Authenticator
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/two-factor-auth-configure-authenticator.rst

Generate New Recovery Codes
~~~~~~~~~~~~~~~~~~~~~~~~~~~

As a backup, you can generate recovery codes to use in place of a sent
code when you do not have access to a phone or your Google Authenticator
application. Each recovery code is single-use, and you should save these
codes in a secure place. When you generate new recovery codes, you
invalidate previously generated ones.

.. include:: /includes/steps/two-factor-generate-recovery-codes.rst

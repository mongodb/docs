.. _sql-connect-tableau:

====================
Connect from Tableau
====================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

This page describes how to connect to {+adf+} with Tableau using the 
Tableau Named Connector.

Prerequisites
-------------

- A {+fdi+} that is mapped to one or more data stores.

  .. include:: includes/data-federation/fact-asql-recommended-mongodb-version

- `Tableau <https://www.tableau.com/>`__ Desktop or Server.

.. _jdbc-driver-connect-tableau:

Procedure
---------

The following procedure guides you through installing the necessary 
tools, finding your {+fdi+} connection information, and connecting to 
your {+fdi+} with Tableau.

Download the JDBC Driver and Tableau Connector
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. procedure::
   :style:  normal

   .. step:: Download the MongoDB JDBC Driver.

      a. Download the latest 
         `MongoDB JDBC Driver <https://search.maven.org/artifact/org.mongodb/mongodb-jdbc>`__ version. Select the 
         ``all.jar`` file, which includes necessary driver classes and 
         dependencies.

      #. Move the downloaded ``.jar`` file into the appropriate 
         directory for your operating system:

         .. list-table::
            :header-rows: 1
            :widths: 20 80
      
            * - Operating System
              - Folder Path
      
            * - Windows 
              - ``C:\Program Files\Tableau\Drivers``
      
            * - MacOS
              - ``~/Library/Tableau/Drivers``

   .. step:: Download and install the Tableau Named Connector.

      a. Download `the Taco file <https://translators-connectors-releases.s3.amazonaws.com/mongo-tableau-connector/mongodb-jdbc-1.0.0.taco>`__. 

      #. Move the downloaded Taco file into the appropriate 
         directory for your operating system:

         .. list-table::
            :header-rows: 1
            :widths: 20 80
      
            * - Operating System
              - Folder Path
      
            * - Windows 
              - ``C:\Program Files\Tableau\Connectors``
      
            * - MacOS
              - ``~/Library/Tableau/Connectors``

.. _sql-connect-tableau-get-fdi-info:

Get Your {+fdi+} Connection Information
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. procedure::
   :style:  normal
   
   .. step:: Navigate to your {+fdi+}.

      In |service|, select :guilabel:`Data Federation` from the left 
      navigation panel.
   
   .. step:: Click :guilabel:`Connect` to open the {+fdi+} connection modal.

   .. step:: Select :guilabel:`Connect using the {+asql+} Interface`.

   .. step:: Select :guilabel:`Tableau Connector`.

   .. step:: Copy your connection information.

      {+adf+} provides the following information to connect to your 
      {+fdi+}:

      - URI
      - Database

      You'll need this information in a later step.

Connect with Tableau 
~~~~~~~~~~~~~~~~~~~~

.. procedure::
   :style:  normal
   
   .. step:: Open Tableau Desktop or Tableau Server.

   .. step:: Navigate to the :guilabel:`Connect` menu.

   .. step:: Select :guilabel:`MongoDB Atlas by MongoDB`.

      A connection modal displays.

   .. step:: Enter the connection information that you copied from {+adf+}.
      
      Enter the following information:

      .. list-table::
         :stub-columns: 1
         :widths: 10 20
       
         * - MongoDB URI
           - Your {+fdi+} URI from step 5 of :ref:`sql-connect-tableau-get-fdi-info`.

         * - Database
           - Your database from step 5 of :ref:`sql-connect-tableau-get-fdi-info`.
             The default is``myFederatedVirtualDatabase``.
         
         * - Username
           - The MongoDB user to connect with.

         * - Password
           - The MongoDB user's password.

   .. step:: Click :guilabel:`Sign In`.

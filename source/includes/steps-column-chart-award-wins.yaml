title: Click :guilabel:`Add My First Chart`.
ref: bar-chart-add-chart
level: 4
---
title: In the :guilabel:`Data Source` dropdown, select
       :guilabel:`test.movieDetails`.
ref: bar-chart-data-source
level: 4
---
title: Select the Chart Type.
ref: click-stacked-column
level: 4
content: |
   a. In the :guilabel:`Chart Type` dropdown menu, select
      :guilabel:`Column`.
   b. Select the panel labeled :guilabel:`Stacked` below
      the :guilabel:`Chart Type` dropdown menu.
---
title: Add the desired fields to the proper encoding channels.
ref: bar-chart-add-fields
level: 4
content: |
  a. Drag the ``director`` property from the :guilabel:`Fields`
     section of the Chart Builder view to the :guilabel:`X Axis`
     encoding channel. This tells |charts| to create a column
     for each ``director`` value in the dataset.

  #. In the :guilabel:`Fields` section click the ``awards`` field to
     expand the ``awards`` object and view its properties.

  #. Drag the ``awards.wins`` field to the :guilabel:`Y Axis`
     encoding channel. The :guilabel:`Y Axis` encoding channel
     determines which field to use for the chart's
     :manual:`aggregation </aggregation>`.

     .. cssclass:: admonition-example
     .. admonition:: Aggregation

        :manual:`Aggregation <aggregation>` processes data records
        using a wide variety of methods and returns computed results
        which may not be available in the original dataset. Because we
        are interested in the total number of awards won by each
        director, we use the ``awards.wins`` field here and will use
        an aggregation operator which will allow us to add up the
        total wins for each director.

  #. Leave the :guilabel:`Aggregate` dropdown menu for the
     :guilabel:`Y Axis` encoding channel on its default
     value of :guilabel:`sum`. This value directs the aggregation
     operation to return the total number of award wins for each
     director.

  #. Drag the ``genres`` field to the :guilabel:`Series` encoding
     channel, then click on the :guilabel:`Array Reductions` dropdown
     menu and select ``unwind array``. The X axis columns are now
     broken down by film genre.
---
title: Add a query filter.
ref: add-query-filter
level: 4
content: |

  a. At this point there are too many columns in our X axis to show
     any meaningful results. To bring the number down to a manageable
     level, add a filter. In the :guilabel:`Filters` box, add the
     following query filter and click the :guilabel:`Apply` button:

     .. code-block:: javascript

        { 'awards.wins': { $gte: 50 } }

     This query includes only directors with at least 50 awards. The
     chart is now much more legible.
---
title: Rearrange the data sorting.
ref: switch-sort-order
level: 4
content: |
  #. In the X axis encoding channel, click on the :guilabel:`Sort By`
     dropdown menu and select :guilabel:`Aggregated Value` to sort
     the columns by their total numerical value.

  a. Switch the sorting order to highest to lowest by clicking the
     sort icon in the lower right corner of the X axis encoding
     channel panel.
---
title: Title your chart.
ref: bar-chart-add-title
level: 4
content: |

   a. Hover over your chart title above the center of the chart and
      click the pencil icon.

   #. Copy the following into the chart title input:

      .. code-block:: none

         Directors with Most Awards

   #. Click the green check mark to save your title.

   #. Your chart should now look like this:

      .. figure:: /images/charts/tutorial2-directors-with-most-awards.png
         :figwidth: 650px
         :alt: Directors with the most awards

   #. Click :guilabel:`Save and Close` to return to your
      dashboard.

=======================
System CPU Usage Alerts
=======================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Description
-----------

``System CPU`` alerts indicate that the CPU usage of the MongoDB
process has reached a specified threshold. This threshold is specified
when the alert is created.

Common Triggers
---------------

:ref:`System: CPU (Steal) % <system-disk-alerts>`
  Occurs when the percentage of time the CPU is in a state of
  "involuntary wait" exceeds the specified threshold. CPU
  steal percentage is the percentage by which the CPU usage exceeds
  the guaranteed baseline CPU credit accumulation rate.

  .. note::

     This alert typically triggers when all credits have been
     consumed on an `AWS burstable performance instance
     <https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/burstable-performance-instances.html>`__.

:ref:`System: CPU (User) % <system-disk-alerts>`
  Occurs when the CPU usage of the MongoDB process, as normalized by
  the number of CPUs, exceeds the specified threshold.

Possible Solutions
------------------

These are a few possible actions to consider to help resolve
System CPU Usage alerts:

.. only:: onprem

   - Consider adding one or more :hardlink:`indexes
     <https://docs.opsmanager.mongodb.com/current/tutorial/create-indexes/>`
     to improve query performance. For details on
     calculating suggested indexes, see
     :doc:`Calculate Suggested Indexes </tutorial/suggest-indexes/>`.

   - Consider scaling your cluster with additional servers to
     reduce the CPU usage percentage utilized by the current workload.
     For example, you could
     :doc:`convert a replica set to a sharded cluster
     </tutorial/convert-replica-set-to-sharded-cluster>`.
     For more information on sharded clusters, see
     :manual:`Sharding </sharding/>`.

.. only:: cloud

   - Consider adding one or more :manual:`indexes
     </indexes/>` to improve query performance. For details on
     calculating suggested indexes, see
     :doc:`Calculate Suggested Indexes </tutorial/suggest-indexes/>`.

   - Consider scaling your cluster with additional servers to
     reduce the CPU usage percentage utilized by the current workload.
     For example, you could
     :doc:`convert a replica set to a sharded cluster
     </tutorial/convert-replica-set-to-sharded-cluster>`.
     For more information on sharded clusters, see
     :manual:`Sharding </sharding/>`.

.. _delete-online-archive: 

========================
Delete an Online Archive
========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/fact-online-archive-beta-message.rst

You can delete an online archive through the |service| UI and |api|. When 
you remove an online archive, data on the cloud object storage for the online 
archive is also deleted. Once deleted, data can't be restored.  

If you drop a :manual:`database </reference/command/dropDatabase/>` and/or 
:manual:`collection </reference/command/drop/>` configured for online archive, 
the data from the collection, if archived, will continue to be available on 
the cloud object storage. You will incur costs for storage on the cloud 
object storage. Alternatively, if you :doc:`delete the cluster 
</reference/api/clusters-delete-one>`, |service| deletes all the online 
archives configured for the cluster. This causes any archived data to also be 
deleted from the cloud object storage.

If all the online archives are deleted, the |data-lake| is also deleted and 
a new |data-lake| is created when you create an online archive again.

Once an online archive is deleted, its state moves to ``Deleted``. 
You can create another online archive for the same database, collection, and 
fields as the deleted online archive if there is no other online archive for 
the same database, collection, and fields in ``Active`` state.

.. _delete-online-archive-ui: 

Delete an Online Archive from the UI 
------------------------------------

To delete an online archive, in your |service| UI: 

.. include:: /includes/steps/delete-online-archive.rst

.. _delete-online-archive-api: 

Delete an Online Archive Through the API 
----------------------------------------

To delete an online archive through the |api|, send a ``DELETE`` request to 
the :ref:`onlineArchives <api-online-archive>` endpoint with the 
unique ID of the online archive to delete. To learn more about the |api| 
syntax and options, see :ref:`api-online-archive-delete-one`.

============
Restore Jobs
============

.. default-domain:: mongodb

The ``restoreJobs`` resource allows you to manage restore jobs. A
restore job is essentially one request to retrieve one of your existing
snapshots, or one snapshot for one recent specific point-in-time,
to restore one ``mongod`` to one previous state. To initiate one restore job,
you must issue the request from an IP address on your user account's
:ref:`whitelist <whitelist-for-api-operations>`.

.. include:: /includes/note-scp-deprecation.rst

.. include:: /includes/fact-groups-projects-synonyms.rst

.. include:: /includes/api/base-api-uri.rst

Endpoints
---------

The following lists the endpoints available for restore jobs.

.. list-table::
   :header-rows: 1
   :widths: 10 50 40

   * - Method
     - Endpoint
     - Description

   * - ``GET``
     - :doc:`/groups/{GROUP-ID}/clusters/{CLUSTER-ID}/restorejobs </reference/api/restorejobs/get-all-restore-jobs-for-one-cluster>`
     - Get All Restore Jobs for One Cluster

   * - ``GET``
     - :doc:`/groups/{GROUP-ID}/clusters/{CLUSTER-ID}/restorejobs?batchid={BATCH-ID} </reference/api/restorejobs/get-all-restore-jobs-for-one-cluster>`
     - Get All Restore Jobs for One Batch for One Cluster

   * - ``GET``
     - :doc:`/groups/{GROUP-ID}/clusters/{CLUSTER-ID}/restorejobs/{JOB-ID} </reference/api/restorejobs/get-one-single-restore-job-for-one-cluster>`
     - Get One Restore Job for One Cluster

   * - ``POST``
     - :doc:`/groups/{GROUP-ID}/clusters/{CLUSTER-ID}/restorejobs </reference/api/restorejobs/create-one-restore-job-for-one-cluster>`
     - Create One Restore Job for One Cluster

.. admonition:: Deprecated when using MongoDB 3.4
   :class: important

   As of MongoDB 3.4, mirrored config server deployments (also known as
   :abbr:`SCCC (Sync Cluster Connection Config)`) are no longer
   supported. The following API methods work with :abbr:`SCCC (Sync
   Cluster Connection Config)` config servers only. To learn how to
   convert your config servers from :abbr:`SCCC (Sync Cluster Connection
   Config)` to a replica set (also known as :abbr:`CSRS (Config Server
   Replica Set)`), see :manual:`Upgrade Config Servers to Replica Set
   </tutorial/upgrade-config-servers-to-replica-set/>` in the MongoDB
   Server Manual.

.. list-table::
   :header-rows: 1
   :widths: 10 50 40

   * - Method

     - Endpoint

     - Description

   * - ``GET``
     - :doc:`/groups/{GROUP-ID}/hosts/{HOST-ID}/restorejobs </reference/api/restorejobs/get-all-restore-jobs-for-one-sccc-config-server>`
     - Get All Restore Jobs for One Legacy Mirrored Config Server

   * - ``GET``
     - :doc:`/groups/{GROUP-ID}/hosts/{HOST-ID}/restorejobs/{JOB-ID} </reference/api/restorejobs/get-one-single-restore-job-for-one-sccc-config-server>`
     - Get One Restore Job for One Legacy Mirrored Config Server

   * - ``POST``
     - :doc:`/groups/{GROUP-ID}/hosts/{HOST-ID}/restorejobs </reference/api/restorejobs/create-one-restore-job-for-one-sccc-config-server>`
     - Create One Restore Job for One Legacy Mirrored Config Server

.. include:: /includes/extracts/api-toc-restore-jobs.rst

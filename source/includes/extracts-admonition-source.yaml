ref: _mechanism-enterprise-availability
content: |
      {{optional}}{{mechanism}} is only available on MongoDB Enterprise builds. If
      you have existing deployments running on a MongoDB Community
      build, you must :doc:`upgrade them to MongoDB Enterprise
      </tutorial/change-mongodb-version>` before you can enable
      {{mechanism}} for your |mms| project.
---
ref: _note-manage-agent-auth
content: |

   .. only:: onprem

      .. note::

         In |onprem| 1.8 and later, |onprem| can manage agent authentication
         for you if you use Automation to manage the agents. With
         Automation, |onprem| creates the users for each agent
         and configures the agent appropriately. See:
         {{document}} for more information.

   .. only:: cloud

      .. note::
   
         |mms| can manage agent authentication for you if you are using
         Automation to manage the agents. With Automation, |mms|
         creates the users for each agent and configures the agent
         appropriately. See: {{document}} for more information.

---
ref: _configure-agent-ldap-intro
content: |
  If your MongoDB deployment enforces access control, the {{agent}} must
  authenticate to MongoDB as a user with the proper access. If you use
  :ref:`Automation <automation>`, |mms| takes care of this for you.

  MongoDB Enterprise supports simple and SASL binding to Lightweight
  Directory Access Protocol (LDAP) servers via ``saslauthd`` and operating system
  libraries:

  - MongoDB Enterprise for Linux can bind to an LDAP server either via
    ``saslauthd`` or starting in MongoDB 3.4, via operating system libraries. 

  - Starting in MongoDB version 3.4, MongoDB Enterprise for Windows can
    bind to an LDAP server via the operating system libraries.

  {{agent}} support authenticating to MongoDB instances using LDAP.
    
  If your MongoDB deployment uses LDAP to authenticate users, to
  authenticate the {{agent}}, create a user in the ``$external``
  database with the appropriate roles in MongoDB.
...

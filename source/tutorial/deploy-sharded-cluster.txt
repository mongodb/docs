========================
Deploy a Sharded Cluster
========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/styles/corrections.rst

:term:`Sharded clusters <sharded cluster>` provide horizontal scaling 
for large data sets and enable high throughput operations by 
distributing the data set across a group of servers. 

To learn more about sharding, see 
:manual:`Sharding Introduction </core/sharding-introduction>` in the 
MongoDB manual.

Use this procedure to deploy a new sharded cluster that |mms| manages. 
Later, you can use |mms| to add shards and perform other maintenance 
operations on the cluster.

.. cond:: cloud

   .. include:: /includes/prerequisites-deploy-mongodb.rst

.. cond:: onprem

   .. tabs::
   
      tabs:
        - id: ui
          name: User Interface
          content: |
   
            Prerequisites
            -------------
   
            .. include:: /includes/prerequisites-deploy-mongodb.rst
   
        - id: k8s
          name: Kubernetes
          content: |
   
            .. include:: /includes/note-k8s-supported-in-om4.rst
              
            Prerequisites
            -------------
   
            To deploy a standalone using a |k8s-obj|, you need to meet
            the prerequisites for, and complete the procedures on, the
            :doc:`Install Kubernetes Operator </tutorial/install-k8s-operator>` 
            page.

Considerations
--------------

Unique Names for Sharded Clusters
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Use unique names for the new cluster and its shards.

.. include:: /includes/important-unique-names-deployment-items.rst

.. include:: /includes/extracts/consideration-k8s-monitoring-agent.rst

Configuration Server Deployment Architecture
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. only:: onprem

     .. versionadded:: Ops Manager 4.0

If you select MongoDB 3.2 or later for your configuration server
:binary:`~bin.mongod` processes, |mms| deploys your 
configuration servers as a replica set. If you select
MongoDB 3.0 or earlier for your configuration server 
:binary:`~bin.mongod` processes, |mms| deploys mirrored 
configuration servers. 

To learn more about |csrs| and mirrored configuration servers (|sccc|),
see :manual:`Config Servers </core/sharded-cluster-config-servers/>`.

Procedure
---------

.. include:: /includes/extracts/create-sharded-cluster-deployment.rst

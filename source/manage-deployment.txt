.. _manage-deployment:

==================
Manage Deployments
==================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

On the :guilabel:`Data Sources` page, an |service| 
:authrole:`Project Owner` can manage a deployment. 

Access Deployment Settings
--------------------------

To manage a deployment in |charts-short|:

.. procedure::
   :style: normal

   .. include:: /includes/steps-access-deployment.rst

   .. include:: /includes/steps-connect-deployment.rst

You can manage the following deployment settings.

Connect or Disconnect the Deployment or Data Sources
----------------------------------------------------

An |service| :authrole:`Project Owner` can connect the deployment or
its data sources. To learn more, see
:ref:`connect-disconnect-data-source`.

.. include:: /includes/fact-charts-connects-by-default.rst

To manage other data source settings, see :ref:`manage-existing-data-sources`.

.. _org-sharing-deployment:

Enable Organization-Wide Sharing for a Deployment
-------------------------------------------------

.. include:: /includes/fact-org-wide-sharing.rst

.. important::

   If you enable organization-wide sharing for a deployment, it applies 
   to all existing data sources and to any new data source you add to 
   that deployment in the future.

To enable organization-wide sharing for a deployment:

.. procedure::
   :style: normal

   .. include:: /includes/steps-access-deployment.rst

   .. step:: Turn on organization-wide sharing.
    
      In the :guilabel:`Organization` subsection of the 
      :guilabel:`Data Access` section, toggle 
      :guilabel:`All users in the organization can view data in this data source` to :guilabel:`ON`.

Deployment Read Preference
--------------------------

Each :ref:`deployment <deployments>` has a read preference, which
determines the :manual:`replica set member </core/replica-set-members>`
that the data source reads data from. 

By default, a newly-added |service| {+cluster+} has a read 
preference of :guilabel:`Secondary`, which means that it reads from a
:manual:`secondary node </core/replica-set-secondary>`
within the |service| {+cluster+}. You can change the read preference of
a {+cluster+} using the :guilabel:`Read preference` dropdown. 

You can't change the read preference of a
{+fdi+}. {+Fdis+} have a read preference
of :guilabel:`Nearest` by default, which means that they read from the
replica set member whose network latency falls
within the acceptable latency window. To learn more, see
:manual:`/core/read-preference/#mongodb-readmode-nearest`.

The :guilabel:`Read preference` dropdown contains the following read
preference options for {+clusters+}:

.. list-table::
   :header-rows: 1
   :widths: 30 70

   * - Read Preference
     - Description

   * - Primary
     - Reads from the :manual:`primary node 
       </core/replica-set-primary>` within the {+cluster+}. To learn
       more, see 
       :manual:`core/read-preference/#mongodb-readmode-primary`.

   * - Secondary
     - Reads from the :manual:`secondary node 
       </core/replica-set-secondary>` within the {+cluster+}. To learn
       more, see 
       :manual:`core/read-preference/#mongodb-readmode-secondary`.

   * - Nearest
     - Reads from the replica set member whose network latency falls
       within the acceptable latency window. To learn more, see
       :manual:`/core/read-preference/#mongodb-readmode-nearest`.

   * - Analytics Node
     - Reads from an :ref:`anayltics node <analytics-nodes-overview>`.

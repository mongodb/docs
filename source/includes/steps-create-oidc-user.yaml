---
ref: view-project-nav-integrations-page
stepnum: 1
ref: oidc-add-db-group
title: "Open the :guilabel:`Add New Database User or Group` dialog."
level: 4
content: |
  #. In the :guilabel:`Security` section of the left navigation, click
     :guilabel:`Database Access`.
  #. Click :icon-fa5:`plus` :guilabel:`Add New Database User or Group`.

     .. note::
      
        If you didn't :ref:`apply your OIDC IdP to Atlas
        <apply-oidc-idp>`, this button says :icon-fa5:`plus`
        :guilabel:`Add New Database User`.
---
stepnum: 2
ref: select-oidc
title: "Select :guilabel:`Federated Auth`."
level: 4
content: |
  In the :guilabel:`Authentication Method` section, select the box marked
  :guilabel:`Federated Auth`.
   
  .. note::
      
     If you didn't :ref:`apply your OIDC IdP to Atlas <apply-oidc-idp>`,
     you cannot select this box.
---
stepnum: 3
ref: oidc-enter-user-group
title: "Select Identity Provider and Identifier"
level: 4
content: |
  In the :guilabel:`Select Identity Provider` section, select a configured 
  |oidc| |idp-full|.
  Then, enter either the user identifier or group identifier associated with 
  your configured |oidc| |idp-full|.
---
stepnum: 4
ref: oidc-assign-user-privileges
title: Assign user or group privileges.
level: 4
content: |
  Select the database user or group privileges. You can assign privileges to 
  the new user or group in one or more of the following ways:

  - Select a :ref:`built-in role <atlas-user-privileges>` from the
    :guilabel:`Built-in Role` dropdown menu. You can select one
    built-in role per database group within the {+atlas-ui+}. If you delete the
    default option, you can click :guilabel:`Add Built-in Role` to select a new built-in role.

  - If you have any :ref:`custom roles <mongodb-roles>` defined, you can expand
    the :guilabel:`Custom Roles` section and select
    one or more roles from the :guilabel:`Custom Roles` dropdown menu. Click
    :guilabel:`Add Custom Role` to add more custom roles. You can also
    click the :guilabel:`Custom Roles` link to see the custom
    roles for your project.

  - Expand the :guilabel:`Specific Privileges` section and select one or more
    :ref:`privileges <atlas-specific-privileges>` from the
    :guilabel:`Specific Privileges` dropdown menu. Click
    :guilabel:`Add Specific Privilege` to add more privileges. This assigns the
    group specific privileges on individual databases and collections.

  |service| can apply a built-in role, multiple custom roles, and multiple specific
  privileges to a database group. 
  
  To remove an applied role or privilege, click :icon-fa4:`trash-o`
  :guilabel:`Delete` next to the role or privilege you wish to delete.

  .. note::

    |service| doesn't display the :icon-fa4:`trash-o` :guilabel:`Delete` icon
    next to your :guilabel:`Built-in Role`, :guilabel:`Custom Role`, or
    :guilabel:`Specific Privilege` selection if you selected only one option. You
    can delete the selected role or privilege once you apply another role or privilege.
     
  For more information on authorization, see :manual:`Role-Based
  Access Control </core/authorization>` and :manual:`Built-in
  Roles </core/security-built-in-roles>` in the MongoDB manual.
---
stepnum: 5
ref: oidc-restrict-resource-access
title: Specify the resources in the project that the user or group can access.
level: 4
optional: true
content: | 
  By default, groups can access all the clusters and {+fdi+}\s in the 
  project. You can restrict access to specific clusters and {+fdi+}\s
  by doing the following: 

  a. Toggle :guilabel:`Restrict Access to Specific Clusters/Federated 
     Database Instances` to :guilabel:`ON`.

  #. Select the clusters and {+fdi+}\s to grant the group access to 
     from the :guilabel:`Grant Access To` list.
---
stepnum: 6
ref: oidc-save-temp-user
title: Save as temporary user or group.
level: 4
optional: true
content: |
  Toggle :guilabel:`Temporary User` or :guilabel:`Temporary Group` to 
  :guilabel:`On` and choose a time after which |service| can delete the user 
  or group from the :guilabel:`Temporary User Duration` or 
  :guilabel:`Temporary Group Duration` dropdown. You can select one of the
  following time periods for the group to exist:

  - 6 hours
  - 1 day
  - 1 week

  In the :guilabel:`Database Users` tab, temporary users or groups display
  the time remaining until |service| will delete the users or group. Once
  |service| deletes the user or group, any client or application that uses
  the temporary user's or group's credentials loses access to the cluster.
---
stepnum: 7
ref: oidc-add-group
title: Add the new database user or group.
level: 4
content: |
  If you added a user, click the :guilabel:`Add User` button. If you added a group, click the :guilabel:`Add Group` button.
...

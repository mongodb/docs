.. _embedding-charts:

========================================
Embedding Charts in Your Web Application
========================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Overview
--------

As a dashboard :ref:`Author <dashboard-permissions>`, you can enable
embedding on your charts, allowing your visualizations to be embedded
in external web sites. You can either require a verified
signature to accompany each data request, or allow anyone with the
chart's identifying information to embed it in a web page.

If you want strict control over who can embed your charts, use the
:guilabel:`Verified Signature Required` option. If your data
is non-sensitive and you prefer a simpler embedding solution, use the
:guilabel:`Unauthenticated Access` option.

.. note::

   You can enable chart embedding with the verified signature
   required option even if you don't currently have an :ref:`embedding
   key <admin-settings>`, but you'll need a key to generate a
   verified signature. If you are a `Project Owner
   <https://docs.atlas.mongodb.com/reference/user-roles/#project-roles>`__
   for your Atlas project, you can generate an embedding key on the
   :ref:`Admin Settings <admin-settings>` page. Otherwise, you must
   contact the Atlas Project Owner and ask for an embedding key.

.. _embedding-procedure:

Procedure
---------

.. tabs::

   tabs:
     - id: unauthenticated
       name: Unauthenticated Access
       content: |

         .. include:: /includes/steps/embed-chart-unauthenticated.rst

     - id: verified-signature
       name: Verified Signature Required
       content: |

         .. include:: /includes/steps/embed-chart-verified.rst

Embedded Charts Error Codes
---------------------------

If an embedded chart fails to render, an error code is displayed:

.. list-table::
   :header-rows: 1
   :widths: 20 80

   * - Error Code
     - Error Cause

   * - ``-1``
     - Unknown error.

   * - ``1``
     - Invalid tenant ID. Check the ``tenant`` field in the iframe
       HTML and make sure it matches what you see in the
       :ref:`Embed Chart <embedding-procedure>` modal window. 

   * - ``2``
     - Item not found. Check the ``id`` field in the iframe
       HTML and make sure it matches what you see in the
       :ref:`Embed Chart <embedding-procedure>` modal window.

   * - ``3``
     - Embedding not enabled. Check the settings in your chart's
       :ref:`Embed Chart <embedding-procedure>` modal window.

   * - ``4``
     - Embedding not allowed. Check the embedding settings in your
       chart's :ref:`data source <data-source-embedding>`.

   * - ``5``
     - Invalid payload. Your application server is not creating a
       usable :ref:`signature <admin-settings>`.

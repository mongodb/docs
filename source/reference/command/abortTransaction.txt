================
abortTransaction
================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Definition
----------

.. dbcommand:: abortTransaction

   .. versionadded:: 4.0

   Terminates the :doc:`multi-document transaction
   </core/transactions>` and rolls back any data changes made by the
   operations within the transaction. That is, the transaction ends
   without saving any of the changes made by the operations in the
   transaction.

   .. |method| replace:: :method:`Session.abortTransaction`
      helper method
   .. include:: /includes/fact-dbcommand-tip.rst

   To run the :dbcommand:`abortTransaction`, the command must be run
   against the ``admin`` database and run within a
   :method:`Session`. 

   The command has the following syntax:

   .. code-block:: javascript

      {
        abortTransaction: 1, 
        txnNumber: <long>,
        writeConcern: <document>,
        autocommit: false
      }

Behavior
--------

Atomicity
~~~~~~~~~

When a transaction aborts, all data changes made by the writes in the
transaction are discarded without ever becoming visible and the
transaction ends.

Security
~~~~~~~~

If running with :doc:`auditing </core/auditing>`, operations in an
aborted transaction are still audited.
  

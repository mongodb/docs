==============================================
Configure Users and Groups with LDAP for |mms|
==============================================

.. default-domain:: mongodb

.. important::

   You must start with a fresh installation of the latest version of MMS.
   There is no method for converting an existing |mms| deployment to use LDAP
   user management.

Overview
--------

You can configure |mms| to use a Lightweight Directory Access Protocol (LDAP)
service to manage user authentication. Users log in using the standard MMS
interface. |mms| synchronizes user name and email addresses in |mms| user records
with the values in LDAP user records.

User Authentication
~~~~~~~~~~~~~~~~~~~

When a user logs in, |mms| searches LDAP for a matching user. To perform the
search, |mms| logs into LDAP as the "search" user, using the credentials
specified in the :setting:`mms.ldap.bindDn` and
:setting:`mms.ldap.bindPassword` settings in the :doc:`|mms| configuration file
</reference/configuration>`.

|mms| searches LDAP within the base distinguished name defined in the
:setting:`mms.ldap.user.baseDn` setting of the |mms| configuration file and
matches the user according to the LDAP attribute defined in the
:setting:`mms.ldap.user.searchAttribute` setting. If a matching user is found,
|mms| authenticates the supplied password against the LDAP password.

Access Control
~~~~~~~~~~~~~~

LDAP groups let you control access to MMS. You map LDAP groups to |mms| roles
and assign the LDAP groups to the users who should have those roles.

To use LDAP groups effectively, :doc:`create additional |mms| groups
</tutorial/create-group>` to control access to specific deployments in your
organization. For example, create separate |mms| groups for development
environments and for production environments. Provide access to a deployment
by mapping an LDAP group to a role in the |mms| group.

This tutorial describes how to map LDAP groups to global |mms| roles and to
group-level |mms| roles. You do the former through the :doc:`|mms| configuration
file </reference/configuration>` and the latter through the |mms| interface.

Global Owner Access
~~~~~~~~~~~~~~~~~~~

Your LDAP installation must include a group that you can assign to the
|mms| :setting:`mms.ldap.global.role.owner` setting. The first user to log into MMS
with LDAP authentication must belong to this LDAP group. This user will also create
the initial |mms| group.

For example, if LDAP has an ``admin`` group for use by |mms| administrators, set
the :setting:`mms.ldap.global.role.owner` property to ``admin`` during the
appropriate step in the procedure below.

Prerequisites
-------------

The :ref:`<mms-application-package>` must be installed
and configured. You must either start with a new |mms| installation or reset
your installation to a clean state. For assistance, contact your MongoDB
account manager.

The LDAP server must be installed, configured, and accessible to MMS.

Procedure
---------

.. include:: /includes/steps/configure-ldap-authentication.rst

.. _compass-data-modeling-relationships:

========================================================
Manage Relationships in Your |compass-short| |erd-title|
========================================================

.. facet::
   :name: genre
   :values: tutorial

.. meta:: 
   :description: Manually add, modify, and delete relationships between fields in your Compass entity-relationship diagram.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can manually define relationships between fields across different 
collections in your |compass-short| |erd|.

.. note:: 

   .. include:: /includes/shared/fact-dm-annotation.rst

About this Task 
---------------

You can manually add relationships to your |erd| by using 
one of the following methods: 

- **Side Panel**: Manually add a relationship by selecting a source collection.

- **Drag and Drop**: Create a relationship by clicking and dragging from one 
  collection to another.

In addition to specifying collection and field properties for each relationship, 
you can also specify **cardinality**. In data modeling, cardinality refers to 
the number of records in one collection that can relate to one or more records 
in another collection. Cardinality can help you decide whether to :ref:`embed 
<data-modeling-embedding>` or :ref:`reference <data-modeling-referencing>` data 
in your data model. To learn more, see :ref:`data-modeling-relationships`.

Before You Begin
----------------

To add relationships, ensure you have already 
:ref:`generated a diagram <compass-data-modeling>`.

Steps
-----

To learn how to add relationships to your |erd|, select 
the tab corresponding to your preferred method:

.. tabs:: 

   .. tab:: Side Panel
      :tabid: side-panel
      
      .. procedure::
         :style: normal
         
         .. step:: Open your |erd|

            From the :icon-lg:`Diagram` :guilabel:`Data Modeling` tab, open your
            |erd|.

         .. step:: Open the collection side panel
            
            Click one of your collection nodes in the diagram. The 
            collections side panel opens on the right side of the 
            screen.
            
         .. step:: Click Add Relationship

            In the side panel's :guilabel:`Relationship` tab, click 
            :guilabel:`Add Relationship`.

         .. step:: Specify Relationship Properties

            .. include:: /includes/data-modeling-relationship-fields.rst

            |compass-short| automatically saves and updates your changes as you 
            make them.

         .. include:: /includes/step-annotate-relationship.rst

   .. tab:: Drag and Drop
      :tabid: drag-drop

      .. procedure::
         :style: normal

         .. step:: Open your |erd|

            From the :icon-lg:`Diagram` :guilabel:`Data Modeling` tab, open your
            |erd|.

         .. step:: Click the :icon-lg:`Relationship` icon 

            In the upper-left corner of the diagram view, click the 
            :icon-lg:`Relationship` icon to enable drag-and-drop relationship 
            creation.
            
         .. step:: Click one collection and drag it to another

            When you click a collection and drag it to another, 
            |compass-short| opens the side panel and displays the 
            :guilabel:`Relationship Properties` tab.

         .. step:: Specify Relationship Properties

            .. include:: /includes/data-modeling-relationship-fields.rst

            |compass-short| automatically saves and updates your changes as you 
            make them. 

         .. include:: /includes/step-annotate-relationship.rst
            
After you create a relationship, |compass-short| displays each relationship in 
the :guilabel:`Relationships` tab.

Delete Relationships
~~~~~~~~~~~~~~~~~~~~

To delete a relationship from your |erd|:

.. procedure:: 
   :style: normal 

   .. step:: Open the relationship side panel 
      
      Click on the relationship in the diagram. The relationship side panel 
      opens on the right side of the screen.

   .. step:: Select the relationship to delete

      In the :guilabel:`Relationship Properties` tab, click the :icon-lg:`Trash` 
      :guilabel:`Delete` button.

Next Steps
----------

- :ref:`compass-data-modeling-export`

Learn More 
----------

- :ref:`compass-data-modeling`

.. _mongodb-users-roles-and-privledges:
.. _mongodb-users-roles-and-privileges:

=============================
Built-In Roles and Privileges
=============================

.. default-domain:: mongodb

.. facet::
   :name: genre
   :values: reference

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The available |service| :ref:`built-in roles <atlas-user-privileges>`
and :ref:`specific privileges <atlas-specific-privileges>` support a
subset of MongoDB commands. See :ref:`paid-tier-command-limitations`
for more information.

.. _atlas-user-privileges:

Built-in Roles
--------------

.. Attention writers: If you make changes to the following built-in role
.. info please check the related procedures in the following Server
.. docs page(s) to see if they require changes as well: 
.. www.mongodb.com/docs/manual/reference/built-in-roles/

The following table describes the |service| built-in roles and the
:manual:`MongoDB Roles </core/security-built-in-roles>` they
represent. Refer to :ref:`built-in-roles` for a full description of the 
:manual:`privilege actions </reference/privilege-actions>` that each role 
includes.

.. note:: Protected MongoDB Database Namespaces

   The following databases are read-only for *all* users, including
   those with the :atlasrole:`atlasAdmin` or :authrole:`clusterMonitor` 
   role.

   - ``local``
   - ``config``

   We discourage writing to the ``admin`` database. |service| manages multiple 
   collections in the ``admin`` database, and these collections are read-only for 
   all users.
   
   :atlasrole:`atlasAdmin` has the :authaction:`update` privilege on 
   the ``config.settings`` collection to manage the balancer.

.. list-table::
   :header-rows: 1

   * - |service| Built-in Role
     - MongoDB Role
     - Inherited Roles or Privilege Actions

   * - .. atlasrole:: Atlas admin
     - .. atlasrole:: atlasAdmin
     -  
       
       This role allows you to use
       :dbcommand:`setQuerySettings`,
       :dbcommand:`removeQuerySettings`, and :pipeline:`$querySettings`.      
       
       - :authrole:`readWriteAnyDatabase`
       - :authrole:`dbAdminAnyDatabase`
       - :authrole:`clusterMonitor`
       - :authaction:`querySettings`
       - :authaction:`viewRole`
       - :authaction:`moveChunk`
       - :authrole:`enableSharding`
       - :authaction:`cleanupOrphaned`
       - :authaction:`flushRouterConfig`
       - :authaction:`checkMetadataConsistency`
       - :authrole:`backup`

   * - .. atlasrole:: Read and write to any database
     - ``readWriteAnyDatabase``
     -
       - :authrole:`readWriteAnyDatabase`

   * - .. atlasrole:: Only read any database
     - ``readAnyDatabase``
     -
       - :authrole:`readAnyDatabase`

   * - .. atlasrole:: backup
     - ``backup``
     - 
       - :authrole:`backup`

   * - .. atlasrole:: clusterMonitor
     - ``clusterMonitor``
     - 
       - :authrole:`clusterMonitor`

   * - .. atlasrole:: dbAdmin
     - ``dbAdmin``
     - 
       - :authrole:`dbAdmin`

   * - .. atlasrole:: dbAdminAnyDatabase
     - ``dbAdminAnyDatabase``
     - 
       - :authrole:`dbAdminAnyDatabase`

   * - .. atlasrole:: enableSharding
     - ``enableSharding``
     - 
       - :authaction:`enableSharding`

   * - .. atlasrole:: read
     - ``read``
     - 
       - :authrole:`read`

   * - .. atlasrole:: readWrite
     - ``readWrite``
     - 
       - :authrole:`readWrite`
      
   * - .. atlasrole:: readWriteAnyDatabase
     - ``readWriteAnyDatabase``
     - 
       - :authrole:`readWriteAnyDatabase`

   * - .. atlasrole:: readAnyDatabase
     - ``readAnyDatabase``
     - 
       - :authrole:`readAnyDatabase`

To learn more about common commands that |service| doesn't support
with the current |service| user privileges, see
:ref:`paid-tier-command-limitations`

.. _atlas-specific-privileges:

Specific Privileges
-------------------

``killOpSession`` is specific to |service| and applies to any user-configured database. 

It inherits the following :manual:`privilege actions
</reference/privilege-actions>`:

- :authaction:`inprog`
- :authaction:`killop`
- :authaction:`killAnySession`
- :authaction:`killCursors`
- :authaction:`listSessions`

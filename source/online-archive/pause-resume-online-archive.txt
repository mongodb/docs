.. _pause-resume-online-archive:

==========================
Pause and Resume Archiving
==========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/serverless-preview-dont-use.rst

You can pause and resume archiving from the {+atlas-cli+}, {+atlas-ui+},and |api|. 
When you pause, previously archived documents continue to be available 
on the cloud object storage for querying, but archiving activity for 
the collection on your |service| cluster is stopped until you resume 
archiving. Also, |service| pauses data expiration until you resume. You 
will continue to incur costs for storage on the cloud object storage 
and for reading data. When you resume archiving, data that meets the 
criteria for archiving is archived and archived data that meets the 
deletion age limit is deleted. 

You can pause an online archive and create another online archive for 
the same namespace and partition fields as the paused online archive, 
but only one online archive can be ``Active``. If you try to resume 
a paused online archive when another online archive for the same 
namespace is ``Active``, the resume operation will fail. You must 
either delete or pause the ``Active`` online archive to resume 
archiving for the paused online archive.

.. _pause-online-archive-atlas-cli:

Pause Archiving Through the {+atlas-cli+}
-----------------------------------------

.. include:: /includes/extracts/atlas-clusters-onlineArchives-pause.rst

.. _pause-resume-online-archive-api:

Pausing and Resuming Through the API
------------------------------------

To pause an active online archive or resume a paused online 
archive through the |api|, send a ``PATCH`` request to the 
:ref:`onlineArchives <api-online-archive>` endpoint with the unique ID 
of the online archive to pause or resume. To learn more about the |api| 
syntax and options, see :ref:`api-online-archive-update-one`.

.. _pause-online-archive-ui:

Pause Archiving Through the UI 
------------------------------

To pause archiving, in your {+atlas-ui+}: 

.. include:: /includes/steps/pause-online-archive.rst

.. _resume-online-archive-atlas-cli:

Resume Archiving Through the {+atlas-cli+}
------------------------------------------

.. include:: /includes/extracts/atlas-clusters-onlineArchives-start.rst

.. _resume-online-archive-ui:

Resume Archiving Through the UI 
-------------------------------

To resume archiving, in your {+atlas-ui+}:

.. include:: /includes/steps/resume-online-archive.rst


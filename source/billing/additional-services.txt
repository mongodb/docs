===================
Additional Services
===================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/styles/corrections.rst

.. _data-lake-billing:

|service| |data-lake| (Beta)
----------------------------

|service| |data-lake| incurs costs for the amount of data scanned and
returned by the service.

Total Data Scanned
~~~~~~~~~~~~~~~~~~

|service| charges for the total number of bytes that |data-lake| scans
from your |aws| S3 buckets, rounded up to the nearest megabyte.
|service| charges **$5.00 per TB** of scanned data, with a minimum of
**10 MB** or **$0.00005 per query**.

You can use partitioning strategies and compression in |aws| S3 to
reduce the amount of data scanned.

Total Data Returned
~~~~~~~~~~~~~~~~~~~

|service| charges for the total number of bytes returned by
|data-lake|. This total is the sum of the following data transfers:

- The number of bytes transferred between |data-lake| service nodes
- The number of bytes transferred from |data-lake| to the client

Returned data is billed as outlined in the :guilabel:`Data Transfer
Fees` section of the |service-pricing|_. The cost of data transfer
depends on the Cloud Service Provider charges for same-region,
region-to-region, or region-to-internet data transfer.

.. _advanced-security:

Advanced Security
-----------------

|service| supports
:doc:`Encryption at Rest via customer KMS </security-kms-encryption>`
and :doc:`LDAP User Authentication and Authorization </security-ldaps>`
in |service| projects and clusters.

Excluding |service-fullname| Enterprise and |service-fullname| Platinum
customers, |service| charges a 45% uplift to the cost of each cluster
with **LDAP User Authentication and Authorization** and/or
**Encryption at Rest via customer KMS** enabled.

Configuring **LDAP User Authentication and Authorization** for a
project enables the feature for all clusters in the project.
Configuring **Encryption at Rest via customer KMS** for a project
allows enabling/disabling the feature on per cluster basis.

.. _privatelink-billing:

{+aws-pl+}
---------------

MongoDB |service| supports private endpoints on |aws| using the
`{+aws-pl+} <https://aws.amazon.com/privatelink/>`__ feature.

|service| charges you based on your usage across these dimensions:

- |service| :ref:`Private Endpoint <privatelink-billing-endpoint>`: The
  sum of the hourly costs incurred to host private endpoints in all
  |aws| regions.
- |service| :ref:`Private Endpoint Capacity Units <privatelink-billing-cu>`:
  The sum of the hourly costs incurred to
  process traffic to private endpoints.

In addition to the costs |service| charges you, |aws| charges you for
each |vpc| interface endpoint you create. To ensure cluster
availability in the event of a widespread network outage, create |vpc|
interface endpoints in at least two availability zones per region.
|aws| also charges you for the data volume each |vpc| interface
endpoint processes.

.. seealso::

   `AWS PrivateLink Pricing <https://aws.amazon.com/privatelink/pricing/>`__.

.. _privatelink-billing-endpoint:

|service| Private Endpoint
~~~~~~~~~~~~~~~~~~~~~~~~~~

|service| charges hourly for each region to which you deploy a private
endpoint. The :ref:`hourly cost <pl-region-rates>` varies by region.

.. _privatelink-billing-cu:

|service| Private Endpoint Capacity Units
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Additionally, |service| charges you per hour based on the traffic that
your private endpoint processes. The :ref:`hourly cost
<pl-region-rates>` varies based on the amount of traffic and the region
to which your private endpoint is deployed.

|service| private endpoint capacity units measure the dimensions on
which the |service| private endpoint processes your traffic. The
dimensions measured are:

- **New connections or flows**: Number of newly established connections
  or flows per second.
- **Active connections or flows**: Peak concurrent connections or
  flows, sampled per minute.
- **Processed bytes**: The number of bytes processed by the private
  endpoint in Gigabytes (GB).

For TCP traffic, an |service| private endpoint capacity unit contains:

- **New connections or flows**: 800 new TCP connections per second.
- **Active connections or flows**: 100,000 active TCP connections
  (sampled per minute).
- **Processed bytes**: 1 GB per hour.

For UDP traffic, an |service| private endpoint capacity unit contains:

- **New connections or flows**: 400 new UDP flows per second.
- **Active connections or flows**: 50,000 active UDP flows (sampled
  per minute).
- **Processed bytes**: 1 GB per hour.

For TLS traffic, an |service| private endpoint capacity unit contains:

- **New connections or flows**: 50 new TLS connections or flows per
  second.
- **Active connections or flows**: 3,000 active TLS connections or
  flows (sampled per minute).
- **Processed bytes**: 1 GB per hour.

|service| charges you only for the dimension that has the highest usage
during each hour across all traffic types.

.. example::

   This provides a breakdown of costs for one hour of |tls| network traffic to a private endpoint in the ``us-east-1`` region:

   .. list-table::
      :header-rows: 1
      :widths: 50 25 25

      * - Dimension
        - Amount
        - |service| Private Endpoint Capacity Units Consumed

      * - New connections or flows
        - 25
        - .50

      * - Active connections or flows
        - 1500
        - .50

      * - Processed bytes
        - 2.5 GB
        - 2.5

The **Processed bytes** dimension has the largest capacity unit
consumption rate. For this hour, |service| charges you the following
for using |service| private endpoint capacity units in the
``us-east-1`` region:

.. list-table::
   :header-rows: 1

   * - Capacity Units
     - Region Rate per Capacity Unit
     - Total

   * - 2.5
     - $0.0450
     - $0.1125

.. _pl-region-rates:

{+aws-pl+} Rates by Region
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

|service| rates for using the {+aws-pl+} feature vary by region:

.. note::

   The rates listed below are in addition to what |aws| charges you for
   each |vpc| interface endpoint you create.

   .. seealso::

      `AWS PrivateLink Pricing <https://aws.amazon.com/privatelink/pricing/>`__.

.. list-table::
   :header-rows: 1
   :widths: 40 30 30

   * - |AWS| region
     - Hourly Cost per Private Endpoint
     - Cost per |service| Private Endpoint Capacity Unit

   * - ``us-east-1`` N. Virginia
     - $0.0450
     - $0.0120

   * - ``us-east-2`` Ohio
     - $0.0450
     - $0.0120

   * - ``us-west-1`` N. California
     - $0.0504
     - $0.0120

   * - ``us-west-2`` Oregon
     - $0.0450
     - $0.0120

   * - ``ca-central-1`` Canada
     - $0.0495
     - $0.0132

   * - ``sa-east-1`` Sao Paulo
     - $0.0680
     - $0.0165

   * - ``eu-north-1`` Stockholm
     - $0.0479
     - $0.0114

   * - ``eu-west-1`` Ireland
     - $0.0504
     - $0.0120

   * - ``eu-west-2`` London
     - $0.0529
     - $0.0120

   * - ``eu-west-3`` Paris
     - $0.0529
     - $0.0126

   * - ``eu-central-1`` Frankfurt
     - $0.0540
     - $0.0120

   * - ``me-south-1`` Bahrain
     - $0.0554
     - $0.0132

   * - ``ap-northeast-1`` Tokyo
     - $0.0486
     - $0.0120

   * - ``ap-northeast-2`` Seoul
     - $0.0450
     - $0.0120

   * - ``ap-south-1`` Mumbai
     - $0.0478
     - $0.0120

   * - ``ap-southeast-1`` Singapore
     - $0.0504
     - $0.0120

   * - ``ap-southeast-2`` Sydney
     - $0.0504
     - $0.0120

   * - ``ap-east-1`` Hong Kong
     - $0.0554
     - $0.0132

.. _database-auditing:

Database Auditing
-----------------

|service| supports database auditing. To learn more, see
:doc:`Set up Database Auditing </database-auditing>`.

Excluding |service-fullname| Enterprise and |service-fullname| Platinum
customers, |service| charges a 30% uplift in the hourly cost of all
dedicated clusters for projects using Database Auditing.

.. _sitch-for-atlas:

Stitch for Atlas
----------------

|stitch-docs| applications may incur data transfer and compute costs
for each application in a project. If you have Stitch applications in
your organization, your invoice includes these costs as a line item.

.. seealso:: :stitch:`Stitch Billing </billing/>`.

.. _charts-for-atlas:

Charts for Atlas
----------------

Charts on |service| is billed based on the volume of data transferred
from the Charts web server to web browser clients. Each Charts instance
comes with a free ``1 GB`` of data transfers per month. Once the ``1
GB`` of free data usage has been consumed, all subsequent GBs of data
transfers are billed at a fixed rate. 

.. seealso:: :charts:`Charts on Atlas Pricing </pricing>`.

Support Plan
------------

If you have an upgraded :doc:`support plan </support>`, the total
support cost for the month is listed in the :guilabel:`Summary` section
of your invoice. Support cost line items are listed in the
:guilabel:`Details` section.

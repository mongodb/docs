=====================
|mms| Users and Teams
=====================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. index:: users

Overview
--------

To access |a-mms| organization or the project within that organization,
|a-mms| user must be a member of that organization. Depending on the
user's :ref:`role in the organization <organization-roles>`, the |mms|
user may be required to be a member of the project as well to access a
project.

|A-mms| user can be a member of multiple projects and multiple
organizations. If |a-mms| user is a member of a project, the user's
access to the project is determined by the user's :ref:`project role
<project-roles>`.

Within an organization, you can group users into teams. Users can
belong to multiple teams. Teams can be assigned to multiple projects.
The team's :ref:`project role <project-roles>` sets the team members'
access to the project.

.. note::

   |mms| users are separate from :doc:`MongoDB users
   </tutorial/manage-mongodb-users>`.

Create |mms| Users
------------------

.. only:: cloud

   Users can create accounts using:

   - The |mms| `account registration page <https://cloud.mongodb.com/user/register>`_
     or
   - `jira.mongodb.org <http://jira.mongodb.org/>`_.

   .. note::

      If you create an account in |jira| or make any changes to that
      account from *within* |jira|, it can take up to 30 minutes for
      that change to propagate to |mms|. During this window you cannot
      add the user to a project in |mms|. Also, passwords changed in
      |jira| are subject to the same propagation delay for |mms|
      accounts.

.. only:: onprem

   If your |mms| installation has disabled 
   :setting:`Invitation Only Mode`, 
   users can create accounts using the |mms| account registration page 
   without an invite.

|mms| projects and organizations are invitation only. Users must receive
and accept an invitation from the |application| to join a project or
organization.

- To invite a new user to a project, see :ref:`add-users-to-project`.
- To invite a new user to an organization, see 
  :ref:`add-users-to-org`. 

Manage Organization Users
-------------------------

.. _add-users:
.. _add-users-to-org:

Add Users to an Organization
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To add users to an :doc:`organization </tutorial/manage-organizations>`, 
you must have the :authrole:`Organization Owner` role for the 
organization.

.. include:: /includes/steps/add-user-org.rst

View Organization Users and Pending Invitations
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To view users for a project:

1. Go to the organization.
#. Click on :guilabel:`Users`.

This page lists:

- Users who are members of your |mms| organization.
- Pending users who have not yet replied to the invitation to join the 
  organization or project within the organization.

When you invite a user to join an organization or a project, |mms| then
sends an email to the prospective new user. 

To cancel an invitation, click on the trash can icon.

Edit Organization User's Role
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To modify the role of an organization user, you must have the
:authrole:`Organization Owner` role for the organization.

To edit roles through |mms|, for the organization:

#. Click on :guilabel:`Users`.

#. For the organization user to modify, click :guilabel:`Edit Role`.

#. Select the :ref:`new role <organization-roles>` for the user and
   click on the checkmark to save.

Remove Organization Users
~~~~~~~~~~~~~~~~~~~~~~~~~

To remove users from an :doc:`organization
</tutorial/manage-organizations>`, you must have the
:authrole:`Organization Owner` role for the organization.

.. note::

   You cannot remove the last :authrole:`Organization Owner` from an
   organization.

.. include:: /includes/steps/remove-user-org.rst

.. _manage-teams:

Manage Organization Teams
-------------------------

For an organization, you can group its users into teams to faciliate
adding multiple users to projects. You assign project access at the
team level. All users in the team share the same project access.

Organization users can belong to multiple teams.

.. _create-team:

Create a Team
~~~~~~~~~~~~~

.. important::

   To create a team for an organization, you must have
   :authrole:`Organization Owner` access.

.. include:: /includes/steps/create-team.rst

.. _edit-team-members:

Manage Team Members
~~~~~~~~~~~~~~~~~~~

.. important::

   To add users to a team or to delete users from a team, you must have
   :authrole:`Organization Owner` access.

.. include:: /includes/steps/manage-team.rst

.. _rename-team:

Rename a Team
~~~~~~~~~~~~~

.. important::

   To rename a team for an organization, you must have
   :authrole:`Organization Owner` access.


.. include:: /includes/steps/rename-team.rst

.. _delete-team:

Delete a Team
~~~~~~~~~~~~~

.. important::

   To delete a team for an organization, you must have
   :authrole:`Organization Owner` access.

.. include:: /includes/steps/delete-team.rst

Manage Project Users and Teams
------------------------------

View Users/Teams for a Project
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To view users/teams for a project, go to the project and click
:guilabel:`Users & Teams`. The page lists the project's users and
teams, their project roles, and other information. The page also lists
any outstanding invitations to users to join the project and any
requests from users who want to join the project. A user can request to
join a project when first registering for |mms|.

.. _add-users-to-project:

Add Users/Teams to a Project
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To add users or teams to a :doc:`project </tutorial/manage-projects>`,
you must have project :authrole:`Owner` access or project
:authrole:`User Admin` access.

.. include:: /includes/steps/add-user.rst

.. only:: cloud

   If the |mms| finds a connected |jira| account, |mms| adds the user to 
   the |jira| group associated to the |mms| project and organization.

.. note::

   If the added user does not belong to the project's organization, 
   |mms| add the user to the organization.

View User's Project Invitations
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

When you invite a user to join a project, |mms| sends an email to the
prospective new user. 

- To view invitations sent but not yet accepted, click on 
  :guilabel:`Users & Teams`. The page lists any users with pending 
  invitations.

- To cancel an invitation, click the trash can icon to the right of the 
  user's name.

Remove Users/Teams from a Project
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To remove users or teams from a :doc:`project
</tutorial/manage-projects>`, you must have project :authrole:`Owner`
access or project :authrole:`User Admin` access.

.. include:: /includes/steps/remove-user.rst

.. index:: users; roles

.. _assign-roles-to-users:

Edit Project Role for a User/Team
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To modify the project role for a user or a team, you must have either
project :authrole:`Owner` access or project :authrole:`User Admin`
access.

.. include:: /includes/extracts/manage-users-assign-roles.rst

To edit roles through |mms|, for the project:

#. Click on :guilabel:`Users & Teams`.

#. For the user or the team, click :guilabel:`Edit Role`.

#. Click the appropriate checkboxes to assign :doc:`roles </reference/user-roles>`.

#. Click :guilabel:`Save`.

.. include:: /includes/extracts/manage-users-ldap.rst

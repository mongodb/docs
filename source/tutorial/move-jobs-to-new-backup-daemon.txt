==============================================================
Move Jobs from a Lost Backup Service to another Backup Service
==============================================================

.. default-domain:: mongodb

Overview
--------

If the server running a :ref:`Backup Daemon <backup-daemon>` fails, and if
you :doc:`run multiple Backup Daemons
</tutorial/configure-backup-high-availability>`, then an administrator
with the ``global owner`` or ``global backup admin`` :doc:`role
</reference/user-roles>` can move all the daemon's jobs to one of the
other Backup Daemons. The new daemon takes over the responsibility to back
up the associated :term:`shards <shard>` and :term:`replica sets <replica
set>`.

When you move jobs, the destination server reconstructs the data using a
snapshot and the :term:`oplog` from the :ref:`Backup Blockstore Database
<mms-backup-blockstore-database>`. Reconstruction of data can be a lengthy
process, depending on the size of the databases on the source.

During the time it takes to reconstruct the data and reassign the backups
to the new Backup Daemon:

- MMS Backup does not take new snapshots of the jobs that are moving until
  the move is complete. Jobs that are not moving are not affected.

- MMS Backup *does* save incoming oplog data. Once the jobs are on the new
  Backup Daemon's server, MMS Backup takes the missed snapshots at the
  regular snapshot intervals.

- Restores of previous snapshots are still available.

- Restores to any time from an existing snapshot to the present can be
  performed using :doc:`point-in-time recovery
  </tutorial/restore-from-point-in-time-snapshot>` for :term:`replica sets
  <replica set>` or :ref:`checkpoints <checkpoints>` for :term:`sharded
  clusters <sharded cluster>`.

Procedure
---------

If you have administrative privileges for the MMS deployment, move jobs by
doing the following:

.. include:: /includes/steps/move-jobs-to-new-backup-daemon.rst

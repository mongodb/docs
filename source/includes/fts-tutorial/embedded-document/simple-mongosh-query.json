db.schools.aggregate({
  "$search": {
    "embeddedDocument": {
      "path": "teachers",
      "operator": {
        "compound": {
          "must": [{
            "text": {
              "path": "teachers.first",
              "query": "John"
            }
          }],
          "should":[{
            "text": {
              "path": "teachers.last",
              "query": "Smith"
            }
          }]
        }
      }
    }
  }
},
{
  "$project": {
    "_id": 1,
    "teachers": 1,
    "score": { $meta: "searchScore" }
  }
})
.. index:: alerts

=============
Manage Alerts
=============

Overview
--------

You can manage alerts and alert configurations from the
:guilabel:`Activity` tab. An alert configuration defines the conditions
that trigger an alert and defines the notifications to be sent.

.. I've edited the above to distinguish between alerts and alert
   configurations, per Mike Benoit's comments on pull 249 for ticket 2498.
   -bg, 2014-05-29

When a condition triggers an alert, users receive the alert at regular
intervals until the alert is resolved or canceled. Users can mark the
alert as acknowledged for a period of time but will again receive
notifications when the acknowledgment period ends if the alert condition
still exists.

Alerts end when the alert is resolved or canceled. An alert is resolved,
also called "closed," when the condition that triggered the alert has been
corrected. MMS sends users a notification at the time the alert is
resolved.

An alert is canceled if the alert configuration that triggered the alert
is deleted or disabled, or if the target of the alert is removed from the
system. For example, if you have an open alert for "Host Down" and you
delete that host from MMS, then the alert is canceled. When an alert is
canceled, MMS does not send a notification and does not record an entry in
the :doc:`activity feed </core/activity>`.

Manage Alert Configurations
---------------------------

View Alert Configurations
~~~~~~~~~~~~~~~~~~~~~~~~~

Alert configurations define the conditions that trigger alerts and the
notifications sent when alerts are triggered. MMS creates certain alert
configurations automatically when a new group is created.

To view alert configuratons, click the :guilabel:`Activity` tab and then
select the :guilabel:`Alert Settings` page.

Create or Clone an Alert Configuration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To create or clone an alert configuration, see
:doc:`/tutorial/create-alert`.

Modify an Alert Configuration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Each alert configuration has a distribution list, a frequency for sending
the alert, and a waiting period after an alert state triggers before
sending the first alert.

By default, an alert configuration sends alerts at 60-minute intervals.
You can modify the interval. The minimum interval is 5 minutes.

.. START-COMMENT

   Per Mike Benoit 12/17/2013, mms-docs Pull 80: The reason for the 5 minute
   minimum is that our alert processing job only executes every five minutes.
   Thus, setting this lower than 5 minutes wouldn't have any impact. This also
   means that only multiples of 5 make sense for this value.

.. END-COMMENT

.. include:: /includes/steps/alerts-edit.rst

Delete an Alert Configuration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/alerts-delete.rst

When you delete an alert configuration that has open alerts associated to
it, MMS cancels the open alerts and sends no further notifications. This
is true whether users have acknowledged the alerts or not.

Disable or Enable an Alert Configuration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/alerts-disable-enable.rst

When you disable an alert configuration it remains visible in a
*grayed out* state. MMS automatically cancels active
alerts related to a disabled alert configuration.
You can reactivate disabled alerts.

For example, if you have an alert configured for *Host Down* and you currently
have an active alert telling you a host is down, MMS automatically
cancels active *Host Down*  alerts if you disable the default
*Host Down* configuration. MMS will send no further alerts
of this type unless the disabled alert is re-enabled.

Manage Alerts
-------------

View Open Alerts
~~~~~~~~~~~~~~~~

To view open alerts, click the :guilabel:`Activity` tab and then select
:guilabel:`All Activity`. The :guilabel:`All Activity` page displays a
feed of all events tracked by MMS. If you have open alerts, the page
displays them above the feed.

Acknowledge an Open Alert
~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/alerts-acknowledge.rst

After you acknowledge the alert, MMS sends no further notifications to the
alert's distribution list until the acknowledgement period has passed or
until the alert is resolved. The distribution list receives *no*
notification of the acknowledgment.

If the alert condition ends during the acknowledgment period, MMS sends a
notification of the resolution. For example, if you acknowledge a
host-down alert and the host comes back up during the acknowledgement
period, MMS sends you a notification that the host is up.

If you configure an alert with PagerDuty, a third-party incident
management service, you can only acknowledge the alert on your PagerDuty
dashboard.

Unacknowledge an Acknowledged Alert
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/alerts-unacknowledge.rst

View Closed Alerts
~~~~~~~~~~~~~~~~~~

To view closed alerts, click the :guilabel:`Activity` tab and then select
:guilabel:`Closed Alerts`. The :guilabel:`Closed Alerts` page displays
alerts that users have closed explicitly or where the metric has dropped
below the threshold of the alert.

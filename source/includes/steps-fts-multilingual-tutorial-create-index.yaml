ref: fts-multilingual-tutorial-step1
level: 4
stepnum: 1
inherit:
  file: steps-source-project-nav.yaml
  ref: project-nav-search
---
ref: fts-multilingual-tutorial-step2
level: 4
stepnum: 2
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-fts-index
---
ref: fts-multilingual-tutorial-step3
level: 4
stepnum: 3
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: select-a-configuration-method
---
ref: fts-multilingual-tutorial-step4
level: 4
stepnum: 4
title: "Enter the :guilabel:`Index Name`, and set the :guilabel:`Database and Collection`." 
content: |

  a. In the :guilabel:`Index Name` field, enter ``multilingual-tutorial``.

     .. include:: /includes/default-fts-index-name.rst 

  #. In the :guilabel:`Database and Collection` section, find the 
     ``sample_mflix`` database, and select the ``movies`` collection.
---
ref: fts-multilingual-tutorial-step5
level: 4
stepnum: 5
title: "Specify an index definition."
content: |

  You can use the |fts| :guilabel:`Visual Editor` or the |fts| :guilabel:`JSON 
  Editor` in the |service| user interface to create the index. You can
  set up the index to analyze the ``fullplot`` field using the Italian
  language only or using both Italian and English languages.

  .. tabs:: 
  
     .. tab:: Visual Editor
        :tabid: vib

        a. Click :guilabel:`Refine Your Index`.
        #. In the :guilabel:`Field Mappings` section, click
           :guilabel:`Add Field` to display the :guilabel:`Add
           Field Mapping` window. 
        #. Select ``fullplot`` for the :guilabel:`Field Name`.
        #. In the settings for the data type, you can configure whether
           to analyze the field using the Italian language only or using
           both Italian and English languages. 
  
           .. tabs:: 

              .. tab:: Italian
                 :tabid: one language
              
                 #. Click the :guilabel:`Data Type` dropdown and select
                    :guilabel:`String`. 
                 #. Modify the the :guilabel:`Index Analyzer` and
                    :guilabel:`Search Analyzer` to use ``lucene.italian``
                    analyzer. 

                    i. From the :guilabel:`Index Analyzer` dropdown, select
                       ``lucene.language`` and then ``lucene.italian``. 
     
                    #. If :guilabel:`Search Analyzer` didn't automatically
                       update, from the :guilabel:`Search Analyzer`
                       dropdown, select ``lucene.language`` and then
                       ``lucene.italian``. 

              .. tab:: Italian and English
                 :tabid: two languages

                 #. Click the :guilabel:`Data Type` dropdown and select
                    :guilabel:`String`.
                 #. Modify the the :guilabel:`Index Analyzer` and
                    :guilabel:`Search Analyzer` to use ``lucene.italian``
                    analyzer. 

                    i. From the :guilabel:`Index Analyzer` dropdown, select
                       ``lucene.language`` and then ``lucene.italian``. 
     
                    #. If :guilabel:`Search Analyzer` didn't automatically
                       update, from the :guilabel:`Search Analyzer`
                       dropdown, select ``lucene.language`` and then
                       ``lucene.italian``. 

                 #. Click :guilabel:`Add Multi Field` to define another data type
                    for the ``fullplot`` field. 
                 #. Enter ``fullplot_english`` in the :guilabel:`Multi Field
                    Name` field. 
                 #. Modify the the :guilabel:`Index Analyzer` and
                    :guilabel:`Search Analyzer` to use ``lucene.english``
                    analyzer. 

                    i. From the :guilabel:`Index Analyzer` dropdown, select
                       ``lucene.language`` and then ``lucene.english``. 
     
                    #. If :guilabel:`Search Analyzer` didn't automatically
                       update, from the :guilabel:`Search Analyzer`
                       dropdown, select ``lucene.language`` and then
                       ``lucene.english``.
  
        #. Click :guilabel:`Add`.
        #. In the :guilabel:`Index Configurations` section, ensure 
           the following settings and make changes if needed: 
           
           - Use ``lucene.standard`` for :guilabel:`Index Analyzer` and
             :guilabel:`Search Analyzer`
           - Enable :guilabel:`Dynamic Mapping`

        #. Click :guilabel:`Save Changes`.

     .. tab:: JSON Editor
        :tabid: jsonib 
  
        a. Replace the default definition with the following:

           .. tabs:: 

              .. tab:: Italian
                 :tabid: one language

                 .. code-block:: json 

                    {
                      "analyzer": "lucene.standard",
                      "searchAnalyzer": "lucene.standard",
                      "mappings": {
                        "dynamic": true,
                        "fields": {
                          "fullplot": [
                            {
                              "analyzer": "lucene.italian",
                              "searchAnalyzer": "lucene.italian",
                              "type": "string"
                            }
                          ]
                        }
                      }
                    }

              .. tab:: Italian and English
                 :tabid: two languages

                 .. code-block:: json 

                    {
                      "analyzer": "lucene.standard",
                      "searchAnalyzer": "lucene.standard",
                      "mappings": {
                        "dynamic": true,
                        "fields": {
                          "fullplot": {
                            "type": "string",
                            "analyzer": "lucene.italian",
                            "searchAnalyzer": "lucene.italian",
                            "multi": {
                              "fullplot_english": {
                                "type": "string",
                                "analyzer": "lucene.english",
                                "searchAnalyzer": "lucene.english"
                              }
                            }
                          }
                        }
                      }
                    }
 
        #. Click :guilabel:`Next`.

---
ref: fts-multilingual-tutorial-step10
level: 4
stepnum: 6
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-search-index
---
ref: fts-multilingual-tutorial-step11
level: 4
stepnum: 7
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: close-in-progress
---
ref: fts-multilingual-tutorial-step12
level: 4
stepnum: 8
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: wait-for-index
---


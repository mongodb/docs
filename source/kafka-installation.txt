.. _kafka-installation:

===============================
Install MongoDB Kafka Connector
===============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Overview
--------

The MongoDB Kafka Connector build is available for both `Confluent Kafka
<https://www.confluent.io/product/confluent-platform/>`_ and `Apache Kafka
<https://kafka.apache.org/>`_ deployments.


Use the :ref:`Confluent Kafka installation instructions
<kafka-connector-install-confluent>` for a Confluent Kafka deployment or
the :ref:`Apache Kafka installation instructions
<kafka-connector-install-apache>` for an Apache Kafka deployment.

.. _kafka-connector-install-confluent:

Install the Connector for Confluent Kafka
-----------------------------------------

Install using the Confluent Hub Client
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1. Install the `Confluent Hub Client <https://docs.confluent.io/current/connect/managing/confluent-hub/client.html>`_
   if necessary.

2. Install the `MongoDB Connector for Apache Kafka <https://www.confluent.io/hub/mongodb/kafka-connect-mongodb>`_
   component using the Confluent Hub Client.

Install Manually
~~~~~~~~~~~~~~~~

1. Follow the directions on the Confluent page for `Manually Installing
   Community Connectors
   <https://docs.confluent.io/current/connect/managing/community.html#manually-installing-community-connectors/>`_.

2. Use the GitHub URL and uber JAR locations in the :ref:`installation
   reference table <kafka-connector-installation-reference>` when prompted
   in the Confluent manual installation instructions.

.. _kafka-connector-install-apache:

Install the Connector for Apache Kafka
--------------------------------------

1. Locate and download the uber JAR which is suffixed with ``all``
   to obtain all the dependencies required for the connector. Refer to the
   :ref:`installation reference table
   <kafka-connector-installation-reference>` for the uber JAR location.

2. Copy the uber JAR into the Kafka plugins directory:
   ``/usr/local/share/kafka/plugins/``

.. note::

   If you are running distributed worker processes, you must repeat this
   process for each server or VM.

.. _kafka-connector-installation-reference:

Installation Reference Table
----------------------------

.. list-table::
   :widths: 45 55
   :stub-columns: 1

   * - Connector GitHub repository
     -  `mongodb/mongo-kafka <https://github.com/mongodb/mongo-kafka>`_

   * - Uber JAR (Maven Central)
     - `mongo-kafka-connect
       <https://search.maven.org/artifact/org.mongodb.kafka/mongo-kafka-connect>`__

   * - Uber JAR (Sonatype OSS)
     - `mongodb-kafka
       <https://oss.sonatype.org/#nexus-search;quick~org.mongodb.kafka>`_

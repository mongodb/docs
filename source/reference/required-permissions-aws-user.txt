=================================
Required Permissions for AWS User
=================================

.. default-domain:: mongodb

The AWS user associated with the access keys entered in :guilabel:`AWS
Settings` must have certain permissions in AWS, as configured in an IAM
policy attached to the user. Without the correct permissions, the user
cannot provision AWS servers from MMS.

The AWS user must have an IAM policy that allows the following actions
with the following resources:

.. code-block:: none

   {
     "Statement": [
       {
         "Sid": "<sid>",
         "Effect": "Allow",
         "Action": ["iam:*AccessKey*"],
         "Resource": ["arn:aws:iam::*:user/<user-name>"]
       },

       {
         "Sid": "<other-id>",
         "Effect": "Allow",
         "Action": [
           "ec2:AttachVolume",
           "ec2:CreateKeyPair",
           "ec2:CreateSecurityGroup",
           "ec2:CreateTags",
           "ec2:CreateVolume",
           "ec2:DeleteKeyPair",
           "ec2:DeleteSecurityGroup",
           "ec2:DeleteTags",
           "ec2:DeleteVolume",
           "ec2:DescribeAccountAttributes",
           "ec2:DescribeAvailabilityZones",
           "ec2:DescribeInstanceAttribute",
           "ec2:DescribeInstanceStatus",
           "ec2:DescribeInstances",
           "ec2:DescribeKeyPairs",
           "ec2:DescribeRegions",
           "ec2:DescribeSecurityGroups",
           "ec2:DescribeSubnets",
           "ec2:DescribeTags",
           "ec2:DescribeVpcs",
           "ec2:DescribeVolumeAttribute",
           "ec2:DescribeVolumeStatus",
           "ec2:DescribeVolumes",
           "ec2:ImportKeyPair",
           "ec2:RunInstances",
           "ec2:StartInstances",
           "ec2:StopInstances",	
           "ec2:RebootInstances",
           "ec2:TerminateInstances"
         ],
         "Resource": [
           "*"
         ]
       }
     ]
   }

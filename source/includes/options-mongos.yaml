#  This file borrows content from:
#    /includes/options-shared.yaml
#    /includes/options-mongod.yaml
#
#  The {{program}} variable is generated by the system.
#
program: mongos
name: help
aliases: -h
inherit:
  name: help
  program: _shared
  file: options-shared.yaml
---
program: mongos
name: version
inherit:
  name: version
  program: _shared
  file: options-shared.yaml
---
program: mongos
name: config
inherit:
  name: config
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: configExpand
inherit:
  name: configExpand
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: verbose
inherit:
  name: verbose
  program: _shared
  file: options-shared.yaml
---
program: mongos
name: quiet
inherit:
  name: quiet
  program: _shared
  file: options-shared.yaml
---
program: mongos
name: port
inherit:
  name: port
  program: _shared
  file: options-shared.yaml
---
program: mongos
name: bind_ip
inherit:
  name: bind_ip
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: bind_ip_all
inherit:
  name: bind_ip_all
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: maxConns
args: <number>
directive: option
inherit:
  name: maxConns
  program: mongod
  file: options-mongod.yaml
post: |
  .. include:: /includes/fact-maxconns-mongos.rst

  .. include:: /includes/note-max-conns-max.rst

optional: true
---
program: mongos
name: objcheck
inherit:
  name: objcheck
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: logpath
inherit:
  name: logpath
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: logappend
inherit:
  name: logappend
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: timeStampFormat
inherit:
  name: timeStampFormat
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: setParameter
inherit:
  name: setParameter
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: syslog
inherit:
  name: syslog
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: syslogFacility
inherit:
  name: syslogFacility
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: pidfilepath
inherit:
  name: pidfilepath
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: keyFile
inherit:
  name: keyFile
  program: mongod
  file: options-mongod.yaml
replacement:
  auth_option: "``client authorization``"
---
program: mongos
name: nounixsocket
inherit:
  name: nounixsocket
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: unixSocketPrefix
inherit:
  name: unixSocketPrefix
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: filePermissions
inherit:
  name: filePermissions
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: fork
inherit:
  name: fork
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ipv6
inherit:
  name: ipv6
  program: mongod
  file: options-mongod.yaml

---
program: mongos
name: noscripting
inherit:
  name: noscripting
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: outputConfig
inherit:
  name: outputConfig
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: configdb
args: "<replicasetName>/<config1>,<config2>..."
directive: option
description: |

  .. versionchanged:: 3.2

  {{intro}} :ref:`configuration servers <sharding-config-server>` for the
  :term:`sharded cluster`.

  .. include:: /includes/fact-mirrored-config-servers-deprecated.rst

  Specify the config server replica set name and the hostname and port of
  at least one of the members of the config server replica set.

  .. code-block:: javascript

     sharding:
       configDB: <configReplSetName>/cfg1.example.net:27019, cfg2.example.net:27019,...

  The :binary:`~bin.mongos` instances for the sharded cluster must specify
  the same config server replica set name but can specify hostname and
  port of different members of the replica set.

optional: false
replacement:
  intro: "Specifies the"
---
program: mongos
name: localThreshold
args: null
default: 15
directive: option
description: |
  {{intro}} ping time, in milliseconds, that :binary:`~bin.mongos` uses
  to determine which secondary replica set members to pass read
  operations from clients. The default value of ``15`` corresponds to
  the default value in all of the client :ecosystem:`drivers
  </drivers>`.

  When :binary:`~bin.mongos` receives a request that permits reads to
  :term:`secondary` members, the :binary:`~bin.mongos` will:

  - Find the member of the set with the lowest ping time.

  - Construct a list of replica set members that is within a ping time of
    15 milliseconds of the nearest suitable member of the set.

    If you specify a value for the {{role}} option, :binary:`~bin.mongos` will
    construct the list of replica members that are within the latency
    allowed by this value.

  - Select a member to read from at random from this list.

  The ping time used for a member compared by the {{role}} setting is a
  moving average of recent ping times, calculated at most every 10
  seconds. As a result, some queries may reach members above the threshold
  until the :binary:`~bin.mongos` recalculates the average.

  See the :ref:`replica-set-read-preference-behavior-member-selection`
  section of the :doc:`read preference </core/read-preference>`
  documentation for more information.
optional: true
replacement:
  intro: "Specifies the"
---
program: mongos
name: ssl
inherit:
  name: ssl
  program: _shared
  file: options-shared.yaml
---
program: mongos
name: sslCertificateSelector
inherit:
  name: sslCertificateSelector
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsCertificateSelector <mongos --tlsCertificateSelector>`"
---
program: mongos
name: sslClusterCertificateSelector
inherit:
  name: sslClusterCertificateSelector
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsClusterCertificateSelector <mongos --tlsClusterCertificateSelector>`"
---
program: mongos
name: sslMode
inherit:
  name: sslMode
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsMode <mongos --tlsMode>`"
---
program: mongos
name: sslPEMKeyFile
inherit:
  name: sslPEMKeyFile
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsPEMKeyFile <mongos --tlsCertificateKeyFile>`"
---
program: mongos
name: sslPEMKeyPassword
inherit:
  name: sslPEMKeyPassword
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsPEMKeyPassword <mongos --tlsCertificateKeyFilePassword>`"
---
program: mongos
name: sslClusterFile
inherit:
  name: sslClusterFile
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsClusterFile <mongos --tlsClusterFile>`"
---
program: mongos
name: sslClusterPassword
inherit:
  name: sslClusterPassword
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsClusterPassword <mongos --tlsClusterPassword>`"
---
program: mongos
name: sslCAFile
inherit:
  name: sslCAFile
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsCAFile <mongos --tlsCAFile>`"
---
program: mongos
name: sslClusterCAFile
inherit:
  name: sslClusterCAFile
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsClusterCAFile <mongos --tlsClusterCAFile>`"
---
program: mongos
name: sslCRLFile
inherit:
  name: sslCRLFile
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsCRLFile <mongos --tlsCRLFile>`"
---
program: mongos
name: sslAllowInvalidCertificates
inherit:
  name: sslAllowInvalidCertificates
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsAllowInvalidCertificates <mongos --tlsAllowInvalidCertificates>`"
---
program: mongos
name: sslAllowInvalidHostnames
inherit:
  name: sslAllowInvalidHostnames
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsAllowInvalidHostnames <mongos --tlsAllowInvalidHostnames>`"
---
program: mongos
name: sslAllowConnectionsWithoutCertificates
inherit:
  name: sslAllowConnectionsWithoutCertificates
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsAllowConnectionsWithoutCertificates <mongos --tlsAllowConnectionsWithoutCertificates>`"
---
program: mongos
name: sslDisabledProtocols
inherit:
  name: sslDisabledProtocols
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsDisabledProtocols <mongos --tlsDisabledProtocols>`"
---
program: mongos
name: sslFIPSMode
inherit:
  name: sslFIPSMode
  program: mongod
  file: options-mongod.yaml
replacement:
  alternative: ":option:`--tlsFIPSMode <mongos --tlsFIPSMode>`"
---
program: mongos
name: tlsCertificateSelector
inherit:
  name: tlsCertificateSelector
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsClusterCertificateSelector
inherit:
  name: tlsClusterCertificateSelector
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsMode
inherit:
  name: tlsMode
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsCertificateKeyFile
inherit:
  name: tlsCertificateKeyFile
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsCertificateKeyFilePassword
inherit:
  name: tlsCertificateKeyFilePassword
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsClusterFile
inherit:
  name: tlsClusterFile
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsClusterPassword
inherit:
  name: tlsClusterPassword
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name:  tlsCAFile
inherit:
  name: tlsCAFile
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name:  tlsClusterCAFile
inherit:
  name: tlsClusterCAFile
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsCRLFile
inherit:
  name: tlsCRLFile
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsAllowInvalidCertificates
inherit:
  name: tlsAllowInvalidCertificates
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsAllowInvalidHostnames
inherit:
  name: tlsAllowInvalidHostnames
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsAllowConnectionsWithoutCertificates
inherit:
  name: tlsAllowConnectionsWithoutCertificates
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsDisabledProtocols
inherit:
  name: tlsDisabledProtocols
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: tlsFIPSMode
inherit:
  name: tlsFIPSMode
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: clusterAuthMode
inherit:
  name: clusterAuthMode
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: sslOnNormalPorts
inherit:
  name: sslOnNormalPorts
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: auditDestination
inherit:
  name: auditDestination
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: auditFormat
inherit:
  name: auditFormat
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: auditPath
inherit:
  name: auditPath
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: auditFilter
inherit:
  name: auditFilter
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: test
args: null
directive: option
description: |
  This option is for internal testing use only and runs unit tests
  without starting a :binary:`~bin.mongos` instance.
optional: true
---
program: mongos
name: transitionToAuth
inherit:
  name: transitionToAuth
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapServers
inherit:
  name: ldapServers
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapQueryUser
inherit:
  name: ldapQueryUser
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapQueryPassword
inherit:
  name: ldapQueryPassword
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapBindWithOSDefaults
inherit:
  name: ldapBindWithOSDefaults
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapBindMethod
inherit:
  name: ldapBindMethod
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapBindSASLMechanisms
inherit:
  name: ldapBindSASLMechanisms
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapTransportSecurity
inherit:
  name: ldapTransportSecurity
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapTimeoutMS
inherit:
  name: ldapTimeoutMS
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: ldapUserToDNMapping
inherit:
  name: ldapUserToDNMapping
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: redactClientLogData
args: null
directive: option
inherit:
  name: redactClientLogData
  program: mongod
  file: options-mongod.yaml
---
program: mongos
name: networkMessageCompressors
args: <string>
directive: option
inherit:
  name: networkMessageCompressors
  program: mongod
  file: options-mongod.yaml
optional: true
replacement: 
   deployment: other members of the sharded cluster

---
program: mongos
name: serviceExecutor
inherit:
  name: serviceExecutor
  program: _shared
  file: options-shared.yaml
---
program: mongos
name: timeZoneInfo
directive: option
args: <path>
description: |
  .. include:: /includes/fact-timeZoneInfo.rst

  .. code-block:: sh

     wget https://downloads.mongodb.org/olson_tz_db/timezonedb-latest.zip
     unzip timezonedb-latest.zip
     mongos --timeZoneInfo timezonedb-2017b/
---
program: mongos
name: slowms
args: <integer>
default: 100
directive: option
description: |

   The *slow* operation time threshold, in milliseconds. Operations
   that run for longer than this threshold are considered *slow*.
   
   When :setting:`~param.logLevel` is set to ``0``, MongoDB records *slow*
   operations to the diagnostic log at a rate determined by
   :setting:`~operationProfiling.slowOpSampleRate`.

   At higher :setting:`~param.logLevel` settings, all operations appear
   in the diagnostic log regardless of their latency.

   For :binary:`~bin.mongos` instances, {{slowms}} affects the diagnostic
   log only and not the profiler since profiling is not available on
   :binary:`~bin.mongos`.

   .. versionadded:: 4.0

---
program: mongos
name: slowOpSampleRate
args: <double>
default: 1.0
directive: option
description: |
  The fraction of *slow* operations that should be logged.
  {{role}} accepts values between 0 and 1, inclusive.
post: |
   For :binary:`~bin.mongos` instances, {{role}} affects the diagnostic log
   only and not the profiler since profiling is not available on
   :binary:`~bin.mongos`.

   .. versionadded:: 4.0

...

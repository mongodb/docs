.. _mcli-cm-feature-policies-update-command:

=============================================
mongocli cloud-manager featurePolicies update
=============================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``featurePolicies update`` command updates all
|cloud-short| :cloudmgr:`feature control policies </reference/api/feature-control-policies>`
for the external system that manages the specified project. You can also update all
feature policies for one project through the :cloudmgr:`API 
</reference/api/controlled-features/update-controlled-features-for-one-project/>`.


.. _mcli-cm-feature-policies-update-syntax:

Syntax
------

.. code-block:: text 

   mongocli cloud-manager|cm featurePolicies update|updates
      --name <name-of-external-system>
    [ --output|-o <output-format> ]
      --policy <one-or-more-feature-policies>
    [ --profile|-P <profile-name> ]
      --projectId <project-ID>
    [ --systemId <id-of-external-system> ]

.. include:: /includes/fact-command-line-help.rst

.. _mcli-cm-feature-policies-update-options: 

Options
-------
.. include:: /includes/list-table-feature-policies-update-options.rst


.. _mcli-cm-feature-policies-update-output:

Output
------

.. include:: /includes/command-output-intro.rst


.. code-block:: none
   :copyable: false

   Feature control policies updated.

If you request output in |json| format, the command returns the
fields described in the
API :cloudmgr:`reference </reference/api/controlled-features/update-controlled-features-for-one-project/#response>`.


Example
-------

The following example uses the ``mongocli cm featurePolicies
update`` command to update all feature control policies
for the project specified in the profile called ``myCm``.

.. tabs::

   .. tab:: Default
      :tabid: default

      .. code-block:: none
   
         mongocli cm featurePolicies update --name my-external-system --policy EXTERNALLY_MANAGED_LOCK -P myCm

      The previous command produces the following output.

      .. code-block:: none
         :copyable: false

         Feature control policies updated.

   .. tab:: JSON
      :tabid: json

      .. code-block:: none
   
         mongocli cm featurePolicies update --name my-external-system --policy EXTERNALLY_MANAGED_LOCK -P myCm --output json

      The previous command produces the following output.
      
      .. code-block:: none
         :copyable: false

         {
           "created": "2021-01-22T15:10:39Z",
           "updated": "2021-01-23T03:25:40Z",
           "externalManagementSystem": {
              "name": "my-external-system"
         },
           "policies": [
             {
             "policy": "EXTERNALLY_MANAGED_LOCK"
             }
           ]
         }

   

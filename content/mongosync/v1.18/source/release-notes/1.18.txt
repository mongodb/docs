.. _c2c-release-notes-1.18:

================================
Release Notes for mongosync 1.18
================================

.. meta::
   :keywords: cluster to cluster sync, cluster-to-cluster sync

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

This page describes changes and new features introduced in  
{+c2c-full-product-name+} 1.18.

.. _1.18.0-c2c-release-notes:

1.18.0 Release
--------------

**November 12, 2025**

New Features 
~~~~~~~~~~~~

Automatic Natural Scans
```````````````````````

Starting in version 1.18, ``mongosync`` automatically detects collections that use random ``_id`` 
values and copies those collections in natural order. 

See :ref:`detectRandomId <mongosync-detect-random-id>` for more details.

Hot Documents Mitigation
````````````````````````

Starting in version 1.18, ``mongosync`` introduces the :option:`--hotDocIDs` option, which allows you 
to specify identifiers for documents that update very frequently on source clusters. ``mongosync`` 
then copies these documents during the migration commit stage.
Use this option during migrations to help mitigate replication lag caused by hot documents.

To set the ``--hotDocIDs`` option from a configuration file, see the :setting:`hotDocIDs` setting. 

Fixed Issues
~~~~~~~~~~~~

- ``mongosync`` will now retry for up to 30 minutes when an error 
  indicates a network or cluster availability issue.

- ``mongosync`` will skip privilege checks when connected to a cluster 
  with no users. If a cluster does not require authorization, ``mongosync`` 
  assumes that it has all the privileges needed.

- Fixes an issue where deletes from a TTL index during TTL background 
  deletion process cutover could cause ``commit`` to fail.

- Improves logging for :ref:`/progress <c2c-api-progress>` endpoint handler 
  ``canCommit`` reporting.

- Improves handling for ``BSONObjectTooLarge`` error while applying update events.

- Improves retry mechanism behavior when a cluster presents network 
  issues or is temporarily unresponsive.

Other Changes
~~~~~~~~~~~~~

- ``mongosync`` now ignores all databases starting with :ref:`__mdb_internal <cloud-system-databases>`. This is a 
  prefix used by MongoDB Atlas for internal purposes, among others. These databases should not be 
  synced between clusters, and there might be activity in them while ``mongosync`` is syncing.

Live Upgrades
~~~~~~~~~~~~~

:ref:`Live upgrades <c2c-live-upgrade>` to 1.18 are supported.

Minimum Supported Version
-------------------------

.. include:: /includes/fact-version-compatibility.rst

.. include:: /includes/migration-upgrade-recommendation.rst
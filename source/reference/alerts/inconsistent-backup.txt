=================================
Inconsistent Backup Configuration
=================================

.. default-domain:: mongodb

Description
-----------

|mms| has detected that the configuration for a backup does
not match the configuration of the MongoDB deployment.

As some settings affect the on-disk format or the process of applying
oplog, the backup process encourages users to verify that their backup
configurations are consistent with their deployed configurations. This
alert triggers if no node in your deployment exactly matches your
backup configuration.

Common Triggers
---------------

- The storage engine of a deployment has changed since backup was
  started.
 
- The MongoDB deployment has changed its startup options since backup
  was started. The startup options that you should ensure match your
  backup are:

  - ``nssize``
  - ``directoryperdb``
  - ``smallfiles``
  - ``wiredTigerDirectoryForIndexes``
  - ``wiredTigerBlockCompressor``

Possible Solutions
------------------

- Update the storage engine from the Backup dashboard. This triggers a
  resync of the backup.

- If the startup options are inconsistent, resync the backup manually
  from the Backup dashboard.

Documentation
-------------

- :alert:`Inconsistent backup configuration has been detected` alert condition

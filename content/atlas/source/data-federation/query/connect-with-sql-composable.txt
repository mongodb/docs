.. _connect-with-sql-composable:

=======================
Connect With SQL Guides
=======================

.. meta::
   :keywords: connect, sql, mongodb
   :description: Connect to MongoDB using SQL syntax.

.. default-domain:: mongodb

.. facet::
   :name: genre
   :values: tutorial

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol


Connecting with SQL to MongoDB
==============================

.. composable-tutorial::
   :options: deployment-type, sql-driver, os
   :defaults: self, power-bi, windows


   .. selected-content::
      :selections: atlas, power-bi

      .. procedure::
         :style: normal

         .. include:: /includes/sql-interface/enable-in-atlas.rst

         .. include:: /includes/sql-interface/atlas-power-bi-steps.rst


   .. selected-content::
      :selections: atlas, tableau

      .. procedure::
         :style: normal

         .. include:: /includes/sql-interface/enable-in-atlas.rst

         .. include:: /includes/sql-interface/atlas-tableau-steps.rst


   .. selected-content::
      :selections: atlas, dbeaver

      .. procedure::
         :style: normal

         .. include:: /includes/sql-interface/enable-in-atlas.rst

         .. include:: /includes/sql-interface/atlas-dbeaver-steps.rst


   .. selected-content::
      :selections: atlas, odbc

      .. procedure::
         :style: normal

         .. include:: /includes/sql-interface/enable-in-atlas.rst

         .. include:: /includes/sql-interface/atlas-odbc.rst


   .. selected-content::
      :selections: atlas, jdbc

      .. procedure::
         :style: normal

         .. include:: /includes/sql-interface/enable-in-atlas.rst

         .. include:: /includes/sql-interface/atlas-jdbc.rst


   .. selected-content::
      :selections: self, tableau, macos

      .. include:: /includes/sql-interface/configure-self-hosted-tableau-macos.rst


   .. selected-content::
      :selections: self, dbeaver, macos

      .. include:: /includes/sql-interface/configure-self-hosted-dbeaver-macos.rst


   .. selected-content::
      :selections: self, power-bi, windows

      .. include:: /includes/sql-interface/configure-self-hosted-power-bi-windows.rst


   .. selected-content::
      :selections: self, tableau, windows

      .. include:: /includes/sql-interface/configure-self-hosted-tableau-windows.rst


   .. selected-content::
      :selections: self, dbeaver, windows

      .. include:: /includes/sql-interface/configure-self-hosted-dbeaver-windows.rst


   .. selected-content::
      :selections: self, power-bi, linux

      .. include:: /includes/sql-interface/configure-self-hosted-power-bi-linux.rst


   .. selected-content::
      :selections: self, tableau, linux

      .. include:: /includes/sql-interface/configure-self-hosted-tableau-linux.rst


   .. selected-content::
      :selections: self, dbeaver, linux

      .. include:: /includes/sql-interface/configure-self-hosted-dbeaver-linux.rst

   .. selected-content::
      :selections: self, odbc, linux

      .. include:: /includes/sql-interface/configure-self-hosted-odbc.rst

   .. selected-content::
      :selections: self, odbc, windows

      .. include:: /includes/sql-interface/configure-self-hosted-odbc-windows.rst

   .. selected-content::
      :selections: self, jdbc, linux

      .. include:: /includes/sql-interface/configure-self-hosted-jdbc.rst

   .. selected-content::
      :selections: self, jdbc, macos

      .. include:: /includes/sql-interface/configure-self-hosted-jdbc.rst

   .. selected-content::
      :selections: self, jdbc, windows

      .. include:: /includes/sql-interface/configure-self-hosted-jdbc-windows.rst

Build a MongoDB SQL Query
-------------------------

To learn how to build a MongoDB SQL query, see :ref:`Query with MongoSQL Statements <asql-write-asql-queries>`.

Troubleshooting & Log Files
---------------------------

ODBC Logs
~~~~~~~~~

On the machine where your SQL Interface ODBC driver is installed,
you can find the ODBC Logs in ``<user>/Documents/Mongodb/Atlas SQL ODBC/<version>/logs/mongo_odbc``.

SQL Trace Logs
```````````````
For additional insights into your queries and connections, you can enable the 
SQL Trace log through the ODBC Administrator.

The SQL Trace log may provide additional information related to issues with 
your queries and potentially with your connection as well, because on connection 
a query may be issued to present db namespaces. 

.. note::

   After you retrieve the log, be sure to disable SQL Trace, as it is resource intensive.

JDBC logs
~~~~~~~~~

The JDBC Log file, ``jprotocolserver.log``, is stored in different locations 
depending on your BI Tool. If you are using Tableau, the JDBC Log file  is 
stored in Documents > My Tableau Repository > Logs. For tools other than Tableau, 
please search for the ``jprotocolserver.log``.

Tool and user configurations can impact the placement and collection of these 
logs. The above information is based on default settings.

MongoDB SQL Error Codes
~~~~~~~~~~~~~~~~~~~~~~~

You can find a list of MongoDB SQL error codes in the 
:ref:`MongoDB SQL Error Codes <mongosql-errors>` documentation.

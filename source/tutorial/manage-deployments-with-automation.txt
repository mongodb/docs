====================================
Manage Deployments with |automation|
====================================

.. default-domain:: mongodb

.. include:: /includes/admonition-automation-is-beta.rst

Overview
--------

Once you've deployed |automation|, you can configure and administer
your MongoDB deployment from the MMS web interface. This tutorial
addresses basic deployment operations using Automation.

Prerequisites
-------------

You must successfully configure |automation| before beginning to use
Automation to manage your MongoDB deployment. See
:doc:`/tutorial/nav/automation-getting-started` for instructions on
configuring Automation.

Procedures
----------

Create a MongoDB Deployment
+++++++++++++++++++++++++++

Once the machines you provisioned are listed as running, create a
MongoDB deployment.

.. include:: /includes/steps/automation-install-mongodb.rst

Remove the Deployment
+++++++++++++++++++++

.. include:: /includes/steps/automation-terminate-deployment.rst

.. only:: saas

   Manage the Monitoring and Backup Agents with Automation
   +++++++++++++++++++++++++++++++++++++++++++++++++++++++

   When configured to do so, Automation can maintain the cluster's
   Monitoring and Backup agents. You can configure Automation to maintain
   one agent type or both. Automated maintenance includes starting a fresh
   agent if necessary, restarting an agent if it goes down, and upgrading
   or downgrading an agent to a different version.

   Automation allows only one agent per machine for the type of agent
   being monitored and will remove additional agents. For example, when
   maintaining Backup Agents, automation will remove one of the Backup
   Agents from a machine that has two Backup Agents.

   Automation maintains agents only if the appropriate information is
   entered in the :doc:`Automation Agent configuration file
   </reference/automation-agent>`:

   - To automate the maintenance of **Monitoring Agents**, add each
     Monitoring Agent's information to the :data:`monitoringVersions`
     array in the :doc:`Automation Agent configuration file
     </reference/automation-agent>`.

   - To automate the maintenance of **Backup Agents**, add each Backup
     Agent's information to the :data:`backupVersions` array in the
     :doc:`Automation Agent configuration file
     </reference/automation-agent>`.

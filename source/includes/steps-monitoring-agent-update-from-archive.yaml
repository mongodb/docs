title: "Log in the the host where the Monitoring Agent is installed."
stepnum: 1
ref: login-agent-host
---
title: "Stop any currently running Monitoring Agents."
stepnum: 2
ref: stop
action:
  pre: |
    Issue the following command:
  language: sh
  code: |
    pkill -f mongodb-mms-monitoring-agent
---
title: "Login to |mms|."
stepnum: 3
ref: login
---
title: "Click :guilabel:`Deployment`, then :guilabel:`Agents`, and then :guilabel:`Downloads & Settings`."
stepnum: 4
ref: downloads-and-settings
---
title: "Select :guilabel:`<Linux-Distribution> - TAR`."
stepnum: 5
ref: select-distribution
---
stepnum: 6
edition:
  - cloud
source:
  file: steps-monitoring-agent-install-from-archive.yaml
  ref: download-saas
---
stepnum: 6
edition:
  - onprem
source:
  file: steps-monitoring-agent-install-from-archive.yaml
  ref: download-hosted
---
stepnum: 7
source:
  file: steps-monitoring-agent-install-from-archive.yaml
  ref: extract
---
stepnum: 8
source:
  file: steps-source-install-agent.yaml
  ref: retrieve-monitoring-mms-api-key
---
stepnum: 9
source:
  file: steps-source-install-agent.yaml
  ref: configure-monitoring-mms-api-key
---
stepnum: 10
source:
  file: steps-source-install-agent.yaml
  ref: proxy
replacement:
  agentname: "Monitoring"
  httpProxy: ":msetting:`httpProxy`"
  configfile: "<install-directory>/monitoring-agent.config"
---
stepnum: 11
source:
  ref: start-monitoring
  file: steps-source-install-agent.yaml
action:
  language: sh
  copyable: true
  code: |
    nohup ./mongodb-mms-monitoring-agent >> monitoring-agent.log 2>&1 &
...

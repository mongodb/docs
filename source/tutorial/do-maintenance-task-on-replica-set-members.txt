==========================================
Perform Maintenance on Replica Set Members
==========================================

.. default-domain:: mongodb

.. contents::
   :backlinks: none
   :local:

Overview
--------

:term:`Replica sets <replica set>` make it possible to continue to
serve client queries while administrators perform maintenance on each
member of the set.

Use this procedure to implement your own replica set maintenance
operations. These steps minimize the number of elections that must
take place during maintenance, and help ensure uptime as you bring
each member down in turn.

This procedure is the basis for common replica set operations
documented in this manual, such as :doc:`upgrading to the latest
version of MongoDB </tutorial/upgrade-revision>` and :doc:`changing
the size of the oplog</tutorial/change-oplog-size>`.

Procedure
---------

For each member of a replica set, perform the following sequence of
operations. Start with a secondary member of the set, proceed through
each secondary in turn, and end with the primary. This ensures that
the set only has to elect a new primary once.

- Restart the :program:`mongod` instance as a standalone.

- Perform the task on the standalone instance.

- Restart the :program:`mongod` instance as a member of the replica
  set.

.. include:: /includes/steps/do-maintenance-task-on-replica-set-members.rst


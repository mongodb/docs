:orphan:

.. meta::
   :robots: noindex, nosnippet

.. _fts-reindexing-strategy-faq:

================================
FAQ: November 2022 |fts| Release
================================

What's New in This Release?
---------------------------

The |fts| release in November includes optimizations to your index storage. This change will decrease the size of your |fts| index 
and increase indexing throughput.

The |fts| release in mid-November will also support the following 
capabilities:

- Statically index arrays of strings as 
  :ref:`bson-data-types-autocomplete` type. 
- Dynamically and statically index :ref:`bson-data-types-number`\s in 
  arrays.
- Dynamically index :ref:`boolean-ref`\s, :ref:`objectId-ref`\s, arrays 
  of :ref:`boolean-ref`\s, and arrays of :ref:`objectId-ref`\s.

The preceding list of new capabilities could increase the size of your 
index on disk. Your |fts| query results could differ because |fts| 
might index fields and values that it didn't index before.

When rolling out these changes, we will rebuild your |fts| indexes. If 
you enabled :ref:`dynamic mappings <static-dynamic-mappings>`, you 
might notice a significant increase in disk size, CPU, and disk 
utilization during reindexing, which could trigger auto-scaling. While 
your new index builds, your old index will continue to be available to 
serve your |fts| queries. 

What Should I Do to Prepare for This Release?
---------------------------------------------

You can do the following to prepare for this release:

- :ref:`Set maintenance windows <project-settings>` to control the 
  timeline of this release. If set, the reindexing will start during 
  the specified maintenance window and might continue even after 
  the maintenance window.
- Review all your |fts| indexes and delete any |fts| index that isn't 
  being used to: 

  - Avoid unnecessary reindexing, which saves memory and CPU 
    utilization.
  - Release disk space to accommodate increases in the size of your 
    other indexes.

- Evaluate all indexes with :ref:`dynamic mappings 
  <static-dynamic-mappings>`, especially on collections with field 
  values that are an array of numbers, and consider modifying the 
  indexes to use :ref:`static mappings <static-dynamic-mappings>` on 
  only the fields that need to be indexed to prevent :ref:`mapping 
  explosions <index-document-mapping-explosions>`.
- :ref:`Monitor <review-atlas-search-metrics>` the following |fts| 
  metrics: 
  
  - **Search Index Size**, which will increase during index rebuild and 
    decrease after the index builds.
  - **Search Normalized Process CPU**, which will increase during index 
    rebuild and then return to pre-release levels.
  - **Query success/failure rate** to ensure that queries arenâ€™t 
    failing after the release.

If you have any questions or concerns, contact :ref:`support 
<request-support>`.

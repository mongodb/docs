==========================
Replication Info Reference
==========================

The :js:func:`db.getReplicationInfo()` provides current status of the
current replica status, using data polled from the
":term:`oplog`". Consider the values of this output when diagnosing
issues with replication.

.. seealso:: ":doc:`/core/replication`" for more information on
             replication.

All Nodes
---------

The following fields are present in the output of
:js:func:`db.getReplicationInfo()` for both :term:`primary` and
:term:`secondary` nodes.

.. describe:: logSizeMB

   Returns the total size of the :term:`oplog` in megabytes. This
   refers to the total amount of space allocated to the oplog rather
   than the current size of operations stored in the oplog.

.. describe:: usedMB

   Returns the total amount of space used by the :term:`oplog` in
   megabytes. This refers to the total amount of space currently
   used by operations stored in the oplog rather than the total
   amount of space allocated.

Primary Nodes
-------------

The following fields appear in the output of
:js:func:`db.getReplicationInfo()` for :term:`primary` nodes.

.. describe:: errmsg

   Returns the last error status.

.. describe:: oplogMainRowCount

   Returns a counter of the number of items or rows
   (i.e. :term:`documents <document>`) in the :term:`oplog`.

Secondary Nodes
---------------

The following fields appear in the output of
:js:func:`db.getReplicationInfo()` for :term:`secondary` nodes.

.. describe:: timeDiff

   Returns the difference between the first and last operation in the
   :term:`oplog`, represented in seconds.

.. describe:: timeDiffHours

   Returns the difference between the first and last operation in the
   :term:`oplog`, rounded and represented in hours.

.. describe:: tFirst

   Returns a time stamp for the first (i.e. earliest) operation in the
   :term:`oplog`. Compare this value to :mongodb:status:`now`.

.. describe:: tLast

   Returns a time stamp for the first (i.e. earliest) operation in the
   :term:`oplog`. Compare this value to :mongodb:status:`now`.

.. describe:: now

   Returns a time stamp reflecting the current time. This value is
   generated by the shell process, and may differ slightly from the
   server time if you're connecting from a remote host. Equivalent to
   :js:func:`Date()`.

=======================================
X.509 Authentication for Database Users
=======================================

.. default-domain:: mongodb

Use the following endpoints to manage database users who authenticate 
using X.509 certificates. You can manage these X.509 certificates or 
let |service| do it for you.

.. list-table::
   :header-rows: 1
   :widths: 30 70

   * - Management
     - Description

   * - |service|
     - |service| manages your |certauth| and can 
       generate certificates for your database users. No additional 
       X.509 configuration is required.

   * - Customer
     - You must provide a |certauth| and generate certificates for your 
       database users. To learn more about managing X.509, see 
       :ref:`Self-Managed X.509 <self-managed-x509>`.

.. include:: /includes/fact-projects-groups-synonyms.rst

.. include:: /includes/api-base-url.rst

Required Roles
--------------

You must have the :atlasrole:`Atlas admin` role to use these endpoints.

Endpoints
---------

.. list-table::
   :header-rows: 1
   :widths: 10 60 30

   * - Method
     - Endpoint
     - Description

   * - ``GET``

     - :doc:`/groups/{GROUP-ID}/databaseUsers/{USERNAME}/certs </reference/api/x509-configuration-get-certificates>`

     - Get a list of all |service|-managed, unexpired  
       certificates for a user.

   * - ``POST``

     - :doc:`/groups/{GROUP-ID}/databaseUsers/{USERNAME}/certs </reference/api/x509-configuration-create-certificate>`

     - Generate an |service|-managed X.509 certificate for a MongoDB 
       user that authenticates using X.509 certificates. If you are 
       managing your own |certauth| in 
       :ref:`Self-Managed X.509 <self-managed-x509>` mode, you are 
       responsible for generating and distributing certificates instead.

   * - ``GET``

     - :doc:`/groups/{GROUP-ID}/userSecurity </reference/api/x509-configuration-get-current>`

     - Get the current customer-managed X.509 configuration details for 
       an |service| project.

   * - ``PATCH``

     - :doc:`/groups/{GROUP-ID}/userSecurity </reference/api/x509-configuration-save>`

     - Save a customer-managed X.509 configuration for an |service| 
       project.

   * - ``DELETE``

     - :doc:`/groups/{GROUP-ID}/userSecurity/customerX509 </reference/api/x509-configuration-disable-advanced>`

     - Clear customer-managed X.509 settings on a project. This 
       disables customer-managed X.509.

.. toctree::
   :titlesonly:

   /reference/api/x509-configuration-get-certificates
   /reference/api/x509-configuration-create-certificate
   /reference/api/x509-configuration-get-current
   /reference/api/x509-configuration-save
   /reference/api/x509-configuration-disable-advanced
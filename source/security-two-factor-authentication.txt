.. _security-two-factor-auth:

=========================
Two Factor Authentication
=========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Enable Two Factor Authentication (2FA) on a |service| account to require a
verification code in addition to the username and password associated with the
account. The verification code can be retrieved from a limited number of
sources and is typically something an authorized user has physical access to.
With :abbr:`2FA (Two Factor Authentication)`, a compromised username and
password does not provide immediate access to the account.

|service| provides the following sources for :abbr:`2FA (Two Factor
Authentication)` verification codes:

Text Messages (SMS)
   When |service| prompts the user for a verification code, |service| sends
   the 6-digit verification code using text (SMS) to the provided phone number.

   The cellular carrier's SMS rates apply.

Automated Voice Calls (US / Canada only)
   When |service| prompts the user for a verification code, |service| calls
   the provided phone number. An automated system repeats the 6-digit
   verification code a total of three times before hanging up.

   The cellular carrier's Voice Call rates apply.

The Google Authenticator application
  When |service| prompts the user for a verification code, the user generates
  a verification code through Google Authenticator. Requires :ref:`pairing
  <two-factor-google-authenticator>` Google Authenticator to |service|.

.. note::

  |service| users who operate within a geographic region with limited cellular
  service coverage or reliability may encounter delays in receiving the
  :abbr:`2FA (Two Factor Authentication)` code via SMS or Voice. Consider
  using :ref:`Google Authenticator <two-factor-google-authenticator>` instead.

.. _two-factor-text-voice:

Configure Two-Factor Authentication with Text or Voice
------------------------------------------------------

.. include:: /includes/steps/two-factor-auth-configure-text-voice.rst

.. _two-factor-google-authenticator:

Configure Two-Factor Authentication with Google Authenticator
-------------------------------------------------------------

.. include:: /includes/steps/two-factor-auth-configure-authenticator.rst

Configure Backup Two Factor Authentication Phone Number
-------------------------------------------------------

You can configure a backup phone number for receiving
:abbr:`2FA (Two Factor Authentication)` codes if the primary method
fails or is unavailable.

If you have not yet enabled :abbr:`2FA (Two Factor Authentication)` for the
|service| account, do so before proceeding. See
:ref:`two-factor-text-voice` or :ref:`two-factor-google-authenticator`.

.. include:: /includes/steps/two-factor-auth-configure-backup.rst

.. _two-factor-recovery-codes:

Generate New Recovery Codes
---------------------------

|service| can generate single-use recovery codes for use where all other
methods of accessing the account fail. When you generate new recovery
codes, you invalidate previously generated ones.

If you have not yet enabled :abbr:`2FA (Two Factor Authentication)` for the
|service| account, do so before proceeding. See
:ref:`two-factor-text-voice` or :ref:`two-factor-google-authenticator`.

.. include:: /includes/steps/two-factor-generate-recovery-codes.rst

.. _two-factor-reset:

Reset Two Factor Authentication
-------------------------------

.. important:: 
   
   Resetting :abbr:`2FA (Two Factor Authentication)` for an |service| account
   disables :abbr:`2FA (Two Factor Authentication)` for that account. You can
   re-configure :abbr:`2FA (Two Factor Authentication)` after performing the
   reset procedure.

#. Log in to `Atlas <https://cloud.mongodb.com/user/login?jmp=docs>`_.

#. From the :abbr:`2FA (Two Factor Authentication)` entry dialog, select
   :guilabel:`Reset your two factor authentication`.
   
#. Select :guilabel:`Atlas user? Click here` at the bottom of the 
   ``Reset Two Factor Authentication`` modal.
   
#. Enter your |service| username. |service| emails a link to the e-mail
   account associated with the |service| username. 
   
   Click the link in the e-mail to start the :abbr:`2FA (Two Factor
   Authentication)` reset procedure.
   
#. Follow the directions on the :abbr:`2FA (Two Factor Authentication)` reset
   page. After completing the reset procedure, |service| allows you to log in
   to the |service| account without requiring a :abbr:`2FA (Two Factor
   Authentication)` code.



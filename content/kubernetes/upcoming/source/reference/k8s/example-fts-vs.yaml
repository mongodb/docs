
spec:
  source:
    mongodbResourceRef: 
      name: mdb
    external: 
      hostAndPorts:
        - mdb-rs-external-0.example.com:27017
        - mdb-rs-external-1.example.com:27017
        - mdb-rs-external-2.example.com:27017
      tls:
        ca:
          name: mdbc-rs-ca            
    username: search-sync-source
    passwordSecretRef:
      name: mdbc-rs-search-sync-source-password
      key: password
  security:
    tls:
      certificateKeySecretRef:
        name: mdbs-tls-secret        
  resourceRequirements:
    limits:
      cpu: "3"
      memory: 5Gi
    requests:
      cpu: "2"
      memory: 3Gi
  autoEmbedding:
    embeddingModelAPIKeySecret: 
      name: embedding-model-api-query-key
    providerEndpoint: https://ai.mongodb.com/v1/embeddings
  logLevel: INFO
  prometheus: {}
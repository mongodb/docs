========
Settings
========

.. contents:: Settings Page
   :backlinks: none
   :local:

The "Settings" section of the |mms| (MMS) console enables users to personalize
their console and activate or deactivate a variety of features. The
following sections correspond to a tab on the Settings page.

My Settings
-----------

These settings are specific to the logged in user, and will only affect
their MMS experience.

Profile
~~~~~~~

The :guilabel:`Profile` page allows users to update their personal
information.

.. note::

   The username, email address, and password are also used for
   `jira.mongodb.org <http://jira.mongodb.org>`_. Changing your email address
   or password in MMS will also change the email address and password you use
   to log into Jira.

- **User Name**: displays the user's name. You cannot change your
  username.

- **Email Address**: displays the email address MMS associates with
  your account. You can change your email address by clicking on the
  ":guilabel:`pencil`" icon.

- **Two-Factor Authorization** |backup| requires a two-factor authentication
  for all restores. MMS currently supports two-factor authentication with
  either a mobile phone (SMS) or the Google Authenticator application.

  - **Mobile Phone Number**: displays the mobile phone number MMS uses for
    two-factor authentication. You can change the number by clicking on the
    ":guilabel:`pencil`" icon.

    .. include:: /includes/fact-intl-phone-numbers.rst

    .. include:: /includes/fact-two-factor-auth-India-limit.rst

  - **Google Authenticator**: the `Google Authenticator
    <https://itunes.apple.com/us/app/google-authenticator/id388497605>`_
    application generates unique time-sensitive codes used as passwords, in
    addition to a username and password.
    
    To configure the first time, click the :guilabel:`Configure` button
    to the right side of the page, follow the instructions, then click the
    :guilabel:`Authenticate` button to complete authentication.
    
    Once Google two-factor authentication is set, update the authentication
    code by clicking on the ":guilabel:`pencil`" icon. Then enter an old
    authentication code and new authentication code and click the
    :guilabel:`Authenticate` button.

  If both two-factor authentication methods are needed, configure SMS then
  Google Authenticator. Configuring SMS after Google Authenticator will disable
  the Google Authenticator settings.

  Contact support to delete or reset any configured two-factor authentication.

- **Password**: allows you to change your MMS password. Passwords must
  fulfill MMS's :ref:`password requirements <password-requirements>`.

.. _mms-personalization:

Personalization
~~~~~~~~~~~~~~~

The :guilabel:`Personalization` page allows users to configure the console
to suit their needs and preferences.

- **Chart Refresh**: sets the rate at which the data displayed in the
  charts on your dashboards or on the "Hosts Statistics" page refreshes.

- **Default Dashboard**: sets the default dashboard on the "Dashboard"
  page. You can select from a list of all of your dashboards.

- **Homepage**: sets which page of the MMS console you will see when
  you log into MMS. You can choose from the "Hosts" page, or the
  "Dashboard" page.

- **Page Shown When Switching Groups** sets which page of the MMS
  console you will see when you select a different group. You can
  select the "Hosts" page or the "Dashboard" page. Alternatively,
  select "Current" and MMS will not change pages when you select a
  different group.

- **Separate Opcounter Charts**: allows you to control the presentation
  of Opcounter Charts. If enabled, MMS charts each opcounter type
  separately. Otherwise, each opcounter type is overlaid together in a
  single chart.

- **Display Chart Annotations**: toggles the presence of chart
  annotations. Chart annotations overlay information about significant
  system events on the charts. For example, with chart annotations MMS
  will draw a red vertical line over the charts.

- **User Time Zone**: sets your local time zone.

- **User Language**: allows you to select the language the MMS Console
  will display in.

- **User Date Format**: allows you to select your preferred
  date format.

- **Email Notifications**: allows you to opt-in to, or opt-out of
  receiving e-mail newsletters about MMS.

Group Settings
--------------

These settings are general settings that apply to all users in the
current group.

General Settings
~~~~~~~~~~~~~~~~

- **Log Data Collection For All Hosts**: activates or deactivates the
  collection of log data for all hosts. This overwrites the statuses
  set on the individual hosts. |monitoring| displays log data in the
  "Logs" tab of the "Host Statistics" page.

- **Group Time Zone**: sets your group's time zone.

.. _exposed-db-host-check:

- **Exposed DB Host Check**: when active, |monitoring| will
  periodically try to connect to your MongoDB instances. If your
  configuration is secure, this should fail. If the attempt is
  successful, |monitoring| sends you an alert.

- **DB Stats**: allows you to enable or disable the collection of database
  statistics. For more information, see ":ref:`How does MMS gather database
  statistics? <db-stats-warning>`".

Preferred Hostnames
~~~~~~~~~~~~~~~~~~~

:guilabel:`Preferred Hostnames` allows you to specify the hostname to
use for servers with multiple aliases. This prevents servers from
appearing multiple times under different names.

Duplicate Hostnames
~~~~~~~~~~~~~~~~~~~

:guilabel:`Duplicate Hostnames` allows you to reset and remove all
detected duplicate hosts. This is useful if your server environment
has drastically changed and you believe a host is incorrectly marked
as a duplicate.

API Key
~~~~~~~

:guilabel:`API Key` displays the |monitoring| API Key for your MMS
group. Keep this key private. Use the API key to support
:ref:`automated agent installation <automated-agent-installation>`.

Secret Key
~~~~~~~~~~

:guilabel:`Secret Key` displays the |monitoring| Secret Key for your
group. Keep this key private. Use the Secret key to support
:ref:`automated agent installation <automated-agent-installation>`.

Monitoring Agent
~~~~~~~~~~~~~~~~

:guilabel:`Monitoring Agent` provides links for downloading the
pre-configured Monitoring agent in both ``.zip`` and ``.tar.gz``
formats. It also provides links to download a generic agent for
:ref:`automated agent installation <automated-agent-installation>`.

.. only:: saas

   SAASONLY-settings

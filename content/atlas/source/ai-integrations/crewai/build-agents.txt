.. _crewai-tutorial:

========================================================
Build an Agentic RAG Application with CrewAI and MongoDB
========================================================

.. default-domain:: mongodb

.. facet::
   :name: genre
   :values: tutorial

.. facet::
   :name: programming_language
   :values: python

.. meta::
   :description: Build an agentic RAG application with CrewAI and MongoDB.
   :keywords: CrewAI, agents, agentic, RAG, retrieval, vector database, vector search, tools

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

In this tutorial, you build a `crew <https://docs.crewai.com/en/concepts/crews>`__ that includes 
an AI agent that can analyze PDF documents by using the MongoDB Vector Search Tool.

To learn more about the MongoDB CrewAI integration, see :ref:`crewai`.

Prerequisites 
-------------

To complete this tutorial, you must have the following:

- CrewAI installed. To learn more, see `Installation <https://docs.crewai.com/en/installation>`__.

- .. include:: /includes/avs/shared/avs-requirements-cluster.rst

- .. include:: /includes/avs/shared/avs-requirements-openai-api-key.rst

.. include:: /includes/ai-integrations/crewai/fact-crewai-tools-dependency.rst

Build and Run the Crew
----------------------

Complete the following steps to build and run the crew:

.. procedure::
   :style: normal

   .. step:: Set up the environment.

      a. Run the following commands in your terminal to create a new directory 
         named ``crewai-mongodb-project`` and install the required dependencies:

         .. code-block:: text

             mkdir crewai-mongodb-project
             cd crewai-mongodb-project
             pip install 'crewai-tools[mongodb]' python-dotenv langchain-community

      #. In your project, create a ``.env`` file and add the following lines:

         .. code-block:: text

            OPENAI_API_KEY="<openai-api-key>"
            MONGODB_URI="<connection-string>"

         .. note::

            .. include:: /includes/search-shared/find-connection-string.rst
         
   .. step:: Build the crew.

      Create a file named ``main.py`` in your project and paste
      the following code:

      .. literalinclude:: /includes/ai-integrations/crewai/main.py
         :language: python
         :copyable:      

      This script does the following:
      
      - Loads a MongoDB AI announcements PDF, ingests each page's text into 
        the ``crewai_db`` database and ``test`` collection, and creates 
        a {+avs+} index on the collection.
      - Defines additional vector search query parameters and performs a quick test query.
      - Defines a CrewAI `agent <https://docs.crewai.com/en/concepts/agents>`__ 
        with the vector search tool and describes its role, goal, and backstory.
      - Defines a `task <https://docs.crewai.com/en/concepts/tasks>`__ 
        for the agent to research and summarize MongoDB's recent AI announcements.
      - Assembles the `crew <https://docs.crewai.com/en/concepts/crews>`__
        by specifying the agent and task. Then, it runs the crew and prints the results. 
      
   .. step:: Run the file.

      Run the following command to execute the script:

      .. io-code-block::
         :copyable: true
         
         .. input:: 
            :language: sh

            uv run main.py

         .. output:: 
            :language: text

            Loading MongoDB AI announcements PDF...
            Creating vector search index...
            Testing the tool...
            Using Tool: MongoDBVectorSearchTool
            [{"_id": {"$oid": "689baa5e6907244d329d0586"}, "text": "MongoDB Strengthens Foundation for AI Applications with Product Innovations and Expanded\nPartner Ecosystem\nAugust 11, 2025\nNew Voyage AI models introduce context awareness and set new accuracy benchmarks\u2014at industry-leading price-performance\nMongoDB's AI ecosystem expands AI framework, agentic evaluation, and agentic workflow orchestration capabilities\nApproximately 8,000 startups, including Laurel and Mercor, have chosen MongoDB  to help build their AI projects ... (truncated)
            Running the crew...

            ==================================================
            MONGODB AI ANNOUNCEMENTS ANALYSIS:
            ==================================================
            **MongoDB Strengthens Foundation for AI Applications with Product Innovations and Expanded Partner Ecosystem**

            **August 11, 2025**

            MongoDB announced a range of product innovations and AI partner ecosystem expansions at Ai4 2025 to make it faster and easier for customers to build accurate, trustworthy, and reliable AI applications at scale. The company is providing industry-leading embedding models and a fully integrated, AI-ready data platform, alongside assembling a world-class ecosystem of AI partners to deliver reliable and cost-effective AI solutions.

            **Key Highlights from AI Initiatives:**

            ### AI Innovations:
            - **Voyage AI Models**:
              - MongoDB introduced context-aware embedding models, achieving better retrieval accuracy without requiring metadata hacks or pipeline gymnastics.
              - New model variants, such as **voyage-context-3**, **voyage-3.5**, and **voyage-3.5-lite**, deliver groundbreaking retrieval accuracy at competitive price-performance metrics.
              - **Instruction-following reranking models** like `rerank-2.5` and `rerank-2.5-lite` enable developers to improve retrieval accuracy further.

            - **MongoDB MCP Server**:
              - Launched as a public preview, the MongoDB Model Context Protocol (MCP) Server enables direct integration with popular tools like GitHub CoPilot in Visual Studio Code, Anthropic's Claude, Cursor, and Windsurf.
              - Thousands of users have been actively building applications leveraging this new protocol.

            ### Partnerships:
            MongoDB expanded its AI partner ecosystem to provide customers with streamlined workflows and reliable AI applications:
              - **Galileo**:
                - A reliability and observability platform for AI applications that offers continuous evaluations and monitoring for MongoDB-based projects.

              - **Temporal**:
                - A Durable Execution platform that empowers developers to orchestrate scalable, resilient AI use cases like retrieval-augmented generation (RAG) systems and context engineering pipelines. Temporal ensures that AI solutions can operate smoothly across distinct failures and interactions.

              - **LangChain**:
                - MongoDB's partnership with LangChain has facilitated advancements like natural language querying, agent-based system creation, and **GraphRAG** for enhanced LLM transparency. Developers can build sophisticated AI systems deploying real-time, proprietary MongoDB data.

            ### Developer Engagement:
            - MongoDB has seen substantial adoption among both startups and enterprises:
              - Approximately 8,000 startups selected MongoDB for AI projects, including Laurel (timekeeping startup) and Mercor (AI-based talent matching).
              - Large enterprises like Vonage, LGU+, and The Financial Times also rely on MongoDB for scalable AI infrastructure.

            ### Thought Leadership:
            Andrew Davidson, SVP of Products at MongoDB, emphasized the importance of robust database systems in the era of AI:
               - "Modern AI applications require a database combining advanced capabilities such as integrated vector search and embedding models. By consolidating the AI stack, MongoDB is empowering developers to deliver innovative AI solutions faster than ever."

            Fred Roma, SVP of Engineering, further highlighted the challenge of scaling AI due to complexity in fine-tuning models, high expenses, and integration barriers:
               - "MongoDB's focus remains on designing models that achieve better functionality, reliability, and affordability for developers leveraging AI applications."

            ### About MongoDB:
            MongoDB, headquartered in New York, provides a unified database platform powering next-gen applications across industries. Its comprehensive platform integrates operational data, search, real-time analytics, and AI-powered retrieval, supporting millions of developers globally. MongoDB boasts over 50,000 customers and supports a growing AI application ecosystem.

            For more information on MongoDB's AI endeavors, visit [mongodb.com](https://www.mongodb.com).

            ### Sources:
            Original announcement and additional multimedia available at [PRNewswire](https://www.prnewswire.com/news-releases/mongodb-strengthens-foundation-for-ai-applications-with-product-innovations-and-expanded-partner-ecosystem-302526003.html).

            Contact: **press@mongodb.com** for press inquiries.

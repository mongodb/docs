.. _tutorial-restore-from-point-in-time:

=====================================================
Restore Replica Set from a Point in the Last 24 Hours
=====================================================

.. default-domain:: mongodb

.. start-content

Overview
--------

With |backup|, you can restore from any point within the last 24-hour
period as well as :doc:`restore from a stored snapshot
</tutorial/restore-from-snapshot>`. For replica sets and
sharded clusters, these restores reflect a specific point in time.

Procedure
---------

Select and Download a Snapshot
++++++++++++++++++++++++++++++
  
To select and download snapshot, go to the :guilabel:`Backups` page and click
on the :guilabel:`Sharded Cluster Status` tab or :guilabel:`Replica Set Status`
tab. A list of your sharded clusters or replica sets and their backup details
displays.
  
.. include:: /includes/steps/restore-point-in-time.rst
  
MMS will create a backup that includes *every* every operation until 
this timestamp. In other words, the point in time is an upper
*exclusive* bound: if you select a timesnamp of 12:00, then the
last operation in the restore would be the last operation of
11:59:59.

.. end-content

Run Replicate Database Script
+++++++++++++++++++++++++++++

You cannot restore a single data set to multiple :program:`mongod` instances and then
create a replica set. In this situation, MongoDB will force the secondary
databases to perform an initial sync. The archive produced by MMS Backup
includes a script that automates the process to restore a replica set from
backed up database files.

.. include:: /includes/steps/restore-point-in-time-replicate.rst

For more information about replica set restoration, the MongoDB
:manual:`Restore Replica Set from Backup
</tutorial/restore-replica-set-from-backup>` tutorial provides an alternate
method to create a replica set from backed up data.

To bring data files up as a standalone :program:`mongod` instance, :manual:`see
the MongoDB Installation Guides </installation/#tutorials-installation>`.

.. end-include-content

.. seealso:: :doc:`/tutorial/restore-from-snapshot`

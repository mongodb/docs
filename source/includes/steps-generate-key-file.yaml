title: Create a key file.
stepnum: 1
ref: generate
pre: |
   Create the key file your deployment will use to authenticate
   servers to each other.
action:
  pre: |
    To generate pseudo-random data to use for a
    :setting:`keyfile`, issue the following ``openssl`` command:
  language: sh
  code: |
    openssl rand -base64 741 > mongodb-keyfile
    chmod 600 mongodb-keyfile
post: | 
  Copy the ``mongodb-keyfile`` to all hosts where components of a
  MongoDB deployment run. Set the permissions of these files to
  ``600``.
---
title: Specify the key file when starting a MongoDB instance.
stepnum: 2
ref: specify
action:
  pre: |
    Specify the path to the key file with the :setting:`~security.keyFile` option.
...

ref: security
edition: onprem
content: |

  To ensure the security of your |onprem| agents, |onprem| servers,
  and MongoDB deployments, |onprem| supports the security options
  described on this page.

  |tls-ssl| Support for Encrypted Connections
  -------------------------------------------

  |onprem| supports encrypted connections using |tls-ssl| server or
  client certificates. Client certificates identify the user while
  server certificates identifies the server.

  - All |onprem| agents can connect to |onprem| using |tls-ssl| server or client certificates.

  - |onprem| can
    :doc:`connect to its backing databases </tutorial/configure-ssl-connection-to-backing-mongodb>`
    using |tls-ssl| server or client certificates.

  - |onprem| users can connect to the |onprem| console or |api| using |tls-ssl| :doc:`server certificates </tutorial/configure-ssl-connection-to-web-interface>`.

  Authentication Mechanisms
  -------------------------

  |onprem| supports the following authentication mechanisms between
  the following components:

  .. list-table::
     :header-rows: 1
     :widths: 15 15 10 10 10 10 10 10 10

     * - From
       - To
       - |onprem| DB
       - :doc:`MONGODB-CR </tutorial/enable-mongodbcr-authentication-for-group>`
       - :doc:`SCRAM-SHA-1 </tutorial/enable-mongodbcr-authentication-for-group>`
       - :doc:`SCRAM-SHA-256 </tutorial/enable-mongodbcr-authentication-for-group>`
       - :doc:`x.509 </tutorial/enable-x509-authentication-for-group>`
       - :doc:`Kerberos </tutorial/enable-kerberos-authentication-for-group>`
       - :doc:`LDAP </tutorial/enable-ldap-authentication-for-group>`
     * - Ops Manager
       - Linux Backing Database
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       -
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
     * - Ops Manager
       - Windows Backing Database
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       -
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
     * - Monitoring Agent
       - Ops Manager
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
     * - Backup Agent
       - Ops Manager
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
     * - {+aagent+}
       - Ops Manager
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
       - :icon:`check-circle`
     * - |onprem| User
       - Ops Manager
       - :icon:`check-circle`
       - 
       - 
       - 
       - 
       - 
       - :icon:`check-circle` :doc:`* </tutorial/configure-for-ldap-authentication>`

  .. note::

     Kerberos and |ldap| authentication is available with MongoDB
     Enterprise only.

---
ref: security
edition: cloud
content: |

  |mms| provides configurable encryption, authentication, and
  authorization to ensure the security of your |mms| agents and MongoDB
  deployments. |mms| supports :ref:`SSL <cloud-ssl>`,
  :ref:`cloud-mongodb-cr`, :ref:`cloud-ldap`, and
  :ref:`cloud-kerberos`.

  .. _cloud-ssl:

  SSL Encryption
  --------------

  |mms| can use SSL for encrypting communications for the following
  Monitoring Agent and Backup Agent connections:

  - Connections to |mms|.

  - Connections to MongoDB instances that use SSL. You must set each
    MongoDB host's :guilabel:`Use SSL` setting in |mms| and must
    configure the agents' SSL settings. See
    :doc:`/tutorial/configure-monitoring-agent-for-ssl` and
    :doc:`/tutorial/configure-backup-agent-for-ssl`.

  Access Control and Authentication
  ---------------------------------

  MongoDB uses Role-Based Access Control (RBAC) to determine access to
  a MongoDB system. When run with access control, MongoDB requires
  users to authenticate themselves to determine their access.

  If you :ref:`enable authentication <enable-authentication>` for your
  deployments, the |mms| agents authenticate to the deployments as
  MongoDB users with appropriate privileges.

  If a MongoDB deployment runs with access control, the Monitoring and
  Backup Agents must authenticate to the deployment as MongoDB users
  with appropriate access. See the following:

  - :doc:`/reference/required-access-monitoring-agent`
  - :doc:`/reference/required-access-backup-agent`

  To learn more about authenticating with the supported mechanisms, see
  :ref:`cloud-mongodb-cr`, :ref:`cloud-ldap`, and :ref:`cloud-kerberos`.

  .. _cloud-mongodb-cr:

  MONGODB-CR
  ----------

  |mms| can use the MongoDB Challenge-Response (``MONGODB-CR``)
  authentication mechanism to authenticate to a MongoDB deployment.
  To learn more, see the ``MONGODB-CR`` section on the
  :manual:`Authentication page </core/authentication>` in the MongoDB
  manual.

  If your MongoDB deployment uses ``MONGODB-CR`` for authentication,
  you must create a MongoDB user for the |mms| agents as well as
  specify the host's authentication settings.

  To create a MongoDB user, see
  :doc:`/tutorial/configure-monitoring-agent-for-cr` and
  :doc:`/tutorial/configure-backup-agent-for-cr`.

  You can specify the host's authentication settings when
  :doc:`adding the host </tutorial/add-existing-mongodb-processes>`,
  or you can
  :doc:`edit the settings </tutorial/edit-host-authentication-credentials>` for an existing host.

  .. _cloud-ldap:

  |ldap|
  ------

  |mms| agents can use the |ldap| authentication mechanism to
  authenticate to the MongoDB deployment.

  If your MongoDB deployment uses |ldap| for authentication, you must
  create a MongoDB user for the |mms| agents as well as specify the
  host's authentication settings.

  To create a MongoDB user for the agents, see
  :doc:`/tutorial/configure-monitoring-agent-for-ldap` and
  :doc:`/tutorial/configure-backup-agent-for-ldap`.

  You can specify the host's authentication settings when
  :doc:`adding the host </tutorial/add-existing-mongodb-processes>`,
  or you can
  :doc:`edit the settings </tutorial/edit-host-authentication-credentials>` for an existing host.

  .. _cloud-kerberos:

  Kerberos
  --------

  If your MongoDB deployment uses Kerberos for authentication, you
  must create the Kerberos Principal for the |mms| agents, create a
  MongoDB user for that Kerberos Principal, edit the agent's
  configuration file, and specify the host's authentication settings.

  If you are running both the Monitoring Agent and the Backup Agent on
  the same server, then both agents must connect as the same Kerberos
  Principal.

  To create a Kerberos Principal and the associated MongoDB user as
  well as edit the configuration file, see
  :doc:`/tutorial/configure-monitoring-agent-for-kerberos` and
  :doc:`/tutorial/configure-backup-agent-for-kerberos`.

  You can specify the host's authentication settings when
  :doc:`adding the host </tutorial/add-existing-mongodb-processes>`,
  or you can
  :doc:`edit the settings </tutorial/edit-host-authentication-credentials>`
  for an existing host.

...

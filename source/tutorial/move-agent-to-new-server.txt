========================================
Move or Add a Monitoring or {+bagent+}
========================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

When you deploy MongoDB as a :term:`replica set` or :term:`sharded
cluster` on a group of servers, |mms| selects a server to run the
{+magent+}. If you enable |mms| Backup, |mms| also selects a server to
run the {+bagent+}.

You can move the Monitoring and {+bagent+}s to different servers in the
deployment. You might choose to do this, for example, if you are
terminating a server.

You can add additional {+magent+}s to provide failover and to distribute
monitoring assignments. To distribute monitoring assignments, you must run
{+magent+} version 5.0.0 or higher. For more information, see
:ref:`multiple-monitoring-agents`.

You can add additional {+bagent+}s as hot standbys for high availability. If
you run multiple {+bagent+}s, only one {+bagent+} in your project's
deployment is the primary agent and performs backups. Any other agents are
standbys.

Move a Monitoring or {+bagent+} to a Different Server
-------------------------------------------------------

To move an agent to a new server, you install a new instance of the agent
on the target server, and then remove the agent from its original server.

.. include:: /includes/steps/move-agent-to-new-server.rst

Install an Additional {+magent+}
--------------------------------------

.. include:: /includes/steps/install-additional-monitoring-agent.rst

Install an Additional {+bagent+}
----------------------------------

.. include:: /includes/steps/install-additional-backup-agent.rst

.. _mcli-om-dbuser-list-command:

================================
mongocli ops-manager dbuser list
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``dbuser list`` command retrieves the list of MongoDB database users 
on the specified |mms-full| cluster.

Syntax
------

.. code-block:: text

   mongocli ops-manager|om dbuser list|ls    
        [ --profile|-p <profile-name> ]
        [ --projectId <project-ID> ]

.. include:: /includes/fact-command-line-help.rst

Options
-------

.. list-table::
   :widths: 20 10 60 10

   * - Option 
     - Type
     - Description
     - Required?

   * - ``--profile``, ``-p``
     - string
     - Name of the profile where the public and private 
       keys for the project are saved. If omitted, uses the 
       ``default`` profile. To learn more about creating a 
       profile, see :ref:`mcli-configure`.
     - no

   * - ``--projectId``
     - string
     - Unique identifier of the project that contains the 
       cluster to update. If omitted, uses the project ID in 
       the profile or :ref:`environment variable <mcli-env-var>`.
     - no

.. _om-dbuser-output:

Output 
------
.. include:: /includes/command-output-intro.rst

.. include:: /includes/cm-dbuser-output-fields.rst

Examples 
--------

The following example uses the ``mongocli ops-manager dbuser list`` command 
to retrieve the list of MongoDB database users on the |mms| cluster. 
The command uses the profile named ``myOmProfile``, which contains 
the |svc-api-key|\s and the project ID.

.. code-block:: sh
   :copyable: false

   ~ mongocli ops-manager dbuser list --profile myOmProfile

The previous command prints the following fields to the terminal. To learn 
more about these fields, see :ref:`Output <om-dbuser-output>`.

.. note::

   This output is particular to this |mms| cluster. The output for
   your cluster may be different.

.. code-block:: json
   :copyable: false

   [
      {
        "user": "user1",
        "db": "admin",
        "roles": [
    	  {
            "role": "readWriteAnyDatabase",
            "db": "admin"
    	  }
        ],
        "scramSha256Creds": {
            "iterationCount": 15000,
            "salt": "w3sthRPXyl525zfSe/s77hObK9yU+JotgQ==",
            "serverKey": "zR3mTXUSJayWVsN4UNgONyRvGC4QAnTjQK/K4J4=",
            "storedKey": "kPqSzd01cfzvLy7ihVweV/kjO2pEM81iROgh6g="
    	},
        "mechanisms": [
            "SCRAM-SHA-256"
        ]
      },
      {
        "user": "user2",
        "db": "test",
        "roles": [
    	  {
            "role": "read",
            "db": "test"
    	  }
        ],
        "scramSha1Creds": {
            "iterationCount": 10000,
            "salt": "9G2BNWxfIRXyacLOTWA==",
            "serverKey": "SxdzrJOsNj9ALtKbdCfju8A=",
            "storedKey": "kVrmPviw9MgNl6Mw/xxZomo="
    	},
        "mechanisms": [
          "SCRAM-SHA-1"
        ]
      }
   ]
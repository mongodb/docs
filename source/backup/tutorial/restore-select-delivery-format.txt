=============================================
Select Backup File Delivery Method and Format
=============================================

.. default-domain:: mongodb

.. contents::
   :backlinks: none
   :local:
   :depth: 2

.. start-content

Overview
--------

With |backup|, you can restore from a :doc:`stored snapshot
</backup/tutorial/restore-from-snapshot/>` or, if you are restoring a replica
set, you may build a :doc:`custom snapshot
</backup/tutorial/restore-from-point-in-time-snapshot>` reflecting a different
point in the last 24 hours. For all backups, restoring from a stored snapshot
is faster than restoring from a custom snapshot in the last 24 hours.

Once you select a backup-enabled sharded cluster or replica set to restore, the
next step is to select the delivery method and file format.

Procedures
----------

Select Backup File via Secure HTTP (HTTPS)
++++++++++++++++++++++++++++++++++++++++++

In the :guilabel:`Select Restore Destination` window, select :guilabel:`Pull
via Secure HTTP (HTTPS)` to create a one-time direct download link.

Select Backup File via Secure Copy (SCP)
++++++++++++++++++++++++++++++++++++++++

In the :guilabel:`Select Restore Destination` window, select :guilabel:`Push
via Secure Copy (SCP)`. You can grant access by supplying MMS with a username
and password to your server, or you can provide a username and grant access via
SSH public key.

To grant access via SSH public key:

.. include:: /includes/steps/restore-delivery-format.rst

.. note::

   For security reasons, you should remove this public key from the authorized
   hosts file once you have obtained your backup file.

Select Backup File Format
+++++++++++++++++++++++++

In the :guilabel:`Select Restore Destination` window, select
:guilabel:`Individual DB Files` or :guilabel:`Archive (tar.gz)` as the
:guilabel:`Format`:

- Select :guilabel:`Individual DB Files` to transmit MongoDB data files
  produced by MMS Backup directly to the target directory. The individual
  database files are faster for |backup| to construct, but require additional
  file space on the destination server. The data *is* compressed during
  transmission.

- Select :guilabel:`Archive (tar.gz)` to deliver database files in a single
  ``tar.gz`` file you must extract before reconstructing databases.

Next Steps
----------

.. end-content

:doc:`/backup/tutorial/restore-from-snapshot`

:doc:`/backup/tutorial/restore-from-point-in-time-snapshot`

# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2008-2019
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 3.6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2019-03-19 11:30-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:3
msgid "Change Hostnames in a Replica Set"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:13
msgid "For most :term:`replica sets <replica set>`, the hostnames in the :rsconf:`members[n].host` field never change. However, if organizational needs change, you might need to migrate some or all host names."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:18
msgid "Always use resolvable hostnames for the value of the :rsconf:`members[n].host` field in the replica set configuration to avoid confusion and complexity."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:23
msgid "Overview"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:25
msgid "This document provides two separate procedures for changing the hostnames in the :rsconf:`members[n].host` field. Use either of the following approaches:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:29
msgid ":ref:`Change hostnames without disrupting availability <replica-set-change-hostname-no-downtime>`. This approach ensures your applications will always be able to read and write data to the replica set, but the approach can take a long time and may incur downtime at the application layer."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:35
msgid "If you use the first procedure, you must configure your applications to connect to the replica set at both the old and new locations, which often requires a restart and reconfiguration at the application layer and which may affect the availability of your applications. Re-configuring applications is beyond the scope of this document."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:41
msgid ":ref:`Stop all members running on the old hostnames at once <replica-set-change-hostname-downtime>`. This approach has a shorter maintenance window, but the replica set will be unavailable during the operation."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:48
msgid ":ref:`Replica Set Reconfiguration Process <replica-set-reconfiguration-usage>`, :doc:`/tutorial/deploy-replica-set`, and :doc:`/tutorial/expand-replica-set`."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:56
msgid "Assumptions"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:58
msgid "Given a :term:`replica set` with three members:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:60
msgid "``database0.example.com:27017`` (the :term:`primary`)"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:62
msgid "``database1.example.com:27017``"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:64
msgid "``database2.example.com:27017``"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:66
msgid "And with the following :method:`rs.conf()` output:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:89
msgid "The following procedures change the members' hostnames as follows:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:91
msgid "``mongodb0.example.net:27017`` (the primary)"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:93
msgid "``mongodb1.example.net:27017``"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:95
msgid "``mongodb2.example.net:27017``"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:97
msgid "Use the most appropriate procedure for your deployment."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:102
msgid "Change Hostnames while Maintaining Replica Set Availability"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:104
msgid "This procedure uses the above :ref:`assumptions <procedure-assumption-change-hostnames-replica-set>`."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:106
msgid "For each :term:`secondary` in the replica set, perform the following sequence of operations:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:109
msgid "Stop the secondary."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:111
msgid "Restart the secondary at the new location."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:113
msgid "Open a :binary:`~bin.mongo` shell connected to the replica set's primary. In our example, the primary runs on port ``27017`` so you would issue the following command:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:121
msgid "Use :method:`rs.reconfig()` to update the :doc:`replica set configuration document </reference/replica-configuration>` with the new hostname."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:125
msgid "For example, the following sequence of commands updates the hostname for the secondary at the array index ``1`` of the ``members`` array (i.e. ``members[1]``) in the replica set configuration document:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:136
msgid "For more information on updating the configuration document, see :ref:`replica-set-reconfiguration-usage`."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:139
msgid "Make sure your client applications are able to access the set at the new location and that the secondary has a chance to catch up with the other members of the set."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:143
msgid "Repeat the above steps for each non-primary member of the set."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:145
msgid "Open a :binary:`~bin.mongo` shell connected to the primary and step down the primary using the :method:`rs.stepDown()` method:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:152
msgid "The replica set elects another member to the become primary."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:154
msgid "When the step down succeeds, shut down the old primary."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:156
msgid "Start the :binary:`~bin.mongod` instance that will become the new primary in the new location."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:159
msgid "Connect to the current primary, which was just elected, and update the :doc:`replica set configuration document </reference/replica-configuration>` with the hostname of the node that is to become the new primary."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:164
msgid "For example, if the old primary was at position ``0`` and the new primary's hostname is ``mongodb0.example.net:27017``, you would run:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:173
msgid "Open a :binary:`~bin.mongo` shell connected to the new primary."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:175
#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:333
msgid "To confirm the new configuration, call :method:`rs.conf()` in the :binary:`~bin.mongo` shell."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:178
#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:336
msgid "Your output should resemble:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:204
msgid "Change All Hostnames at the Same Time"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:206
msgid "This procedure uses the above :ref:`assumptions  <procedure-assumption-change-hostnames-replica-set>`."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:211
msgid "Prerequisites"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:213
msgid "The following procedure reads and updates the ``system.replset`` collection in the ``local`` database."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:216
msgid "If your deployment enforces :doc:`access control </core/authorization>`, the user performing the procedure must have :authaction:`find` and :authaction:`update` privilege actions on the ``system.replset`` collection."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:221
msgid "To create a role that provides the necessary privileges:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:223
msgid "Log in as a user with privileges to manage users and roles, such as a user with :authrole:`userAdminAnyDatabase` role. The following procedure uses the ``myUserAdmin`` created in :doc:`/tutorial/enable-authentication`."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:232
msgid "Create a user role that provides the necessary privileges on the ``system.replset`` collection in the ``local`` database:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:245
msgid "Grant the role to the user who will be performing the rename procedure. For example, the following assumes an existing user ``\"userPerformingRename\"`` in the ``admin`` database."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:255
msgid "Procedure"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:257
msgid "Stop all members in the :term:`replica set`."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:259
msgid "Restart each member *on a different port* and *without* using the :option:`--replSet <mongod --replSet>` run-time option. Changing the port number during maintenance prevents clients from connecting to this host while you perform maintenance. Use the member's usual :option:`--dbpath <mongod --dbpath>`, which in this example is ``/data/db1``. Use a command that resembles the following:"
msgstr ""

#: ../source/includes/warning-bind-ip-security-considerations.rst:3
#: ../source/includes/warning-bind-ip-security-considerations.rst:3
msgid "Before binding to a non-localhost (e.g. publicly accessible) IP address, ensure you have secured your cluster from unauthorized access. For a complete list of security recommendations, see :doc:`/administration/security-checklist`. At minimum, consider :ref:`enabling authentication <checklist-auth>` and :doc:`hardening network infrastructure </core/security-network>`."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:272
msgid "For each member of the replica set, perform the following sequence of operations:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:275
msgid "Open a :binary:`~bin.mongo` shell connected to the :binary:`~bin.mongod` running on the new, temporary port. For example, for a member running on a temporary port of ``37017``, you would issue this command:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:284
msgid "If running with access control, connect as a user with appropriate privileges. See :ref:`repl-set-change-hostname-prereq`."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:292
msgid "Edit the replica set configuration manually. The replica set configuration is the only document in the ``system.replset`` collection in the ``local`` database. Edit the replica set configuration with the new hostnames and correct ports for all the members of the replica set. Consider the following sequence of commands to change the hostnames in a three-member set:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:313
msgid "Stop the :binary:`~bin.mongod` process on the member."
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:315
msgid "After re-configuring all members of the set, start each :binary:`~bin.mongod` instance in the normal way: use the usual port number and use the :option:`--replSet <mongod --replSet>` option. For example:"
msgstr ""

#: ../source/tutorial/change-hostnames-in-a-replica-set.txt:326
msgid "Connect to one of the :binary:`~bin.mongod` instances using the :binary:`~bin.mongo` shell. For example:"
msgstr ""


stepnum: 1
level: 4
source:
  file: steps-source-deployment-page.yaml
  ref: click-deployment-processes
---
title: "Choose :guilabel:`New Replica Set`."
stepnum: 2
level: 4
ref: add-rs
content: |
  a. Click the :guilabel:`New Deployment` dropdown menu.
  b. Select :guilabel:`New Replica Set`.
---
title: "Configure the replica set."
stepnum: 3
level: 4
ref: configure
content: |

  In the :guilabel:`Replica Set Configuration` section, complete the
  following fields.

  .. list-table::
     :widths: 30 70
     
     * - :guilabel:`Name`
       - Type the name for your standalone MongoDB deployment.
     
     * - :guilabel:`Version`
       - Select the MongoDB version for your standalone MongoDB
         deployment.

         .. note:: 
            If the dropdown menu does not include the MongoDB version
            you want for your deployment, you must enable it in the
            :doc:`Version Manager 
            </tutorial/configure-available-mongodb-version>`.
     
     * - :guilabel:`Auth Schema Version`
       - Select the schema for storing the user data for your
         deployment. If you are upgrading from a MongoDB version older
         than 3.0, MongoDB 3.0 uses a different schema for user data
         than previous versions. For compatibility information, see the
         :ref:`Security Changes <legacy-auth-model-removed>` 
         in the MongoDB 3.0 release notes.
     
     * - :guilabel:`Feature Compatibility` (Optional)
       - Select the :manual:`feature compatibility set
         </reference/command/setFeatureCompatibilityVersion>`. This
         field appears if your deployment MongoDB version is
         ``3.4`` or later.

     * - :guilabel:`Eligible Server RegExp`
       - Type a `Perl-compatible regular expression
         <http://www.pcre.org>`_ that includes the hostnames of the
         servers to which |mms| deploys MongoDB.

         - To use any of your provisioned servers, enter a period
           (\".\").
         - To use a specific set of servers, enter a part of the
           hostnames corresponding to a regular expression you specify.
         - To use your local server, enter its hostname.

         .. example::
            You have provisioned three servers: 

            - ``westdev-01a-mongodb.example.com``
            - ``centraldev-01b-mongodb.example.com``
            - ``eastdev-03e-mongodb.example.com``

            To create one replica set using all of these servers, you
            would enter ``.*\-mongodb\.example\.com``.

     * - :guilabel:`Eligible Port Range` 
       - Type lower and upper values of :abbr:`IANA (Internet Assigned
         Numbers Authority)` port numbers for your MongoDB deployment.
         |mms| assigns each member of your replica set a port number
         within this range.
     
     * - :guilabel:`MongoDs Per Replica Set` 
       - Set the number of :program:`mongod`\s (members) you want in
         your replica set. The default is ``3`` and the maximum is
         ``50``. Only ``7`` members of a replica set can vote.
     
     * - :guilabel:`Member Options`

       - Configures replica set members. By default, each member is a
         voting member that bears data. 

         You may select a new member type from the dropdown menu:
         
         - :manual:`arbiter </core/replica-set-arbiter>`
         - :manual:`hidden </core/replica-set-hidden-member>`
         - :manual:`delayed </core/replica-set-delayed-member>`

         You can change the :manual:`election parameters 
         </core/replica-set-elections>` of each member: 

         - Change the number of votes the member has and
         - Change the member's priority.

         Click :guilabel:`Add` to add another member to the replica
         set.

         .. note:: 
            A :term:`replica set` can have :limit:`up to 50 members
            <Number of Members of a Replica Set>`, but only 
            :limit:`7 voting members <Number of Voting Members of a Replica Set>`. 
            Set the number of voting members to an odd number to
            allow a majority vote for :manual:`primary elections 
            </core/replica-set-elections>`. For how to select voting
            members, see :ref:`replica-set-non-voting-members`.

     * - :guilabel:`DB Directory Path Prefix`
       - Type the beginning of the system path to the 
         :setting:`database directory <storage.dbPath>` for this
         process. The default is ``/data``.
     
---
title: "Set any advanced configuration options for your MongoDB replica set."
stepnum: 4
level: 4
ref: set-advanced
content: |

  In the :guilabel:`Advanced Options` section, add any additional
  runtime options you want to set for your MongoDB deployment.

  To add an option:

  a. Click :guilabel:`Add Option`.
  b. Select a :doc:`Startup Option 
     </reference/deployment-advanced-options>`.
  c. Set an acceptable value for that Startup Option.

  For descriptions of :guilabel:`Advanced Options`, see 
  :doc:`/reference/deployment-advanced-options`.

---
title: "Click :guilabel:`Apply`."
stepnum: 5
level: 4
ref: apply-settings
content: |
---
stepnum: 6
level: 4
source:
  file: steps-source-deployment-page.yaml
  ref: drag
---
stepnum: 7
level: 4
source:
  file: steps-source-deployment-page.yaml
  ref: review-deployment
---
stepnum: 8
level: 4
source:
  file: steps-source-deployment-page.yaml
  ref: confirm-deployment
...

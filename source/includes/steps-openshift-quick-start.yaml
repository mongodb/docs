---
stepnum: 1
level: 4
ref: clone-k8s-repo-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: clone-k8s-repo-kind

---
stepnum: 2
level: 4
ref: create-k8s-ns-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: create-k8s-ns-kind

---
stepnum: 3
level: 4
ref: configure-kubectl-configmap-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: configure-kubectl-configmap-kind

---
stepnum: 4
level: 4
ref: create-k8s-secret-openshift
title: "Create a |k8s-secret| that contains credentials authorized to pull images from the ``registry.connect.redhat.com`` repository."
source:
  file: steps-install-prereqs.yaml
  ref: create-k8s-secret

---
stepnum: 5
level: 4
title: "Install the |k8s-op-full|"
ref: install-k8s-openshift
content: |

  a. Invoke the following |oc| command to install the |k8s-crds| for 
     MongoDB deployments:

     .. code-block:: sh

        oc apply -f crds.yaml
  
  #. Add your ``<openshift-pull-secret>`` to the ``ServiceAccount``
     definitions in the |k8s-op-full| |yaml| file.

     .. literalinclude:: /includes/openshift-service-accounts.yaml
        :language: yaml
        :emphasize-lines: 11-12, 22-23, 33-34

  #. Invoke the following |oc| command to install |k8s-op-short|:

     .. code-block:: sh

        oc apply -f mongodb-enterprise-openshift.yaml

---
stepnum: 6
level: 4
ref: create-k8s-credentials-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: create-k8s-credentials-kind
  
---
stepnum: 7
level: 4
ref: copy-k8s-configmap-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: copy-k8s-configmap-kind

---
stepnum: 8
level: 4
ref: deploy-replica-set-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: deploy-replica-set-kind

---
stepnum: 9
level: 4
ref: create-k8s-user-secret-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: create-k8s-user-secret-kind

---
stepnum: 10
level: 4
ref: add-k8s-user-configmap-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: add-k8s-user-configmap-kind

---
stepnum: 11
level: 4
ref: view-k8s-user-openshift
optional: true
source:
  file: steps-add-database-user-scram.yaml
  ref: view-k8s-user

---
stepnum: 12
level: 4
ref: connect-k8s-rs-openshift
source:
  file: steps-kind-quick-start.yaml
  ref: connect-k8s-rs-kind

...

==================================
Manage Blockstore Snapshot Storage
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/fact-backup-snapshot-store-options.rst

This tutorial covers backing up your MongoDB databases to snapshots stored in
other MongoDB databases. :term:`Blockstores <Backup Blockstore Database>` can
exist on any MongoDB instance that |onprem| can access.

.. include:: /includes/note-add-capacity-using-multiple-stores.rst

Prerequisites
-------------

Before creating any blockstore snapshot stores:

- Ensure storage volumes with sufficient capacity to store the blockstore and
  the :term:`Oplog Store <Oplog Store Database>` MongoDB database is attached
  to the |onprem| or MongoDB host. The Oplog Store does not *need* to reside
  on the same host as the blockstore. The Oplog Store *can* be created using
  the same :term:`replica set` as the blockstore if you need to conserve
  storage and compute resources.

- :doc:`Deploy the dedicated MongoDB instance(s) 
  </tutorial/prepare-backing-mongodb-instances>` 
  to host the blockstore database and Oplog Stores.

- Ensure the host running the |onprem| :term:`Backup Daemon` service has
  sufficient capacity to store the :term:`head` database.

- Secure the instance that stores your :term:`blockstores 
  <Backup Blockstore Database>` using :ref:`authentication 
  <configure-auth-backing>` and :ref:`SSL <configure-ssl-backing>`. 
  Blockstores support `all authentication mechanisms
  <https://docs.mongodb.com/manual/reference/connection-string/#urioption.authMechanism>`_.

.. _add-blockstore:

Add a Blockstore
----------------

.. include:: /includes/steps/admin-add-blockstore.rst

Edit an Existing Blockstore
---------------------------

Once created, blockstores are listed directly on the :guilabel:`Snapshot
Storage` page in a table. Each row contains the settings for each blockstore.

.. include:: /includes/steps/admin-edit-blockstore.rst

.. _delete-blockstore:

Delete a Blockstore
-------------------

.. include:: /includes/steps/admin-delete-blockstore.rst

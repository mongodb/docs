<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="815" height="700" viewBox="0, 0, 815, 700">
  <g id="Layer_1">
    <g>
      <text transform="matrix(1, 0, 0, 1, 111.495, 50.838)">
        <tspan x="-105.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F"> db.orders.mapReduce( </tspan>
      </text>
      <path d="M113.908,221.544 L113.975,221.544 L113.975,221.943 L113.908,221.943 z" fill="#FFFFFF"/>
      <g>
        <text transform="matrix(1, 0, 0, 1, 473.143, 68.712)">
          <tspan x="-250.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F">function() { emit( this.cust_id, this.amount ); },</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 488.143, 95.912)">
          <tspan x="-265.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F">function(key, values) { return Array.sum( values ) },</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 228.143, 123.112)">
          <tspan x="-5.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F">{ </tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 349.813, 142.512)">
          <tspan x="-110.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F">query: { status: "A" }</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 464.813, 142.512)">
          <tspan x="-5.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F">,</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 334.813, 162.912)">
          <tspan x="-95.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F">out: "order_totals"</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 228.143, 182.712)">
          <tspan x="-5.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F">}</tspan>
        </text>
      </g>
      <text transform="matrix(1, 0, 0, 1, 211.808, 202.552)">
        <tspan x="-5.5" y="6" font-family="Inconsolata" font-size="20" fill="#13206F">) </tspan>
      </text>
    </g>
    <g>
      <g>
        <text transform="matrix(1, 0, 0, 1, 17.292, 256.697)">
          <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 85.351, 272.697)">
          <tspan x="-56.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 71.351, 289.697)">
          <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 500,</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 67.851, 306.697)">
          <tspan x="-39" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 17.292, 322.697)">
          <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
      </g>
      <g>
        <text transform="matrix(1, 0, 0, 1, 17.292, 362.833)">
          <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 85.351, 378.833)">
          <tspan x="-56.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 71.351, 395.833)">
          <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 250,</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 67.851, 412.833)">
          <tspan x="-39" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 17.292, 428.833)">
          <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
      </g>
      <g>
        <text transform="matrix(1, 0, 0, 1, 17.292, 469.697)">
          <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 85.351, 485.697)">
          <tspan x="-56.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "B212",</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 71.351, 502.697)">
          <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 200,</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 67.851, 519.697)">
          <tspan x="-39" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 17.292, 535.697)">
          <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
      </g>
      <g>
        <text transform="matrix(1, 0, 0, 1, 17.292, 576.501)">
          <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 85.351, 592.501)">
          <tspan x="-56.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 71.351, 609.501)">
          <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 300,</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 67.851, 626.501)">
          <tspan x="-39" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "D"</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 17.292, 642.501)">
          <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
      </g>
    </g>
    <g>
      <g>
        <path d="M6.638,242.697 L149.371,242.697 L149.371,669.697 L6.638,669.697 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
        <path d="M6.638,349.521 L149.586,349.544" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <path d="M6.638,455.431 L149.586,455.454" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <path d="M6.495,562.064 L149.443,562.087" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
      </g>
      <text transform="matrix(1, 0, 0, 1, 78.041, 681.5)">
        <tspan x="-27.5" y="5.5" font-family="Inconsolata" font-size="18" fill="#13206F">orders</tspan>
      </text>
    </g>
    <g>
      <path d="M155.586,70.34 L191.587,69.927" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      <g>
        <path d="M191.621,72.927 L199.586,69.836 L191.552,66.928 z" fill="#2A86C0"/>
        <path d="M191.621,72.927 L199.586,69.836 L191.552,66.928 z" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      </g>
    </g>
    <text transform="matrix(1, 0, 0, 1, 106.709, 68.582)">
      <tspan x="-14" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">map</tspan>
    </text>
    <g>
      <g>
        <path d="M155.586,95.34 L191.587,94.927" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        <g>
          <path d="M191.621,97.927 L199.586,94.836 L191.552,91.928 z" fill="#2A86C0"/>
          <path d="M191.621,97.927 L199.586,94.836 L191.552,91.928 z" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        </g>
      </g>
      <text transform="matrix(1, 0, 0, 1, 118.25, 93.582)">
        <tspan x="-27.5" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">reduce</tspan>
      </text>
    </g>
    <g>
      <g>
        <path d="M155.586,163.254 L191.587,162.841" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        <g>
          <path d="M191.621,165.841 L199.586,162.75 L191.552,159.842 z" fill="#2A86C0"/>
          <path d="M191.621,165.841 L199.586,162.75 L191.552,159.842 z" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        </g>
      </g>
      <text transform="matrix(1, 0, 0, 1, 118.25, 162.496)">
        <tspan x="-27.5" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">output</tspan>
      </text>
    </g>
    <g>
      <g>
        <path d="M155.586,143.422 L191.587,143.009" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        <g>
          <path d="M191.621,146.009 L199.586,142.918 L191.552,140.01 z" fill="#2A86C0"/>
          <path d="M191.621,146.009 L199.586,142.918 L191.552,140.01 z" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
        </g>
      </g>
      <text transform="matrix(1, 0, 0, 1, 113.75, 141.664)">
        <tspan x="-23" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">query</tspan>
      </text>
    </g>
    <text transform="matrix(1, 0, 0, 1, 64.066, 11.702)">
      <tspan x="-45.5" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">Collection</tspan>
    </text>
    <g>
      <path d="M65.389,19.028 L65.389,30.028" fill-opacity="0" stroke="#358EC4" stroke-width="1"/>
      <g>
        <path d="M62.389,30.028 L65.389,38.028 L68.389,30.028 z" fill="#358EC4"/>
        <path d="M62.389,30.028 L65.389,38.028 L68.389,30.028 z" fill-opacity="0" stroke="#358EC4" stroke-width="1"/>
      </g>
    </g>
    <g>
      <path d="M228.338,295.379 L366.378,295.379 L366.378,615.5 L228.338,615.5 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
      <path d="M228.275,403.769 L366.441,403.051" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
      <path d="M228.275,509.679 L366.441,509.406" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
    </g>
    <g>
      <path d="M246.96,535.771 L358.049,535.771 L358.049,553.259 L246.96,553.259 z" fill="#A3A3A3"/>
      <g>
        <g>
          <g>
            <path d="M247.454,429.684 L358.544,429.684 L358.544,447.172 L247.454,447.172 z" fill="#AFD1E8"/>
            <text transform="matrix(1, 0, 0, 1, 303.876, 439.672)">
              <tspan x="-56.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#13206F">cust_id: "A123",</tspan>
            </text>
          </g>
          <g>
            <text transform="matrix(1, 0, 0, 1, 236.965, 423.515)">
              <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
            </text>
            <text transform="matrix(1, 0, 0, 1, 291.024, 454.515)">
              <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 250,</tspan>
            </text>
            <text transform="matrix(1, 0, 0, 1, 287.524, 471.515)">
              <tspan x="-39" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
            </text>
            <text transform="matrix(1, 0, 0, 1, 236.965, 487.515)">
              <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
            </text>
          </g>
          <g>
            <g>
              <path d="M246.082,320.605 L357.172,320.605 L357.172,338.094 L246.082,338.094 z" fill="#AFD1E8"/>
              <text transform="matrix(1, 0, 0, 1, 302.504, 329.35)">
                <tspan x="-56.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#13206F">cust_id: "A123",</tspan>
              </text>
            </g>
            <g>
              <text transform="matrix(1, 0, 0, 1, 236.965, 314.379)">
                <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
              </text>
              <text transform="matrix(1, 0, 0, 1, 291.023, 345.379)">
                <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 500,</tspan>
              </text>
              <text transform="matrix(1, 0, 0, 1, 287.523, 362.379)">
                <tspan x="-39" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
              </text>
              <text transform="matrix(1, 0, 0, 1, 236.965, 378.379)">
                <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
              </text>
            </g>
          </g>
        </g>
        <g>
          <text transform="matrix(1, 0, 0, 1, 236.835, 529.133)">
            <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          </text>
          <text transform="matrix(1, 0, 0, 1, 290.894, 560.133)">
            <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 200,</tspan>
          </text>
          <text transform="matrix(1, 0, 0, 1, 287.394, 577.133)">
            <tspan x="-39" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
          </text>
          <text transform="matrix(1, 0, 0, 1, 236.835, 593.133)">
            <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
          </text>
        </g>
        <text transform="matrix(1, 0, 0, 1, 303.46, 544.515)">
          <tspan x="-56.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "B212",</tspan>
        </text>
      </g>
    </g>
    <g>
      <g>
        <path d="M152.167,455.635 L205.767,455.635" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
        <g>
          <path d="M205.767,460.435 L218.567,455.635 L205.767,450.835 z" fill="#358EC4"/>
          <path d="M205.767,460.435 L218.567,455.635 L205.767,450.835 z" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
        </g>
      </g>
      <text transform="matrix(1, 0, 0, 1, 179.176, 465.354)">
        <tspan x="-23" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">query</tspan>
      </text>
    </g>
    <text transform="matrix(1, 0, 0, 1, 748.492, 576.394)">
      <tspan x="-54.5" y="5.5" font-family="Inconsolata" font-size="18" fill="#13206F">order_totals</tspan>
    </text>
    <g>
      <path d="M371.34,455.635 L424.94,455.635" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      <g>
        <path d="M424.94,460.435 L437.74,455.635 L424.94,450.835 z" fill="#358EC4"/>
        <path d="M424.94,460.435 L437.74,455.635 L424.94,450.835 z" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      </g>
    </g>
    <text transform="matrix(1, 0, 0, 1, 399.341, 466.598)">
      <tspan x="-14" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">map</tspan>
    </text>
    <g>
      <path d="M614.181,407.039 L667.781,407.039" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      <g>
        <path d="M667.781,411.839 L680.581,407.039 L667.781,402.239 z" fill="#358EC4"/>
        <path d="M667.781,411.839 L680.581,407.039 L667.781,402.239 z" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      </g>
    </g>
    <text transform="matrix(1, 0, 0, 1, 640.613, 418.118)">
      <tspan x="-27.5" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">reduce</tspan>
    </text>
    <g>
      <path d="M710.045,384.069 L796.61,384.069 L796.61,401.557 L710.045,401.557 z" fill="#AFD1E8"/>
      <g>
        <text transform="matrix(1, 0, 0, 1, 752.545, 392.777)">
          <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#13206F">_id: "A123",</tspan>
        </text>
        <g>
          <text transform="matrix(1, 0, 0, 1, 698.765, 377.705)">
            <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          </text>
          <text transform="matrix(1, 0, 0, 1, 745.823, 408.705)">
            <tspan x="-35.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">value: 750</tspan>
          </text>
          <text transform="matrix(1, 0, 0, 1, 698.765, 424.705)">
            <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
          </text>
        </g>
        <path d="M708.447,493.746 L796.61,493.746 L796.61,511.235 L708.447,511.235 z" fill="#A3A3A3"/>
        <text transform="matrix(1, 0, 0, 1, 751.385, 503.112)">
          <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#13206F">_id: "B212",</tspan>
        </text>
        <g>
          <text transform="matrix(1, 0, 0, 1, 697.304, 488.026)">
            <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          </text>
          <text transform="matrix(1, 0, 0, 1, 744.362, 519.026)">
            <tspan x="-35.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">value: 200</tspan>
          </text>
          <text transform="matrix(1, 0, 0, 1, 697.304, 535.026)">
            <tspan x="-4" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
          </text>
        </g>
      </g>
      <g>
        <path d="M689.331,348.776 L807.742,348.776 L807.742,562.264 L689.331,562.264 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
        <path d="M689.242,456.354 L807.742,456.377" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
      </g>
    </g>
    <g>
      <g>
        <g>
          <text transform="matrix(1, 0, 0, 1, 554.399, 406.271)">
            <tspan x="-42.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">[ 500, 250 ]</tspan>
          </text>
          <path d="M459.33,398.527 L501.239,398.527 L501.239,416.015 L459.33,416.015 z" fill="#AFD1E8"/>
        </g>
        <text transform="matrix(1, 0, 0, 1, 484.33, 405.256)">
          <tspan x="-25" y="4.5" font-family="Inconsolata" font-size="14" fill="#13206F">"A123":</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 451.68, 405.771)">
          <tspan x="-3.84" y="6.5" font-family="Helvetica" font-size="20" fill="#4F4C4B">{</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 603.772, 405.771)">
          <tspan x="-3.84" y="6.5" font-family="Helvetica" font-size="20" fill="#4F4C4B">}</tspan>
        </text>
      </g>
      <path d="M458.508,494.742 L500.416,494.742 L500.416,512.23 L458.508,512.23 z" fill="#A3A3A3"/>
      <text transform="matrix(1, 0, 0, 1, 483.508, 503.486)">
        <tspan x="-25" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">"B212":</tspan>
      </text>
      <text transform="matrix(1, 0, 0, 1, 523.508, 503.486)">
        <tspan x="-11" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">200</tspan>
      </text>
      <path d="M443.417,487.261 L610.63,487.261 L610.63,520.712 L443.417,520.712 z" fill-opacity="0" stroke="#514E4C" stroke-width="1"/>
      <text transform="matrix(1, 0, 0, 1, 451.68, 501.608)">
        <tspan x="-3.84" y="6.5" font-family="Helvetica" font-size="20" fill="#4F4C4B">{</tspan>
      </text>
      <text transform="matrix(1, 0, 0, 1, 540.44, 502.986)">
        <tspan x="-3.84" y="6.5" font-family="Helvetica" font-size="20" fill="#4F4C4B">}</tspan>
      </text>
      <path d="M443.417,390.667 L610.63,390.667 L610.63,424.118 L443.417,424.118 z" fill-opacity="0" stroke="#514E4C" stroke-width="1"/>
    </g>
    <g>
      <path d="M614.612,504.21 L668.213,503.794" fill-opacity="0" stroke="#4F4C4B" stroke-width="4"/>
      <g>
        <path d="M668.25,508.594 L681.012,503.695 L668.175,498.994 z" fill="#4F4C4B"/>
        <path d="M668.25,508.594 L681.012,503.695 L668.175,498.994 z" fill-opacity="0" stroke="#4F4C4B" stroke-width="4"/>
      </g>
    </g>
  </g>
</svg>

.. _mcli-config-command:

===============
mongocli config
===============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. _mcli-config-command-desc:

Description
-----------

The ``config`` command configures the {+mcli+} to access MongoDB
services, including |service-fullname|, |cloud|, and |mms-full|. The
command groups the settings for accessing the service into a
:ref:`profile <mcli-profiles>`.

When you run the command, it prompts you for the following information:

.. list-table::
   :widths: 30 40 30
   :header-rows: 1
   :stub-columns: 1

   * - Setting
     - Description
     - Necessity

   * - Ops Manager Base URL
     - URL to access your |onprem| instance.
     - Required for |onprem| access.

   * - | Public API Key
       | Private API Key
     - Public and Private API key for programmatic access to your
       project using the {+mcli+}. For more information on generating
       these keys, see:
      
       - :atlas:`Configure Atlas API Access </configure-api-access>`
       - :cloudmgr:`Configure Cloud Manager Public API Access
         </tutorial/configure-public-api-access>`
       - :opsmgr:`Configure Ops Manager Public API Access
         </tutorial/configure-public-api-access>`
       
     - Required.

   * - Default Org ID
     - ID of your organization.
     - Optional.

   * - Default Project ID
     - ID of your project.
     - Optional.

{+mcli+} saves these settings as a profile in the :ref:`mcli-config-file`.

.. _mcli-config-command-syntax:

Syntax
------

.. code-block:: text
   :copyable: false

   mongocli config
        [ --profile|-P <profile-name> ]
        [ --service cloud|cloud-manager|ops-manager ]

.. include:: /includes/fact-command-line-help.rst

.. _mcli-config-command-options:

Options
-------
.. list-table::
   :header-rows: 1
   :widths: 20 10 60 10 

   * - Option 
     - Type
     - Description
     - Required?

   * - ``--profile``, ``-P``
     - string
     - Name for the profile where the access information is saved. 
       If this is omitted, {+mcli+} saves the access information in a
       profile named ``default``.
     - no

   * - ``--service``
     - string
     - MongoDB service for which you are configuring {+mcli+} access. 
       Value can be:

       - ``cloud`` - for |service|
       - ``cloud-manager`` - for |cloud-short|
       - ``ops-manager`` - for |mms|

       If this is omitted, defaults to ``cloud`` for |service|.
     - no

.. _mcli-config-command-output:

Output 
~~~~~~

The command does not print any output to the terminal. To verify that 
the command was successful, you can look for the profile in the 
``mongocli.toml`` file or use :ref:`mcli-config-describe-command`. If
the command returns errors, see :ref:`Troubleshooting <troubleshooting>`
for recommended solutions.

.. _mcli-config-command-examples:

Examples
--------

The following examples use the ``mongocli config`` command to:

1. Create a profile for accessing a service.
2. Save the access information for the service under that profile. 

.. tabs::

   .. tab:: Atlas
      :tabid: atlas

      **Example 1** 
      
      The following command saves the access information for
      |service| in a profile named ``default``.

      .. code-block:: text
         :copyable: false
   
         ~ mongocli config

         ? Public API Key: abcdefgh
         ? Private API Key: [? for help] ************************************
         ? Choose a default organization: Org1 (5c815cc7d5ec13092a02a1b2)
         ? Choose a default project: Project1 (5e5ebffd0c04a9700906c3d4)

      **Example 2** 
      
      The following command saves the access information for 
      |service| in a profile named ``Profile1``. 

      .. code-block:: text
         :copyable: false
   
         ~ mongocli config --profile Profile1

         ? Public API Key: abcdefgh
         ? Private API Key: [? for help] ************************************
         ? Choose a default organization: Org1 (5c815cc7d5ec13092a02a1b2)
         ? Choose a default project: Project1 (5e5ebffd0c04a9700906c3d4)

   .. tab:: Cloud Manager
      :tabid: cloud-manager

      **Example 1**

      The following command saves the access information for
      |cloud-short| in a profile named ``default``.

      .. code-block:: text
         :copyable: false
   
         ~ mongocli config --service cloud-manager

         ? Public API Key: abcdefgh
         ? Private API Key: [? for help] ************************************
         ? Choose a default organization: Org1 (5c815cc7d5ec13092a02a1b2)
         ? Choose a default project: Project1 (5e5ebffd0c04a9700906c3d4)

      **Example 2** 
      
      The following command saves the access information for 
      |cloud-short| in a profile named ``Profile1``. 

      .. code-block:: text
         :copyable: false
   
         ~ mongocli config --service cloud-manager --profile Profile1

         ? Public API Key: abcdefgh
         ? Private API Key: [? for help] ************************************
         ? Choose a default organization: Org1 (5c815cc7d5ec13092a02a1b2)
         ? Choose a default project: Project1 (5e5ebffd0c04a9700906c3d4)

   .. tab:: Ops Manager 
      :tabid: ops-manager

      **Example 1**

      The following command saves the access information for
      |mms| in a profile named ``default``.

      .. code-block:: text
         :copyable: false
   
         ~ mongocli config --service ops-manager

         ? URL to Access Ops Manager: https://mms.example.com:8080/
         ? Public API Key: abcdefgh
         ? Private API Key: [? for help] ************************************
         ? Choose a default organization: Org1 (5c815cc7d5ec13092a02a1b2)
         ? Choose a default project: Project1 (5e5ebffd0c04a9700906c3d4)

      **Example 2**

      The following command saves the access information for |mms| in a
      profile named ``Profile1``. 

      .. code-block:: text
         :copyable: false
   
         mongocli config --service ops-manager --profile Profile1

         ? URL to Access Ops Manager: https://mms.example.com:8080/
         ? Public API Key: abcdefgh
         ? Private API Key: [? for help] ************************************
         ? Choose a default organization: Org1 (5c815cc7d5ec13092a02a1b2)
         ? Choose a default project: Project1 (5e5ebffd0c04a9700906c3d4)

===
FAQ
===

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Can I bring an existing MongoDB deployment into |service-fullname| for management?
----------------------------------------------------------------------------------

No. However, you can upload data from existing MongoDB deployment into
|service-fullname|.

- You can use the :doc:`Live Migrate </import/live-import>` feature
  in |service| to migrate from a source replica set to an |service|
  replica set cluster.

- You can use the :doc:`Live Migrate </import/live-import-sharded>`
  feature in |service| to migrate from a source sharded cluster to
  an |service| sharded cluster.

- You can use :binary:`~bin.mongomirror` to migrate data from an existing
  MongoDB replica set into |service-fullname|.

- You can use :binary:`mongodump <bin.mongodump>` and
  :binary:`mongorestore <bin.mongorestore>` to seed |service-fullname|
  clusters from an existing standalone, replica set, and sharded
  cluster .

For information, see :doc:`/import`.

You can also write scripts using official MongoDB supported drivers to
upload data.

Which versions of MongoDB does |service| use for the clusters?
--------------------------------------------------------------

.. include:: /includes/extracts/fact-mongodb-version.rst

Can I migrate between regions?
------------------------------

Yes. You can change one or more regions for a given cluster within the
original cloud service provider for that cluster. Using a rolling-migration
strategy for moving nodes from the original region to a new region, MongoDB
|service| preserves cluster availability.

.. admonition:: AWS Only
   :class: important
   
   Amazon Web Services (AWS) Virtual Private Cloud (VPC) peering connections
   are region-specific. Clusters utilizing an existing :abbr:`VPC (Virtual
   Private Cloud)` peering connections to an :abbr:`AWS (Amazon Web
   Services)` :abbr:`VPC (Virtual Private Cloud)` in a given :abbr:`AWS
   (Amazon Web Services)` region lose access to that peering connection if
   moved to a different :abbr:`AWS (Amazon Web Services)` region. :abbr:`AWS
   (Amazon Web Services)` does not support :abbr:`VPC (Virtual Private
   Cloud)` peering connections between different regions. See
   :doc:`/security-vpc-peering` for complete documentation.

If you need to migrate data between regions on different cloud service
providers, you can:

- :doc:`Perform live migration </import/live-import>`, or

- :doc:`Migrate using mongomirror </import/mongomirror>`, or

- :doc:`Seed the destination cluster using mongorestore </import/mongorestore>`, or

- :doc:`Restore a backup from the source cluster to the destination cluster </import/mongorestore>`.

.. seealso:: :ref:`import-strategies`

Do you support cross-region deployments?
----------------------------------------

Yes. You can specify additional regions for high availability or local reads
when :doc:`creating </create-new-cluster>` or :doc:`scaling </scale-cluster>`
a deployment.

|service| does *not* support cross-cloud service provider deployments.

What AWS Regions does |service| support?
----------------------------------------

|service| supports all AWS regions other than those in China and US GovCloud.
For more information, see :doc:`/reference/amazon-aws`.

.. _high-availability:

How does |service-fullname| deliver high availability?
------------------------------------------------------

|service| clusters use MongoDB's replication capability to deliver high
availability. All |service| clusters are either replica sets or sharded
clusters where each shard is a replica set. For complete documentation
on MongoDB replica sets and replication, see :manual:`Replication
</replication>`.

|service| uses a rolling upgrade strategy for executing maintenance
or infrastructure operations, such as applying security patches or
scaling up a |service| cluster. The rolling upgrade strategy ensures 
that the cluster can process reads and writes for the majority of the 
maintenance or infrastructure operation. During the rolling upgrade 
procedure:

- |service| applies the changes to each secondary node in the cluster.
- |service| directs the primary node to step down to the secondary state
  and trigger an election of a new primary.
- Once the cluster has a new primary, |service| applies the changes to
  the former primary node.

Applications must hold write operations while the cluster elects a new
primary. The cluster can continue to process 
:manual:`secondary read operations </core/read-preference>`
during this period. Elections on |service| clusters typically complete
within a few seconds. Factors such as network latency may extend the
time required for replica set elections to complete, which in turn
affects the amount of time your cluster may operate without a primary.
These factors are dependent on your particular cluster architecture.

.. include:: /includes/fact-retry-writes.rst

For ``M10+`` clusters, |service| provides a :doc:`Test Failover
</tutorial/test-failover>` feature for application developers to check
that their applications are designed to detect and react appropriately
to a replica set election. By designing applications that can seamlessly
handle a replica set election, developers no longer have to worry about
the underlying maintenance occurring on their clusters.

|service| maintenance operations include OS patches and maintenance
patches for the MongoDB database itself (e.g. v3.6.3 to v3.6.4).
Infrastructure operations include repair operations required to replace
faulty infrastructure, and scheduled infrastructure replacements
such as changing the cluster size.

Please contact |service| support if you would like help architecting your
application to use |service-fullname| with optimal availability.

How can I pay for |service-fullname| without a credit card?
-----------------------------------------------------------

For alternative ways of purchasing |service|, please `contact MongoDB
Inc. <https://www.mongodb.com/contact?jmp=docs>`_.

Can I specify my own VPC for my |service-fullname| project?
-----------------------------------------------------------

No. An |service| project, and its clusters, are associated with a
region-specific Virtual Private Cloud (VPC).

|service| creates a :abbr:`VPC (Virtual Private Cloud)` when you deploy the
first ``M10+`` dedicated paid cluster to a given provider and region. For
multi-region clusters, |service| creates one :abbr:`VPC (Virtual Private
Cloud)` per region if there is not already a :abbr:`VPC (Virtual Private
Cloud)` for that region.

*(AWS deployments only)* |service| also creates
a :abbr:`VPC (Virtual Private Cloud)` when you create a :doc:`VPC peering
connection </security-vpc-peering>` to an :abbr:`AWS (Amazon Web Services)`
:abbr:`VPC (Virtual Private Cloud)`. |service| creates the :abbr:`VPC (Virtual
Private Cloud)` in the same region as the peered :abbr:`VPC (Virtual Private
Cloud)`.

To use a different VPC (e.g. on the customer's own cloud infrastructure
accounts), you would need to use MongoDB Cloud Manager or
Ops Manager.

|service-fullname| or Cloud Manager?
------------------------------------

|service| offers a managed experience, but without all of the
configurations and infrastructure flexibility that some MongoDB users
require. For example, |service| only supports MongoDB versions 3.2, 3.4,
and 3.6 with the WiredTiger storage engine. You also cannot
customize the replica set or sharded cluster configuration.

MongoDB Cloud Manager offers users more control, exposing numerous
MongoDB configuration options such as the storage engine, startup
parameters, and access control options. Cloud Manager also provides
the ability to manage MongoDB on the infrastructure of your choice.
MongoDB Cloud Manager is better suited for advanced operations users
who require this higher level of control, but Cloud Manager requires
users to manage the full lifecycle of their infrastructure.

.. _cm-create-atlas-project:

As an existing |mms-full| account holder, how do I create a new |service-fullname| project?
-------------------------------------------------------------------------------------------

In the :guilabel:`Context` drop down in |mms|, select :guilabel:`New Project`.

The :guilabel:`Create a New Project` screen provides you the choice to
create either an |service| project or a |mms| project. Select
:guilabel:`MongoDB Atlas` and continue with the creating the project.

.. _atlas-create-atlas-project:

As an existing |service| account holder, how do I create a new |service| project?
---------------------------------------------------------------------------------

In the :guilabel:`Context` drop down in |mms|, select :guilabel:`New Project`.

The :guilabel:`Create a New Project` screen provides you the choice to
create either an |service| project or a |mms| project. Select
:guilabel:`MongoDB Atlas` and continue with the creating the project.

Can I disable SSL/TLS on my deployment?
---------------------------------------

No.

.. _how-do-i-remove-my-company-project:

How do I remove my project?
---------------------------

You can remove a project if:

- You have the :authrole:`Project Owner` role for the project.

- The project has no outstanding invoices.

- The project has no active clusters.

To delete a project for an organization, you can delete from the
organization's :guilabel:`Projects` view or the project's
:guilabel:`Project Setting` view. For details, see :ref:`delete-project`.

.. _can-i-pause-or-stop-cluster:

Can I pause or stop my |service| clusters?
------------------------------------------

You can pause an ``M10+`` paid cluster for up to 7 days at a time. 
|service| automatically resumes the cluster after 7 days. For complete
documentation, see :ref:`pause-cluster`.

.. _how-do-i-modify-my-alert-settings:

How do I modify alerts?
-----------------------

To modify an existing alert settings, go to :guilabel:`Alerts` and
select :guilabel:`Alert Settings`. Click the ellipsis ``...`` to modify
(edit, clone, disable, delete) the setting for an active Alerts.

Does MongoDB |service| expose the oplog?
----------------------------------------

Yes. To access the :term:`oplog`, a database user must have read access on the
``local`` database. To create a user with read access on ``local``:

1. Click :guilabel:`Clusters`, then :guilabel:`Security`.

2. Click :guilabel:`Add New User` and enter a user name. For example, "oploguser".

3. Click :guilabel:`Show Advanced Options` and select the ``read`` role and
   the ``local`` database. This restricts the user to read operations on the
   ``local`` database.

4. Enter a password and click :guilabel:`Add User`.

.. note::

   To increase the size of an oplog for a cluster, click :guilabel:`Support`
   in the |service| navigation pane and file a help ticket with the
   following information:

   - The name of and URL for the |service| cluster,

   - The desired oplog size, and

   - The use case that requires a larger oplog.

Can MongoDB |service| deploy clusters with more than 12 shards?
---------------------------------------------------------------

While MongoDB |service| out of the box allows selection of up to 12 shards,
customers interested in more than 12 shards should inquire with MongoDB.
Contact us at `https://www.mongodb.com/contact <https://www.mongodb.com/contact?jmp=docs>`_.

How does |service| encrypt my data?
-----------------------------------

|service| uses whole volume (disk) encryption for any data at rest,
including your cluster data and backups of that data.

|service| also requires TLS encryption for client data
and intra-cluster network communications.

If your organization requires more specific information regarding
|service| encryption, please contact |service| support. From the
|service| project or cluster view, click :guilabel:`Support` in the
left-hand navigation bar.

.. _can-i-pre-split-chunks:

Can I pre-split chunks in a |service| sharded cluster?
------------------------------------------------------

The :authrole:`Atlas admin` MongoDB user role has the necessary
privileges to pre-split chunks in an empty sharded collection.

See :manual:`Create Chunks in a Sharded Cluster 
</tutorial/create-chunks-in-sharded-cluster>` for complete documentation
on sharded cluster chunk creation and management.

Where can I view the system status of the MongoDB Cloud?
--------------------------------------------------------

Visit https://status.cloud.mongodb.com for the status of the
MongoDB Cloud, including |service| and |mms|. 

You can also subscribe to an 
`RSS feed <http://status.cloud.mongodb.com/rss>`_ of the MongoDB
Cloud Status page using your preferred RSS reader.

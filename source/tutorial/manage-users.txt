============
|mms| Access
============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. index:: users

To access |a-mms| organization or the project within that organization,
|a-mms| user must be a member of that organization. Depending on the
user's :ref:`role in the organization <organization-roles>`, the |mms|
user may also need to be a member of the project to access a project.

|A-mms| user can be a member of multiple projects and multiple
organizations. If |a-mms| user is a member of a project, the user's
access to the project is determined their
:ref:`role in the project <project-roles>`.

Within an organization, you can group users into teams. Users can
belong to multiple teams. Teams can be assigned to multiple projects.
The team's :ref:`project role <project-roles>` sets the team members'
access to the project.

.. note::

   |mms| users are separate from :doc:`MongoDB users </tutorial/manage-mongodb-users>`.

Considerations
--------------

You can register with and login using your Google account or using your
email account.

.. cond:: cloud

   Google Accounts
   ~~~~~~~~~~~~~~~

   If you register with your Google Account, the following differences
   apply when using your Google account with |mms|:

   - .. include:: /includes/facts/google-auth/account-details.rst

   - .. include:: /includes/facts/google-auth/2fa.rst

   - .. include:: /includes/facts/google-auth/change-account.rst

   - .. include:: /includes/facts/google-auth/unlink-account.rst

   |service| Users
   ~~~~~~~~~~~~~~~

   If you use |service|, use your |service| credentials to log in to
   |mms|. You can then create a new |service| project from |mms|.

Add Users to |mms|
------------------

.. cond:: cloud

   You must invite users to |mms| projects and organizations. The
   following procedures result in an email invitation being sent to the
   users you want to add. The users must accept your invitation to join
   a project or an organization.

   Users can create accounts using:

   - The |mms|
     `account registration page <https://cloud.mongodb.com/user/register>`_
     or
   - `jira.mongodb.org <http://jira.mongodb.org/>`_.

   .. note::

      If you create an account in |jira| or make any changes to that
      account from *within* |jira|, it can take up to 30 minutes for
      that change to propagate to |mms|. During this window you cannot
      add the user to a project in |mms|. Also, passwords changed in
      |jira| are subject to the same propagation delay for |mms|
      accounts.

.. cond:: onprem

   .. admonition:: Invitations Can Be Disabled
      :class: note

      When configuring your |mms| installation, you can disable
      :setting:`Invitation Only Mode`. This allows users to create
      accounts at the |mms| account registration page.

   Unless you have disabled invitation mode, you must invite users to
   |mms| projects and organizations. The following procedures result in
   an email invitation being sent to the users you want to add. The
   users must accept your invitation to join a project or organization.

- To invite a new user to a project, see :ref:`add-users-to-project`.
- To invite a new user to an organization, see
  :ref:`add-users-to-org`.

Manage User Access to an Organization
-------------------------------------

.. admonition:: Required Permissions
   :class: note

   To perform any of the following actions, you must have the
   :authrole:`Organization Owner` role.

.. _add-users:
.. _add-users-to-org:

Add Users to an Organization
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/add-user-org.rst

View Active Users and Pending Invitations in an Organization
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To view users in an organization:

1. From the :guilabel:`Context` menu, select your desired organization.
#. Click :guilabel:`Access`.
#. Click :guilabel:`Users`.

This page lists:

- Users who are members of your |mms| organization.
- Pending users who have not accepted to the invitation to join the
  organization or project within the organization.

To cancel an invitation, click :icon:`trash-alt` to the right of the
pending user.

Edit User's Role in an Organization
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To edit roles through |mms| for the organization:

1. Click :guilabel:`Access`.

#. Click :guilabel:`Users`.

#. For the organization user to modify, click :guilabel:`Edit Role`.

#. Select the :ref:`new role or roles <organization-roles>` for the
   user from the menu.

#. Click on the checkmark to save.

Remove Users from an Organization
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note::

   You cannot remove the last :authrole:`Organization Owner` from an
   organization.

.. include:: /includes/steps/remove-user-org.rst

.. _manage-teams:

Manage Team Access to an Organization
-------------------------------------

In an organization, you can group its users into teams to facilitate
adding and granting roles to multiple users to projects. You assign
project access at the team level. All users in the team share the same
project access.

Organization users can belong to multiple teams.

.. admonition:: Required Permissions
   :class: note

   To perform any of the following actions, you must have the
   :authrole:`Organization Owner` role.

.. _create-team:

Create a Team
~~~~~~~~~~~~~

.. note::

   There is an upper limit of 250 teams per organization.

.. include:: /includes/steps/create-team.rst

.. _edit-team-members:

Manage Team Members
~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/manage-team.rst

.. _rename-team:

Rename a Team
~~~~~~~~~~~~~

.. include:: /includes/steps/rename-team.rst

.. _delete-team:

Delete a Team
~~~~~~~~~~~~~

.. include:: /includes/steps/delete-team.rst

.. _see-org-api-keys:

Manage Application Access to an Organization
--------------------------------------------

.. admonition:: Required Permissions
   :class: note

   To manage |api| Keys for an Organization, you must have the
   :authrole:`Organization Owner` role.

To learn how to manage an Application's Access to an Organization
using |api| Keys, see:

- :ref:`Create an API Key in an Organization <create-org-api-key>`
- :ref:`View the Details of an API Key in an Organization <view-org-api-key>`
- :ref:`Change an API Key in an Organization <change-org-api-key-roles>`
- :ref:`Delete an API Key from an Organization <delete-org-api-key>`

.. _manage-project-access:

Manage Access to a Project
--------------------------

.. admonition:: Required Permissions
   :class: note

   To perform any of the following actions, you must have either the
   :authrole:`Project Owner` or :authrole:`Project User Admin` role.

View Who Can Access a Project
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To view which users, teams, or |api| Keys can access a project:

1. From the :guilabel:`Context` menu, select the project that you want
   to view.

#. Click :guilabel:`Access`.

#. Click the tab for :guilabel:`Users`, :guilabel:`Teams`, or
   :guilabel:`API Keys` to see the appropriate access.

Each tab lists the project's users, teams, or |api| Keys along with
their :ref:`project roles <project-roles>` and corresponding
:manual:`actions </reference/privilege-actions/>`.

View Active Users and Pending Invitations to Project
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The :guilabel:`Users` tab also lists any outstanding invitations to
users to join the project and any requests from users who want to join
the project. A user can request to join a project when they first
register for |mms|.

Individual users are ordered by status. They appear in the following
sequence:

1. Users currently in your project.
#. Users with pending invitations to join your project.
#. Users requesting to join your project.

|mms| displays the :guilabel:`Name` of users who have not accepted
their invitation as :guilabel:`Pending User` and their role as
:guilabel:`--invite sent--`.

To cancel an invitation, click :icon:`trash-alt` to the right of the
user's name.

.. _add-users-to-project:

Add Users or Teams to a Project
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note::

   There is an upper limit of 250 users per team.

.. include:: /includes/steps/add-user.rst

.. cond:: cloud

   If the |mms| finds a connected |jira| account, |mms| adds the user
   to the |jira| group associated to the |mms| project and
   organization.

.. note::

   If the added user does not belong to the project's organization,
   |mms| adds the user to the organization.

Remove Users or Teams from a Project
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note::

   You cannot remove the last :authrole:`Project Owner` from an
   organization.

.. include:: /includes/steps/remove-user.rst

.. index:: users; roles

.. _assign-roles-to-users:

Edit a User's or Team's Role in a Project
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/extracts/manage-users-assign-roles.rst

To edit roles through |mms|, for the project:

1. From the :guilabel:`Context` menu, select the project in which you
   want to change user, team, or |api| Key roles.

#. Click :guilabel:`Access`.

#. Click the tab for :guilabel:`Users` or :guilabel:`Teams` to see the
   appropriate item.

#. Click :guilabel:`Edit Role` to the right of the user or team.

#. Click the appropriate checkboxes to assign
   :doc:`roles </reference/user-roles>`.

#. Click :guilabel:`Save`.

.. include:: /includes/extracts/manage-users-ldap.rst

.. _see-project-api-keys:

Manage Application Access to a Project
--------------------------------------

.. admonition:: Required Permissions
   :class: note

   To manage |api| Keys for an Organization, you must have the
   :authrole:`Project User Admin` role.

To learn how to manage a Application's Access to an Project using |api|
Keys, see:


- :ref:`Create an API Key for a Project <create-project-api-key>`
- :ref:`View the Details of an API Key in a Project <view-project-api-key>`
- :ref:`Change an API Key's Roles in a Project <change-project-api-key-roles>`
- :ref:`Delete an API Key from a Project <delete-project-api-key>`

.. class:: hidden

   .. toctree::
      :titlesonly:

      /tutorial/manage-programmatic-access

.. _compass-ai-data-usage:

=============================
AI and Data Usage Information
=============================

.. meta::
   :description: Understand how natural language querying in Compass and the MongoDB assistant use Generative AI and how your data is handled and protected.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1

AI features in |compass-short| are powered by Generative AI
(Gen AI), and may give inaccurate responses. See our `Generative AI FAQ 
<https://dochub.mongodb.org/core/faq-ai-features>`__ 
for more information about Gen AI in MongoDB products.

AI Features in Compass
----------------------

The :ref:`intelligent assistant <compass-ai-assistant>` is an AI-powered tool 
designed for integrated, tailored MongoDB guidance in |compass-short|.

You can also :ref:`query data with natural language <compass-query-natural-language>`
in |compass-short|. |compass-short| uses AI to generate filter queries and 
aggregations based on the prompts you provide.

Read-only Tools
~~~~~~~~~~~~~~~

When using :ref:`read-only tools <compass-read-only-tools>` in the intelligent 
assistant, the assistant may access information about the current query or 
aggregation or any data in the database itself via a tool call, but only with 
explicit user approval.

Third Party Providers
---------------------

AI features in |compass-short| currently use the 
`Azure OpenAI Service <https://azure.microsoft.com/en-us/products/ai-services/openai-service>`__ 
hosted by Microsoft.  This is subject to change in the future. 

How Your Data is Used
---------------------

When you use AI features in |compass-short|, the following information may be 
sent to MongoDB's backend and/or the third party AI provider.

For :ref:`natural language querying <compass-query-natural-language>`:

- The full text of your natural language prompt.
- The schema of the collection you are querying, 
  including database name, collection name, field names, and types. 
- Sample field values. These are only used if the ``Enable sending sample field values``
  setting is enabled in :ref:`Compass settings <compass-settings-reference>`. 
  This is an optional setting to improve the quality of recommendations. This 
  setting is off by default.

For the :ref:`intelligent assistant <compass-ai-assistant>`: 

- Explain plan metadata. The :guilabel:`Interpret` button uses Explain plan metadata,
  including the original query, to process requests. The assistant prompts a
  user to confirm that they're okay with this before proceeding with the request
  each time.
- Sanitized connection information. The :guilabel:`Debug` button passes sanitized 
  connection information and error messages to the assistant.
- The tab you are working on in |compass-short|.
- Database tool calling sends additional data to the AI provider, depending on 
  which tool is executed. All tools require explicit user approval. See the full
  list of :ref:`read-only tools <compass-read-only-tools>` for an overview of 
  data used. You can disable tool calling in :ref:`settings <compass-settings-reference>`.

The information that is sent will not be shared with any other third 
parties or stored by the AI provider. We do not send unsanitized 
connection strings, credentials, or rows/documents from your databases.

Disable AI Features
-------------------

The following procedure explains how to disable all Generative AI features in Compass, 
including Natural Language Querying and the intelligent assistant. 

.. procedure::
   :style: connected

   .. step:: Open settings

      .. list-table::
         :header-rows: 1
         :widths: 30 50 20

         * - Operating System
           - Description
           - Keyboard Shortcut

         * - Windows / Linux
           - In the top menu bar, click :guilabel:`Edit`.
           - ``Ctrl`` + ``,``

         * - macOS
           - In the top menu bar, click :guilabel:`MongoDB Compass`.
           - ``âŒ˜`` + ``,``

   .. step:: Select Artificial Intelligence

   .. step:: Uncheck the box 'Enable AI features'.



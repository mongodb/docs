.. _serverless-instance-costs:

=========================
Serverless Instance Costs
=========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. include:: /includes/note-serverless-in-preview-release.rst

{+Serverless-instances+} offer pay-per-operation pricing, meaning that 
you only pay for the Processing Units consumed by your database 
operations and storage consumed by your data and indexes. You do not 
need to specify a cluster size since serverless instances seamlessly 
scale to accommodate changes in workload traffic.

{+Serverless-instances+} 
may be more cost effective for applications with low or intermittent 
traffic. To learn more about {+serverless-instances+} and use cases, 
see :ref:`Choose a Database Deployment Type <ref-deployment-types>`.

Usage Costs
-----------

.. list-table::
   :widths: 20 40 40
   :header-rows: 1

   * - Name
     - Description
     - Price

   * - Read Processing Unit (``RPU``)
     - Read operations to the database.
       
       You are charged one ``RPU`` for each document read (up to 4KB) 
       or for each index read (up to 256 bytes).

       If a document exceeds 4KB or an index exceeds 256B, |service| 
       covers each excess chunk of 4KB or 256B with an additional 
       ``RPU``.
      
     - The price for each million ``RPU``\s decreases based on volume 
       of reads in a day, starting at $0.30 per million ``RPU``\s. 
       [#prorated]_ 
       See :ref:`rpu-pricing` for details.

   * - Write Processing Unit (``WPU``)
     - Write operations to the database.

       You are charged one ``WPU`` for each combined document and index 
       written (up to 1KB). ``WPU``\s start at 0 each day.

       If a document and index exceed 1KB, |service| covers each excess 
       chunk of 1KB with an additional ``WPU``.

     - $1.25 per million. [#prorated]_

   * - Storage
     - Logical document and index storage.
     - $0.25 per ``GB`` per month, prorated and billed *per day*.

   * - Backup
     - Daily snapshots.
     - Two daily snapshots are included for free.

   * - Restore from Backup
     - The time required to restore your serverless instance.

       .. important::

          Data transfer as part of the backup and restore process is 
          charged separately.

     - $2.50 per restore hour.

   * - Data Transfer
     - Data transfer to and from the database.

       .. tip::
          
          If your data transfer costs are a significant portion of your 
          bill, see :ref:`reducing-data-transfer-costs`.

     - $0.015 per ``GB`` (preview pricing). [#prorated]_

       .. important::

          During the preview period, data transfer costs may be updated 
          to account for the source and destination regions of a 
          transfer.
       
.. ZC - 7/6/21 - After public beta (for GA) update to:
   $0.015-$0.09 per ``GB``, depending on the source and destination 
   of the transfer.

.. [#prorated]

   ``RPU`` and ``WPU`` prices are presented *per million*, but you are 
   only charged for the amount you use. For example, ``WPU``\s 
   cost $1.25 per million; using 500,000 would cost $0.63. The same is 
   true for data transfer: you're only charged for the amount you 
   transfer.
      
.. _rpu-pricing:

Read Processing Unit Pricing 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The price for each million (MM) ``RPU``\s depends on volume of reads 
that day. ``RPU``\s start at 0 each day. Prices are in cascading 
tiers:

.. list-table::
   :widths: 30 50 20
   :header-rows: 1

   * - Tier 
     - Description
     - Price

   * - 0-5 MM ``RPU``\s 
     - The first 5 million ``RPU``\s in a day.
     - $0.30/MM

   * - 5-25 MM ``RPU``\s 
     - The next 20 million ``RPU``\s in a day.
     - $0.25/MM
   
   * - 25-75 MM ``RPU``\s 
     - The next 50 million ``RPU``\s in a day.
     - $0.20/MM
   
   * - 75+ MM ``RPU``\s 
     - All subsequent ``RPU``\s in a day.
     - $0.15/MM

.. example::
   
   If your application uses 31 million ``RPU``\s in a day, |service| 
   charges you $7.70:

   - $0.30/MM for the first 5 million ($1.50).

   - $0.25/MM for the next 20 million ($5).

   - $0.20/MM for the last 6 million ($1.20).

   If that usage is typical for a day, your application costs 
   approximately $231 per month ($7.70 per day x 30 days).

   In another example, if your application uses 0.5 million ``RPU``\s 
   in a day, |service| charges you $0.15:

   - $0.30/MM for the first 0.5 million ($0.15).

   If that usage is typical for a day, your application costs 
   approximately $4.50 per month ($0.15 per day x 30 days).

Payment Methods
---------------

.. warning::
   
   An unexpected, significant increase in {+serverless-instance+} usage 
   could result in an expensive invoice. Use 
   :ref:`billing alerts <billing-alerts>` to monitor usage.

You can pay for {+serverless-instances+} with:

- A :ref:`payment method <payment-method>` added through the |service| 
  console,

- an |service| 
  :ref:`subscription <atlas-subscriptions>`, or

- |service| credits.

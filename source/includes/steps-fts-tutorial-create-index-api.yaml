---
stepnum: 1
title: "Choose dynamic or static index mapping."
ref: fts-api-choose-dynamic-or-static
level: 4
content: |

  When you choose :ref:`dynamic mapping <static-dynamic-mappings>`,
  |service| dynamically indexes the fields of the supported types for 
  the documents in a collection. Dynamic mapping is useful if the schema
  of your documents changes regularly or is unknown.

  .. note::

     - Dynamically mapped indexes occupy more disk space than statically 
       mapped indexes and might be less performant.
     - You can't use multiple analyzers with a dynamically mapped index.

  When you choose :ref:`static mapping <static-dynamic-mappings>`, 
  |service| indexes only the fields that you specify for the documents 
  in a collection.

  .. note::

     Queries that use a statically mapped index won't return matches 
     in document fields that are not mapped in the index.

---
stepnum: 2
title: "Copy one of the sample cURL requests."
ref: fts-api-copy-sample
content: |

  Copy the sample cURL request for your preferred index mapping:

  Dynamic Mapping
  +++++++++++++++

  The following index definition dynamically indexes the fields of 
  :ref:`supported types <bson-data-chart>` in the ``movies`` collection.

  .. literalinclude:: /includes/fts-tutorial/api-create-dynamic-mapping.sh
     :language: sh
     :linenos:

  Static Mapping
  ++++++++++++++

  The ``movies`` collection is large, so in order to save space we will 
  only index the ``title``, ``genres``, and ``plot`` fields.

  The following index definition specifies: 
              
  - The :ref:`standard analyzer <ref-standard-analyzer>` as the default 
    analyzer for all three indexed fields. 
  - The :ref:`keyword analyzer <ref-keyword-analyzer>` as an alternate 
    analyzer for the ``title`` field, with the name 
    ``keywordAnalyzer``. The keyword analyzer indexes the entire field 
    as a single term, so it only returns results if the search term and 
    the specified field match exactly. For more information about 
    ``multi`` analyzer designations, see :ref:`ref-path`.
  - The :ref:`standard analyzer <ref-standard-analyzer>` as the 
    analyzer by default for queries on the ``genres`` field, which is 
    an array of strings. For indexing arrays, |fts| only requires the 
    data type of the array elements. You don't have to specify that the 
    data is contained in an array in the index definition. 

  .. literalinclude:: /includes/fts-tutorial/api-create-static-mapping.sh
     :language: sh
     :linenos:

---

stepnum: 3
title: "Open your preferred text editor and paste the sample cURL request into a new text file."
ref: fts-api-paste-sample
level: 4
---
stepnum: 4
title: "Replace the variables in your sample cURL request."
ref: fts-api-replace-variables
level: 4
content: |

  The sample cURL requests use these variables. Replace these variables 
  with your desired values before running the cURL command to create an
  |fts| index.

  .. list-table::
     :header-rows: 1
     :stub-columns: 1
     :widths: 30 20 50

     * - Name
       - Type
       - Description

     * - PUBLIC_KEY
       - string
       - Your public API Key for your |api| credentials.

     * - PRIVATE_KEY
       - string
       - Your private API Key for your |api| credentials.

     * - GROUP_ID
       - string
       - Unique 24-hexadecimal character string that identifies the
         project that contains the cluster that contains the collection 
         for which you want to create an |fts| index.

     * - CLUSTER_NAME
       - string
       - Human-readable label that identifies the cluster that contains 
         the collection for which you want to create an |fts| index.

         Use the :ref:`clusters-get-all` endpoint to get the 
         **CLUSTER_NAME**. For each cluster, |service| returns the 
         **CLUSTER_NAME** in the **name** field.

---
stepnum: 5
title: "Run the modified cURL request to create the |fts| index."
level: 4
ref: fts-api-create-index
content: |

  The response you receive differs based on the index mapping you chose:

  Dynamic Mapping
  +++++++++++++++

  .. literalinclude:: /includes/fts-tutorial/api-create-dynamic-mapping-response.json
     :language: json
     :linenos:

  Static Mapping
  ++++++++++++++

  .. literalinclude:: /includes/fts-tutorial/api-create-static-mapping-response.json
     :language: json
     :linenos:

...

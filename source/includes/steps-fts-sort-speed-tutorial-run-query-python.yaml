ref: run-sort-speed-query-python
stepnum: 1
title: "Run an |fts| query against the indexed field and sort the results very fast."
content: |
  a. Create a file named ``sort-for-speed.py``. 
  #. Copy and paste the following code into the ``sort-for-speed.py`` 
     file.

     The following code example:

     - Imports ``pymongo``, MongoDB's Python driver, and the ``dns``
       module, which is required to connect ``pymongo`` to ``Atlas`` 
       using a |dns| seed list connection string. 

     - Creates an instance of the ``MongoClient`` class to establish a 
       connection to your |service| cluster.

     - .. include:: /includes/extracts/fts-sort-for-speed-constant-desc.rst 

       .. include:: /includes/extracts/fts-sort-for-speed-stage.rst

     - Iterates over the cursor to print the documents that match the 
       query.

     .. literalinclude:: /includes/fts-tutorial/sort/near-tutorial.py
        :language: python
        :linenos:
        :dedent:
        :emphasize-lines: 5

  #. .. include:: /includes/fact-fts-driver-connection-string.rst
  #. Run the following command to query your collection: 
  
     .. io-code-block::
        :copyable: true

        .. input::
           :language: bash
        
           python sort-for-speed.py

        .. output::
           :language: python
           :visible: true
        
           {'_id': ObjectId('573a13adf29313caabd2b765'), 'title': 'Jurassic World', 'released': datetime.datetime(2015, 6, 12, 0, 0), 'year': 2015}
           {'_id': ObjectId('573a13b1f29313caabd3719d'), 'title': 'The Stanford Prison Experiment', 'released': datetime.datetime(2015, 7, 17, 0, 0), 'year': 2015}
           {'_id': ObjectId('573a13b5f29313caabd42f7f'), 'year': 2015, 'title': 'Ex Machina', 'released': datetime.datetime(2015, 4, 24, 0, 0)}
           {'_id': ObjectId('573a13b5f29313caabd44e2b'), 'year': 2015, 'title': 'Ant-Man', 'released': datetime.datetime(2015, 7, 17, 0, 0)}
           {'_id': ObjectId('573a13b8f29313caabd4d540'), 'title': 'The Danish Girl', 'released': datetime.datetime(2015, 11, 27, 0, 0), 'year': 2015}
...

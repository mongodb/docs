.. _oa-view-private-endpoint:

============================================
Manage Private Endpoints for Online Archives
============================================

.. meta::
   :description: View, edit, or delete private endpoints for online archives in Atlas using the UI or API, requiring specific project access levels.

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

You can view the list of private endpoints for the online archives on 
the |service| cluster through the {+atlas-ui+} and |api|. 

Required Access 
---------------

To view the private endpoints for an online archive, you must have
:authrole:`Project Read Only` access or higher to the project.

To edit or delete private endpoints for an online archive, you must have
:authrole:`Project Owner` access or higher to the project.

.. _view-pvt-endpoints-ui:

View List of Private Endpoints Using the UI 
-------------------------------------------

To view the list of private endpoints for the Online Archives:

.. include:: /includes/steps-oa-view-privatelink.rst

The page displays the private endpoints for your online archives. For 
each private endpoint, you can see the following information: 

.. list-table:: 
   :header-rows: 1
   :widths: 30 70 

   * - Column Name 
     - Description

   * - :guilabel:`VPC Endpoint ID`
     - The unique identifier of the peer |aws| |vpc|. This corresponds 
       to the value on the |vpc| dashboard in your |aws| account.

   * - :guilabel:`Comment` 
     - The comment associated with the endpoint. 

   * - :guilabel:`Actions` 
     - The actions you can take on the private endpoint. You can: 

       - :ref:`oa-edit-private-endpoint`
       - :ref:`oa-delete-private-endpoint`

.. _view-pvt-endpoints-get-one-api:

Retrieve Private Endpoint Using the API 
---------------------------------------

To retrieve a private endpoint for an online archive through the 
|api|, send a ``GET`` request to the 
:oas-atlas-op:`privateNetworkSettings/endpointIds/ 
</getDataFederationPrivateEndpoint>` endpoint with 
the ID of the private endpoint to retrieve. To learn more about the 
syntax and options, see :oas-atlas-op:`API 
</getDataFederationPrivateEndpoint>`.

.. _view-pvt-endpoints-get-all-api:

Retrieve All Private Endpoints Using the API 
--------------------------------------------

To retrieve all the private endpoints for the online archives using the 
|api|, send a ``GET`` request to the 
:oas-atlas-op:`privateNetworkSettings/endpointIds 
</returnAllDataFederationPrivateEndpointsInOneProject>` endpoint. To 
learn more about the syntax and options, see :oas-atlas-op:`API 
</returnAllDataFederationPrivateEndpointsInOneProject>`.

.. _oa-edit-private-endpoint:

Edit the Private Endpoint for Online Archives 
---------------------------------------------

MongoDB supports |aws| private endpoints using the `{+aws-pl+} 
<https://aws.amazon.com/privatelink/>`__ feature only for Online 
Archives. You can edit the comment associated with a private endpoint 
for online archives from the {+atlas-ui+} and |api|. 

.. note:: 

   You can edit the private endpoints for a {+dedicated-cluster+}. To 
   learn more, see :ref:`private-endpoint`.

Edit Private Endpoint Through the User Interface 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To edit the comment associated with a private endpoint from your 
{+atlas-ui+}: 

.. include:: /includes/steps-oa-edit-privatelink.rst

Edit Private Endpoint Through the API 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To edit a private endpoint for an online archive through the |api|, 
send a ``POST`` request to the :oas-atlas-op:`privateNetworkSettings 
</createDataFederationPrivateEndpoint>` endpoint with 
the unique ID of the private endpoint to edit. If you change the 
comment associated with the specified endpoint, |service| makes no 
change to the endpoint ID list. If you change the comment 
associated with the specified endpoint, |service| updates the 
``comment`` value only in the endpoint ID list.

To learn more about the syntax and options, see :oas-atlas-op:`API 
</createDataFederationPrivateEndpoint>`.

.. _oa-delete-private-endpoint:

Delete a Private Endpoint for an Online Archive
-----------------------------------------------

You can delete a private endpoint for online archives from the 
{+atlas-ui+} and |api|. 

.. note:: 

   You can delete the private endpoints for a {+dedicated-cluster+}. To 
   learn more, see :ref:`private-endpoint`.

Delete Private Endpoint Through the User Interface 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To delete a private endpoint from the {+atlas-ui+}: 

.. include:: /includes/steps-oa-delete-privatelink.rst

Delete a Private Endpoint Through the API 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To delete a private endpoint through the |api|, send a ``DELETE`` 
request to the :oas-atlas-op:`privateNetworkSettings/endpointIds 
</deleteDataFederationPrivateEndpoint>` endpoint with the ID of the private endpoint to 
delete. To learn more about the syntax and options, see 
:oas-atlas-op:`API 
</deleteDataFederationPrivateEndpoint>`.

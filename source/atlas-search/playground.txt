.. _fts-playground:

=======================
{+playground+}
=======================

.. default-domain:: mongodb

.. meta::
   :keywords: hands-on, sandbox, sample dataset

.. facet::
   :name: genre
   :values: reference

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Quickly try |fts| with the `{+playground+} <https://search-playground.mongodb.com/>`__. 
You can try different |fts| features by configuring search indexes and running 
queries without needing an |service| account, {+cluster+}, or collection. 
You can also share a link to a snapshot of your {+playground+} with others.

.. _stages-fts-playground:

Supported Stages
----------------

The {+playground+} supports a subset of aggregation pipeline stages, including:

* :pipeline:`$search`
* :pipeline:`$searchMeta`
* :pipeline:`$project`
* :pipeline:`$limit`
* :pipeline:`$skip`
* :pipeline:`$facet`
  
.. _fts-playground-limitations:

Limitations
-----------

- The {+playground+} doesn't support :ref:`{+avs+} <fts-vector-search>`.

- The {+playground+} only supports a single collection. You can't use :pipeline:`$lookup` or 
  :pipeline:`$unionWith` to :ref:`search multiple collections <fts-cross-collection-tutorials>`.

- The {+playground+} environment does not persist. To save an 
  environment, use the :guilabel:`Share` button to generate a snapshot |url| that lasts 
  30 days. 

- The {+playground+} has the following data limitations:
  
  - You can't add more than 500 documents to the {+playground+}.

  - You can't import files larger than 100 KB.

  - Your total data in the {+playground+}, including the collection, search index, synonyms, 
    and queries, can't exceed 300 KB.

- The {+playground+} is not connected to your |service| clusters. However, you can 
  recreate your |service| environment in the {+playground+} by:

  1. :dbtools:`Exporting documents </mongoexport>` from |service| and importing 
     into the {+playground+}.
  #. Copying the |fts| index from your |service| :guilabel:`JSON Editor` and pasting 
     into the :guilabel:`Index` panel in the {+playground+}. 

Try the {+playground+}
---------------------------------

.. procedure::
   :style: normal

   .. step:: Access the {+playground+}.

      Navigate to `https://search-playground.mongodb.com/ <https://search-playground.mongodb.com/>`__.
   
   .. step:: Choose a template or add your own data.

      .. tabs:: 
         
         .. tab:: Use Template 
            :tabid: template

            From the navigation on the left, do the following:
      
            a. Click :guilabel:`Select Template`.
            #. Choose a pre-configured environment. 
            #. Click :guilabel:`Select`.

         .. tab:: Use External Data 
            :tabid: data

            To use your own data, import documents in
            |json| or |csv| into the 
            :guilabel:`Data Source` 
            panel by clicking :icon-lg:`Upload`, then :guilabel:`Upload File`.
            You can also paste an array of documents directly into the :guilabel:`Data Source` panel.

   .. step:: Configure the |fts| index.

      .. tabs::
         :hidden: true
      
         .. tab:: Use Template 
            :tabid: template
         
            You can use the default index displayed in the {+playground+} for the 
            template as-is to run queries against the pre-loaded sample data.
         
            To learn more about |fts| indexes, see :ref:`ref-create-index`.

         .. tab:: Use External Data 
            :tabid: data
      
            You can edit the |fts| index in the :guilabel:`Index` panel. The default 
            index is a dynamic mapping of fields in the documents and will work with any collection. To create a custom index, specify which fields 
            to index with which analyzer and as which data type.
      
            To learn more about |fts| indexes, see :ref:`ref-create-index`. 

   .. step:: Run queries.

      a. Create a search query in the :guilabel:`Query` panel. To learn more about 
         queries, see :ref:`searching-ref`.

         You can also use the default query displayed in the {+playground+} for the 
         template as-is to run queries against the pre-loaded sample data with the 
         pre-configured index.

      #. Click :guilabel:`Run` in the upper right or press :kbd:`Command + Enter/Return`.

   .. step:: Share your {+playground+} snapshot.

      a. Click the pencil icon beside the title to give your snapshot a unique name. 
      #. Click :guilabel:`Share` in 
         the upper right to generate a |url| that you can 
         send to others. 
      
      Anyone can access this |url| and interact with your snapshot for up to 30 days. 
      Any changes made after generating the |url| won't affect the original snapshot.

   .. step:: *(Optional)* Add synonyms.

      .. tabs::
         :hidden: true

         .. tab:: Use Template 
            :tabid: template
      
            You can use the default synonyms displayed in the {+playground+} for the 
            template as-is to run queries against the pre-loaded sample data.
         
            To learn more about synonyms, see :ref:`synonyms-tutorial`.
      
         .. tab:: Use External Data  
            :tabid: data

            a. Add or edit synonyms in the :guilabel:`Synonyms (Optional)` panel using
               the appropriate :ref:`format <synonyms-coll-format>`.

            #. Add a :ref:`synonyms mapping <synonyms-ref>` to the |fts| index, 
               using the collection name ``synonym_mappings``.
            
            To learn more about synonyms, see :ref:`synonyms-tutorial`.

   .. step:: Reset the {+playground+}.

      To erase the {+playground+} and start over, click :guilabel:`Reset` in the upper right.

.. note::

   The {+playground+} performance might differ from production performance.

Try the Examples in the {+playground+}
--------------------------------------------------------------

You can try the following |fts| features in a preconfigured 
environment in the :asp:`Atlas Search Playground </new>`.

.. list-table:: 
   :widths: 20 60 20 
   :header-rows: 1

   * - |fts| Feature
     - Description
     - Examples

   * - :ref:`compound-ref` Operator 
     - Combines two or more operators into a single query.
     - | :asp:`must and mustNot </6613fd6e53a0260867247809>` 
       | :asp:`must and should </6613fe1753a026086724780b>` 
       | :asp:`Compound Score </6613fe7b53a026086724780d>` 
       | :asp:`minimumShouldMatch </6613ff6fbfc02dcf24ce9588>` 
       | :asp:`filter </6614008353a026086724780f>` 
       | :asp:`$match Replacement </661400e853a0260867247811>` 
       | :asp:`Nested </66140231bfc02dcf24ce958a>` 

   * - :ref:`exists-ref` Operator
     - Tests if a path to a specified indexed field name exists in a
       document.
     - | :asp:`Basic </660c6fee12432a8450ea1647>` 
       | :asp:`Embedded field </660c704112432a8450ea1649>` 
       | :asp:`Compound </660c713212432a8450ea164b>` 

   * - :ref:`highlight <highlight-ref>` Option 
     - Adds fields to the result set that display search terms as they
       appear in the returned documents, along with any adjacent text
       content. 
     - | :asp:`Basic </661062095bd0f76492c88fa1>` 
       | :asp:`Advanced </661062bb5bd0f76492c88fa3>` 
       | :asp:`Multi-Field </661064d0d49f12668e0edb94>`  
       | :asp:`Wildcard </661064825bd0f76492c88fa7>` 
       | :asp:`Compound </6610657f5bd0f76492c88fa9>` 
       | :asp:`Autocomplete </661066745bd0f76492c88fab>` 

====================
Back up a Deployment
====================

.. default-domain:: mongodb

Overview
--------

You can back up a sharded cluster or replica set. To back up a
standalone :program:`mongod` process, you must first :manual:`convert it to a
single-member replica set </tutorial/convert-standalone-to-replica-set>`. You can
choose to back up all databases and collections on the deployment or
specific ones.

Prerequisites
-------------

- |mms| must be monitoring the deployment. For a sharded cluster, |mms| must
  also be monitoring at least one :program:`mongos` in the cluster.

- Each replica set must have an active :term:`primary`.

- For a sharded cluster, all :term:`config servers <config server>` must be
  running and the balancing round must have completed within the last hour.

- If you explicitly select a sync target, ensure that the sync target is
  accessible on the network and keeping up with replication.

.. only:: onprem

- The MongoDB version and |mms| version must meet the :ref:`compatibility
  requirements <backup-compatibility>`.

.. only:: cloud

- The MongoDB version must meet the :ref:`minimum compatibility
  <backup-compatibility>`.

Procedure
---------

Before using this procedure, see the
:doc:`/core/backup-preparations` to decide how to back up the data
and what data to back up.

.. include:: /includes/steps/enable-backup.rst

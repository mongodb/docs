stepnum: 1
# inherit:
#   file: steps-read_server_query.yaml
#   ref: connect
title: Connect to your MongoDB instance.
ref: connect
level: 4
content: |
  This will be inherited from one of Sue's files.
---
title: Switch to the ``test`` database.
ref: bind_db
level: 4
stepnum: 2
content: |
  Switch to the database containing the documents that you wish to
  {{verb}}.
  
  [database selection include here]
replacement:
  verb: "update"
---
stepnum: 3
title: Update a single document.
ref: update_one_with_set
level: 4
# Example: 52
content: |
  To change a field value, MongoDB provides update operators, such as
  :update:`~up.$set` to modify values. Some update operators, including
  ``$set``, will create the specified field if the field does not exist
  in the document.

  The following operation updates the **first** document with ``item`` equal
  to ``paper``. The operation uses:
  
  - :update:`~up.$set` to update the ``status`` field and the ``uom`` field embedded in the ``size`` document.
    To access the fields within embedded documents, the operation uses
    :ref:`dot notation <document-dot-notation>`.
 
  - :update:`~up.$currentDate` to set the ``lastModified`` field to the
    current date.

  .. include:: /includes/driver-example-update-52.rst

  .. include:: /includes/driver-example-update-result.rst

---
stepnum: 4
title: Update multiple documents.
ref: update_many
level: 4
# Example: 53
content: |
  The following operation updates all of the documents with
  ``quantity`` value less than 50.

  .. include:: /includes/driver-example-update-53.rst

  .. include:: /includes/driver-example-update-result.rst

...

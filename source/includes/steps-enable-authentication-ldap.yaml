stepnum: 1
level: 4
source:
  file: steps-source-access-control.yaml
  ref: select-auth-page
---
stepnum: 2
level: 4
title: "Select LDAP."
replacement:
  mechanism: ":guilabel:`LDAP`"
ref: select-auth-type
post: |

  a. Check {{mechanism}}.

  b. Select the appropriate type of {{mechanism}} authentication.

     .. important:: 

        If you are using LDAP Authorization,
        you must select :guilabel:`Native LDAP Authentication`.

  c. Click :guilabel:`Next`.

---
stepnum: 3
level: 4
source:
  file: steps-source-enable-authentication.yaml
  ref: set-ldap-authorization-settings
---
stepnum: 4
level: 4
source:
  file: steps-source-enable-authentication.yaml
  ref: optional-configure-ssl
replacement: 
  mechanism: ":guilabel:`LDAP`"
post: |
  SSL is not required for use with {{mechanism}} authentication.
---
stepnum: 5
level: 4
title: "Configure {{mechanism}} for the Agents."
content: |
  
  You can enable more than one authentication mechanism for your MongoDB
  deployment. The |mms| Agents can only use *one* authentication
  mechanism. Select {{mechanism}} to connect to your MongoDB deployment.

  a. Select {{mechanism}} from the :guilabel:`Agent Auth Mechanism` 
     drop-down menu.
  
  b. For each Agent, provide:

     .. list-table::
        :header-rows: 1
        :widths: 30 70

        * - Setting
          - Value

        * - :guilabel:`<Agent> LDAP Username`
          - Enter the :abbr:`LDAP (Lightweight Directory Access Protocol)`
            username.

        * - :guilabel:`<Agent> LDAP Password`
          - Enter the password for Agent's :abbr:`LDAP (Lightweight Directory
            Access Protocol)` Username.

        * - :guilabel:`<Agent> LDAP Group DN` 
          - Enter the Distinguished Name for the Agent's :abbr:`LDAP
            (Lightweight Directory Access Protocol)` Group.

            .. note:: 

               Provide the Agent's :abbr:`LDAP (Lightweight Directory Access
               Protocol)` Group :abbr:`DN (Distinguished Name)` only if you
               use :abbr:`LDAP (Lightweight Directory Access Protocol)`
               Authorization. Each Agent should have and use its own
               :abbr:`LDAP (Lightweight Directory Access Protocol)` Group
               :abbr:`DN (Distinguished Name)`.

  c. Click :guilabel:`Save`.
post: |
  Only configure the Agents you installed.

  .. example::
     If you did not install the Backup Agent, do not configure the
     Backup agent.
replacement: 
  mechanism: ":guilabel:`LDAP (PLAIN)`"
ref: configure-auth
---
stepnum: 6
level: 4
source:
  file: steps-source-deployment-page.yaml
  ref: review-deployment
---
stepnum: 7
level: 4
source:
  file: steps-source-deployment-page.yaml
  ref: confirm-deployment
---
stepnum: 8
level: 4
source:
  file: steps-source-enable-authentication.yaml
  ref: create-ldap-roles
...
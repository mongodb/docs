title: "Specify path to trusted CA certificate."
stepnum: 1
level: 4
ref: certificate
content: |
  If your MongoDB deployment uses |tls-ssl|, then you must configure
  the Automation Agent to use |tls-ssl|. To configure the agent to use
  |tls-ssl|, you must have a trusted |certauth| certificate that signed
  the MongoDB instance's certificate.

  In the agent's install directory, edit the configuration file to set
  :asetting:`sslTrustedServerCertificates` field to the path of a
  file containing one or more certificates in PEM format.

  .. include:: /includes/list-table-automation-agent-conf-file-locations.rst

  .. example::

     If you would use the following command to connect through the
     :program:`mongo` shell:

     .. code-block:: sh

        mongo --ssl --sslCAFile /etc/ssl/ca.pem example.net:27017

  Then you would set:

  .. code-block:: ini

     sslTrustedServerCertificates=/etc/ssl/ca.pem

  .. include:: /includes/extracts/fact-bypass-ssl-certificate.rst

  To learn more about these settings, including client
  certificate support, see :ref:`automation-agent-ssl-settings`.
---
title: "Restart the agent."
stepnum: 2
level: 4
ref: restart

...

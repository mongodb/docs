====================
Configure API Access
====================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. cond:: onprem

   To access the |mms| |api|, you must generate an |api| key for either
   :ref:`programmatic access <mms-prog-api-key>` for an organization or
   a :ref:`Personal API Key (deprecated) <mms-personal-api-key>`
   for |a-mms| user.

   .. admonition:: Preferred Method to Use API
      :class: important

      MongoDB recommends using
      :ref:`Programmatic API Keys <mms-prog-api-key>` instead of
      :ref:`Personal API Keys (deprecated)<mms-personal-api-key>`.

.. cond:: cloud

   To access the |mms| |api| using
   :ref:`applications <mms-prog-api-key>`,
   generate an |api| key for your organization.

   .. admonition:: Personal API Key Deprecation
      :class: important

      |mms| deprecated Personal |api| Keys:

      - You can't create new Personal |api| Keys.
      - Existing Personal |api| Keys continue to function.

.. admonition:: API Keys can't use the |mms| Console
   :class: note

   Organization-based |api| Keys aren't associated with user
   credentials. You can't use these |api| Keys to log in to the |mms|
   console.

Prerequisite
------------

.. _whitelist-for-api-operations:

Enable API Whitelisting for Your Organization
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

For |mms| users with a non-empty |api| whitelist, all |api| access must
originate from a whitelisted |ipv4| address. Ensure your configured
whitelist entries provide appropriate coverage for all clients which
require |api| access. An empty |api| whitelist grants access to all
|api| endpoints except those that explicitly require whitelisting.

|mms| supports requiring |api| whitelisting at the organization
level, such that any |api| activity for all projects within that
organization must originate from an entry on each respective
|mms| user's |api| whitelist. For organizations that require |api|
whitelisting, |mms| users cannot access any |api| operations until
they define at least one |api| whitelist entry.

To require an |api| whitelist for an Organization:

1. Log into |mms|.

#. Access the Organization using the :guilabel:`Context` picker in
   the top-left hand corner of the |mms| UI.

#. Click :guilabel:`Settings` from the left hand navigation.

#. Toggle the :guilabel:`Require IP Whitelist for Public API`
   setting to :guilabel:`On`.

Manage Access to the API
------------------------

You can set API Keys for an entire organization or project.

.. toctree::
   :titlesonly:

   /tutorial/manage-programmatic-api-keys
   /tutorial/manage-personal-api-keys

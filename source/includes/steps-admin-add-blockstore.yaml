stepnum: 1
source:
  file: steps-source-admin-navigation.yaml
  ref:  admin-backup-snapshot
---
title: "Click :guilabel:`Create New Blockstore`."
stepnum: 2
level: 4
ref: create-new-blockstore
---
title: "Provide the blockstore details."
stepnum: 3
level: 4
ref: provide-new-blockstore
content: |

   .. list-table::
      :widths: 30 70
      :header-rows: 1

      * - Field

        - Contents

      * - :guilabel:`Name`

        - A name for the blockstore

      * - :guilabel:`Datastore Type`
        - Select :guilabel:`Standalone`, :guilabel:`Replica Set` or
          :guilabel:`Sharded Cluster`.

      * - :guilabel:`MongoDB Host List` (:term:`Replica Set` and
          :term:`Sharded Cluster` only)

        - Type a comma-separated list of :program:`mongod` instances
          (for a Replica Set) or :program:`mongos` instances (for a
          Sharded Cluster) in the ``<hostname:port>`` format that
          comprise the blockstore database.

          .. example::

             ``host1.example.com:27017, host2.example.com:27017, host2.example.com:27018``

      * - :guilabel:`MongoDB Hostname` (Standalone only)
        - Type the hostname of the standalone MongoDB instance.
        
      * - :guilabel:`MongoDB Port` (Standalone only)
        - Type the port number of the standalone MongoDB instance.
        
      * - :guilabel:`Username` 

        - 

          .. list-table::
             :widths: 25 45 30
             :header-rows: 1

             * - Auth Mechanism
               - Action
               - Configure Instructions

             * - Username and Password (``SCRAM-SHA-1``)
               - Type the name of the user authorized to access the
                 blockstore database.
               - :ref:`SCRAM <authentication-scram>`

             * - x.509 (``X.509``)
               - Type the `RFC2253
                 <https://www.ietf.org/rfc/rfc2253.txt>`_-formatted
                 subject from the client certificate of the user
                 authorized to access the blockstore database.
               - :manual:`x.509 </tutorial/configure-x509-client-authentication>`

             * - Kerberos (``GSSAPI``)
               - Type the User Principal Name of the user authorized to
                 access the blockstore database.
               - :manual:`Kerberos </core/kerberos>`

             * - LDAP (``PLAIN``)
               - Type the name of the :abbr:`LDAP (Lightweight
                 Directory Access Protocol)` user authorized to access
                 the blockstore database.
               - :manual:`LDAP </core/security-ldap>`

      * - :guilabel:`Password` (optional) 

        - 

          .. list-table::
             :widths: 25 45 30
             :header-rows: 1

             * - Auth Mechanism
               - Action
               - Configure Instructions

             * - Username and Password (``SCRAM-SHA-1``)
               - Type the password associated with the username that
                 can access the blockstore database.
               - :ref:`SCRAM <authentication-scram>`

             * - x.509 (``X.509``)
               - Leave it blank.
               - :manual:`x.509 </tutorial/configure-x509-client-authentication>`

             * - Kerberos (``GSSAPI``)
               - Kerberos retrieves the password from its 
                 :doc:`keytab file </tutorial/enable-kerberos-authentication-for-group/>`. 
                 You do not need to type a password into this field.
               - :manual:`Kerberos </core/kerberos>`

             * - LDAP (``PLAIN``)
               - Type the password of the :abbr:`LDAP (Lightweight
                 Directory Access Protocol)` user authorized to access
                 the blockstore database.
               - :manual:`LDAP </core/security-ldap>`
        
      * - :guilabel:`Connection Options` (optional) 
        - Type any additional :manual:`configuration file options 
          </reference/configuration-options>` for the MongoDB instance. 
          This field supports unescaped values only.

          For proper syntax, see :manual:`Connection String URI
          Format </reference/connection-string>` in the MongoDB manual.
        
      * - :guilabel:`Encrypted Credentials` (optional)
        - Select if the Username and Password for the database were
          encrypted using the :ref:`credentialstool <encrypt-mongodb-user-credentials>`.
        
      * - :guilabel:`Use TLS/SSL` (optional)
        - Select if the blockstore database only accepts connection
          encrypted using TLS.

          To enable TLS on the blockstore database, see 
          :manual:`Configure mongod and mongos for TLS/SSL </tutorial/configure-ssl>`.

      * - :guilabel:`New Assignment Enabled` (optional)
        - Select if you want to enable this blockstore after creating
          it. This is selected by default so the blockstore can be
          assigned backup jobs. If you clear this checkbox, the
          blockstore is created but you cannot assign backups to this
          blockstore.


---
title: "Click :guilabel:`Create`."
stepnum: 4
level: 4
ref: create-blockstore 
...
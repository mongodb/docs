.. _restore-from-local-file:

==========================================
Restore from a Locally-Downloaded Snapshot
==========================================

.. default-domain:: mongodb

.. meta::
   :keywords: restore, backup, file

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol


|service| provides a mechanism for downloading dedicated {+cluster+},
shared {+cluster+}, and {+old-backup+} snapshots as compressed files.

Restore Considerations
~~~~~~~~~~~~~~~~~~~~~~

In addition to the :ref:`prerequisites <restore-prereq>`, consider the
following requirements and limitations when restoring from a
locally-downloaded snapshot.

.. include:: /includes/fact-restore-reqs.rst

- This feature is unavailable for ``M0`` {+clusters+} and 
  for {+serverless-instances+}.

- The downloaded files consist of the raw files copied from the 
  ``data`` directory. ``mongorestore`` is incompatible with these 
  files. To access the data files, use the following procedure to start
  a :binary:`~bin.mongod` instance and point it to the extract 
  directory.

.. _restore-cloud-provider-snapshot-download:

Required Access
~~~~~~~~~~~~~~~

To download a backup snapshot, you must have :authrole:`Project Owner` 
access or higher to the project.

Procedure
~~~~~~~~~

.. include:: /includes/fact-restore-cluster-downtime-warning.rst

Considerations
``````````````

When you manually download a cloud backup snapshot, your download 
might get interrupted for some reason. |service| keeps
the request alive and allows you to restart it as long as the 
most recent download failure occurred no more than one hour ago.

.. include:: /includes/steps/manual-restore-cps.rst

.. _multi-cluster-secure-tls:

=========================================
Secure Multi-Cluster Deployments with TLS
=========================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. _multi-cluster-tls-overview:

You can configure the |k8s-op-short| to use |tls| for encrypting
connections between MongoDB instances in replica sets in a multi-cluster deployment.

The |k8s-op-full| can use |tls| certificates to encrypt connections
between:

- MongoDB hosts in a replica set
- Client applications and MongoDB deployments

To secure your multi-cluster deployment with |tls| encryption,
you run all actions on the :ref:`central cluster <central-and-member-clusters>`.
The |k8s-op-short| propagates the |tls| configuration to each member cluster
and updates the |k8s-op-short| configuration on each member cluster.

.. _multi-cluster-tls-prereqs:

Prerequisites
-------------

Before you secure your multi-cluster MongoDB deployment using |tls|
encryption, complete the following tasks:

- Follow the steps in the :ref:`Multi-Cluster Quick Start Prerequisites <multi-cluster-prereqs>`.
- Deploy a multi-cluster using a :ref:`multi-cluster-quick-start-ref`.
- :ref:`Create credentials for the Kubernetes Operator <create-k8s-credentials>` for the |k8s-op-short|.

.. include:: /includes/prereqs/custom-ca-prereqs-multi-cluster-rs-tls-only.rst

Create TLS Certificates for a MongoDBMulti Resource
---------------------------------------------------

.. include:: /includes/steps/deploy-k8s-multi-cluster-rs-tls-custom.rst

Renew TLS Certificates for a MongoDBMulti Resource
--------------------------------------------------

If you have already created certificates, renew them periodically using
the following procedure.

.. include:: /includes/steps/deploy-k8s-multi-cluster-rs-tls-custom-renew.rst

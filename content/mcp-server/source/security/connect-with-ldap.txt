.. _mcp-server-ldap:

=================
Connect with LDAP
=================

.. default-domain:: mongodb

.. facet::
   :name: genre
   :values: reference

.. meta::
   :description: Learn how to connect to a MongoDB deployment using LDAP authentication with the MongoDB MCP server.
   :keywords: MCP, MCP server, LDAP, authentication, PLAIN, security, external

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. note::

   .. include:: /includes/LDAP-deprecated-introduction.rst

You can connect to your MongoDB Enterprise deployment or MongoDB Atlas cluster
using Lightweight Directory Access Protocol (LDAP) authentication
with the MongoDB MCP server.

To learn more, see the following resources:

- :ref:`LDAP on MongoDB Enterprise <security-ldap>`.
- :ref:`LDAP on MongoDB Atlas <security-ldaps>`

Configuration Options
---------------------

To connect to a MongoDB deployment
with LDAP, configure the following options in your
:ref:`MCP server configuration <mcp-server-configuration>`:

.. list-table::
   :header-rows: 1
   :widths: 20 30 10 10 30

   * - CLI Option Name
     - OS Environment Variable Name
     - Type
     - Necessity
     - Description

   * - ``username``
     - ``MDB_MCP_USERNAME``
     - string
     - Required
     - Set the username to a username that respects the
       :setting:`security.ldap.authz.queryTemplate`, or any
       configured :setting:`security.ldap.userToDNMapping` template.

   * - ``password``
     - ``MDB_MCP_PASSWORD``
     - string
     - Required
     - Password for the specified LDAP user.

   * - ``authenticationDatabase``
     - ``MDB_MCP_AUTHENTICATION_DATABASE``
     - string
     - Required
     - Set to ``$external`` for LDAP authentication.

   * - ``authenticationMechanism``
     - ``MDB_MCP_AUTHENTICATION_MECHANISM``
     - string
     - Required
     - Set to ``PLAIN`` to use LDAP authentication.

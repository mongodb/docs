title: "Set up a database user in the target |service| cluster."
level: 4
ref: mongoimport-user-target
content: |

   To run :binary:`mongoimport` to write to |service| cluster, you
   must specify a database user that has :manual:`readWrite
   </reference/built-in-roles/#readWrite>` privileges in the database
   into which to import data.
   For example, a user with :atlasrole:`Atlas admin`
   role provides these privileges.

   If no such user exists, create the user:

   #. In the :guilabel:`Security` section of the left navigation, click
      :guilabel:`Database Access`. The :guilabel:`Database Users` tab
      displays.

   #. Click :icon-fa5:`plus` :guilabel:`Add New Database User`.

   #. Add an :guilabel:`Atlas admin` user.
---
title: "Open the connect dialog." 
level: 4
ref: mongoimport-connect-dialog
content: |
   From the :guilabel:`Clusters` view, click :guilabel:`Connect` for
   the |service| cluster into which you want to migrate data.
---
title: "Update IP Whitelist."
level: 4
ref: mongoimport-ip-access-list
content: |
  If the host where you will run :binary:`mongoimport` is not in the
  :doc:`IP Whitelist </security/ip-access-list>`, update the list. You can
  specify either:
     
  - The public IP address of the server on which :binary:`mongoimport` will run, or
  
  - If set up for VPC peering, either the peer's VPC CIDR block (or a
    subnet) or the peer VPC's Security Group.
---
title: "Copy the target cluster URI / host information."
level: 4
ref: connect
content: |

   .. include:: /includes/extracts/uri-connection-mongoimport.rst

---
title: "Run mongoimport."
level: 4
ref: mongoimport-run
pre: |
   The following example imports data from the file
   ``/somedir/myFileToImport.json`` into collection ``myData`` in the
   ``testdb`` database. The operation includes the ``--drop`` option to
   drop the collection first if the collection exists.
   
   Using ``--uri``:

   .. class:: copyable-code
   .. code-block:: none
   
      mongoimport --uri "mongodb://root:<PASSWORD>@atlas-host1:27017,atlas-host2:27017,atlas-host3:27017/<DATABASE>?ssl=true&replicaSet=myAtlasRS&authSource=admin" --collection myData --drop --file /somedir/myFileToImport.json
   
   Using ``--host``:

   .. class:: copyable-code
   .. code-block:: none
   
      mongoimport --host myAtlasRS/atlas-host1:27017,atlas-host2:27017,atlas-host3:27017 --ssl -u myAtlasAdminUser -p 'myAtlasPassword' --authenticationDatabase admin  --db testdb --collection myData --drop --file /somedir/myFileToImport.json
   
   Add/edit the :binary:`mongoimport <bin.mongoimport>` command line
   options as appropriate for your deployment.
   See :binary:`mongoimport <bin.mongoimport>` for more :binary:`mongoimport`
   options.
...

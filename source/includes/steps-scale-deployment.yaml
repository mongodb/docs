---
title: "{{method}}"
stepnum: 1
level: 4
ref: adjust-spec-settings
replacement: 
  repset: |
    .. literalinclude:: /includes/code-examples/yaml-files/example-replica-set.yaml
         :language: yaml
         :start-after: START-regular-replset
         :end-before: END-regular-replset
         :linenos:

    .. code-block:: yaml

       spec: 
         members: 4

  sharded: |
    - :setting:`spec.shardCount`
    - :setting:`spec.mongodsPerShardCount`
    - :setting:`spec.mongosCount`
    - :setting:`spec.configServerCount`
    
    .. literalinclude:: /includes/code-examples/yaml-files/example-sharded-cluster.yaml
       :language: yaml
       :start-after: START-scaled-sharded
       :end-before: END-scaled-sharded
       :linenos:

    .. code-block:: yaml 

       spec: 
         shardCount: 3
         mongodsPerShardCount: 3
         mongosCount: 3
         configServerCount: 4

--- 
title: "Reapply the configuration to |k8s|:"
stepnum: 2
level: 4
ref: apply-config-settings
replacement: 
  repset: |
    .. code-block:: sh

       kubectl apply -f <repl-set-config>.yaml

  sharded: |
    .. code-block:: sh

       kubectl apply -f <sharded-cluster-config>.yaml

...

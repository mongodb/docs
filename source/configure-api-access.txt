.. _atlas-admin-api-access:

=============================================
Get Started with the {+atlas-admin-api+}
=============================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. important::

   Each |service| |api| has its own resources and requires initial
   setup. The {+atlas-admin-api+}
   and the Realm Admin API also use different access keys from the {+data-api+}.

   To learn more, see :doc:`/api`.

.. _atlas-prog-api-key:

Required for All Resources: Generate an Organization API Key
------------------------------------------------------------

To access the {+atlas-admin-api+}, :doc:`generate an API key for your
organization </tutorial/configure-api-access/organization/create-one-api-key/>`.

All |api| keys belong to the organization. You can give an |api| key
access to a project. To add the new |api| key to a project, :doc:`/tutorial/configure-api-access/project/invite-org-to-project`

To learn more about managing |api| keys for your organization or project, see
the :doc:`/api/admin-api-tutorials/`.

.. _enable-api-access-list:

Required for Select Resources: API Resource Request Access Lists
----------------------------------------------------------------

|service| allows your API key to make requests from any address on the
internet. |service| has some exceptions to this rule. These exceptions
limit which :ref:`resources <atlas-require-api-access-list>` an API key
can use without location-based limits.

To add these location-based limits to your API key, create an **API
Access List**. This list limits the internet addresses from which a
specific API key can make API requests.

Any |api| keys with an |api| access list require all |api| requests to
come from an IP address on that list. Your API access list must include
entries for all clients that use the |api|.

.. _atlas-require-api-access-list:

Use API Resources that Require an Access List
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following |api| resources require an API access list:

Organization API Access List Entries
````````````````````````````````````

:doc:`Create </reference/api/apiKeys-orgs-create-one>`
or :doc:`remove </reference/api/apiKey-delete-one-apiKey>` an
organization API key access list entry.

Cloud Backup Restores
`````````````````````

- Return a :doc:`dedicated </reference/api/cloud-backup/restore/get-one-restore-job>`
  or :doc:`serverless </reference/api/cloud-backup/restore/return-one-restore-job-for-one-serverless-instance>`
  cloud backup restore job.

- Return all
  :doc:`dedicated </reference/api/cloud-backup/restore/get-all-restore-jobs>`
  or
  :doc:`serverless </reference/api/cloud-backup/restore/return-all-restore-jobs-for-one-serverless-instance>` 
  cloud backup restore jobs.

- Restore a :doc:`dedicated </reference/api/cloud-backup/restore/create-one-restore-job>`
  or :doc:`serverless </reference/api/cloud-backup/restore/restore-one-snapshot-of-one-serverless-instance>`
  cloud backup snapshot.

- Cancel the restore of a :doc:`dedicated </reference/api/cloud-backup/restore/delete-one-restore-job>`
  or serverless cloud backup snapshot.

Cloud Backup Snapshots
``````````````````````

:doc:`Take </reference/api/cloud-backup/backup/get-all-backups>` or
:doc:`remove </reference/api/cloud-backup/backup/delete-one-backup>`
one cloud backup snapshot.

Legacy Backups
``````````````

- :doc:`Restore </reference/api/legacy-backup/restore/create-one-restore-job>`,
  :doc:`remove </reference/api/legacy-backup/backup/delete-one-snapshot>`,
  or :doc:`change the expiration date </reference/api/legacy-backup/backup/change-one-snapshot-expiration>`
  of a legacy backup snapshot.

- :doc:`Clear </reference/api/cloud-backup/schedule/delete-all-schedules>`
  or :doc:`update </reference/api/cloud-backup/schedule/modify-one-schedule>`
  a legacy backup snapshot schedule.

.. _atlas-require-all-api-access-list:

Require an API Access List for All Requests
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You can require *all* |api| requests from an |api| key to come from an
entry on its |api| access list. If you require |api| access lists, API
keys can't make any |api| requests until you define at least one |api|
access list entry.

To set your organization to require API access lists for every API key:

.. include:: /includes/steps/require-ip-access-list.rst


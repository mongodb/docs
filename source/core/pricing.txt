================================
Edit Project Billing Information
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: twocols

Overview
--------

.. admonition:: new

   Billing is at the organization level. Previously, billing was at the
   project/group level.

Each organization has its own account, plan, and billing method. All
projects in an organization share the same billing settings.

View Pricing Information for |mms| Features
-------------------------------------------

|mms| pricing is described at
`https://www.mongodb.com/cloud/cloud-manager <https://www.mongodb.com/cloud/cloud-manager?jmp=docs>`_.

View Your Plan Type
-------------------

|mms| displays your plan at the top left the |mms| page. For more
information on each plan, see
`https://www.mongodb.com/cloud/cloud-manager
<https://www.mongodb.com/cloud/cloud-manager?jmp=docs>`_. For
monitoring metrics for each plan, see
:doc:`/reference/monitoring-metrics-per-plan`.

.. _pricing-information:

View Pricing Information for Your Account
-----------------------------------------

#. Select your organization in the :guilabel:`Context` dropdown.

#. Click :guilabel:`Settings`, then :guilabel:`Billing Overview`.

2. Click :guilabel:`Understanding Your Bill`.

.. _view-your-costs:

View Your Current Costs
-----------------------

#. Select your organization in the :guilabel:`Context` dropdown.

#. Click :guilabel:`Settings`, then :guilabel:`Billing Overview`.

#. Your current costs are displayed in the :guilabel:`Billing and Usage
   Summary` section.

.. _edit-billing-info:

Edit Payment Method and Billing Address
---------------------------------------

.. COMMENT To DOCS:: this is the same things as the content in reopen a locked project account.

To edit billing information, including billing address, card number and VAT
number (if applicable), do the following:

#. Select your organization in the :guilabel:`Context` dropdown.

#. Click :guilabel:`Settings`, then :guilabel:`Billing Overview`.

#. In the :guilabel:`Payment Methods` section, click :guilabel:`Edit`.

#. Enter/edit the information as needed and click :guilabel:`Submit`.

   Changing the billing address does not affect the separate
   :ref:`Invoice address <company-address>`, if set. If you set an
   Invoice Address, you have the option to use this address for the
   Billing Address.

.. _invoice-address:

Edit Invoice Address
--------------------

You can set an optional invoice address that is different from your
:ref:`billing address <edit-billing-info>`.

#. Select your organization in the :guilabel:`Context` dropdown.

#. Click :guilabel:`Settings`, then :guilabel:`Billing Overview`.

#. In the :guilabel:`Billing Profile` section, click :guilabel:`Edit`.

#. Enter the Invoice address and click :guilabel:`Submit`.

.. _company-address:

Edit Billing Email Address
--------------------------

To edit the billing email address:

#. Select your organization in the :guilabel:`Context` dropdown.

#. Click :guilabel:`Settings`, then :guilabel:`Billing Overview`.

#. In the :guilabel:`Billing Profile` section, click :guilabel:`Edit`.

#. Enter the :guilabel:`Billing Email Address` and click :guilabel:`Submit`.

View Your Past Charges
----------------------

To view past charges for your organization, for your organization,
sclick :guilabel:`Settings`, then :guilabel:`Payment History`. Click a
date to view charges and payments for that period.

Retry a Failed Payment
----------------------

If you receive notification of a failed payment, first check that your
credit card is up-to-date. To do so, click :guilabel:`Settings` for
your organization, then :guilabel:`Billing Overview` and review the
information in the :guilabel:`Payment Method` section.

Once you verify your credit card, retry the payment:

1. Click :guilabel:`Settings`, then :guilabel:`Payment History`.

2. On the line for the failed payment, click :guilabel:`Retry`.

.. _backup-pricing:

Backup Costs
------------

Backup costs are affected by the size of your backed-up snapshots and on your
settings for :ref:`snapshot frequency and retention <snapshot-frequency-and-retention>`.

Snapshot Size
~~~~~~~~~~~~~

The per-gigabyte charge for Backup is applied to the size of your most
recent snapshot. A snapshot is roughly equivalent to the size of all
documents and all indexes for all the databases backed up.

To retrieve the size of the documents and indexes in a given database,
issue the :manual:`dbStats </reference/command/dbStats>` command and sum
the ``dataSize`` and ``indexSize`` fields. In the following example output
of a :manual:`dbStats </reference/command/dbStats>` command that was
issued to return gigabytes, the size of the database's documents and
indexes is roughly 79.07GB, as found by adding the ``dataSize`` and
``indexSize`` fields:

.. code-block:: javascript

   {
       "db" : "mmsdbconfig",
       "collections" : 88,
       "objects" : 115153078,
       "avgObjSize" : 551.9170146368124,
       "dataSize" : 59.1901531778276,
       "storageSize" : 64.05994385480881,
       "numExtents" : 553,
       "indexes" : 235,
       "indexSize" : 19.876188188791275,
       "fileSize" : 89.89453125,
       "nsSizeMB" : 16,
       "extentFreeList" : {
           "num" : 19,
           "totalSize" : 0
       },
       "dataFileVersion" : {
           "major" : 4,
           "minor" : 22
       },
       "ok" : 1
   }

Frequency and Retention Settings
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The cost per gigabyte on the |mms| :ref:`Understanding Your Bill <pricing-information>`
page assumes an installation that uses the default settings for :ref:`snapshot
frequency and retention <snapshot-frequency-and-retention>`. Lowering snapshot
frequency or retaining fewer snapshots lowers the rate. Retaining an increased
number of snapshots increases the rate.

To view your rate, click the
:guilabel:`Usage Details` link on the :guilabel:`Billing/Subscriptions`
page.

To change a backed-up deployment's schedule, click :guilabel:`Backup`, then
the ellipsis icon for the backup, then :guilabel:`Edit Snapshot Schedule`.
Administrators can change frequency and retention through the
:doc:`snapshotSchedule resource </reference/api/snapshot-schedule>` in the
API. Lowering snapshot frequency increases how long it takes to build a
point-in-time restore.

===============
Set Up Security
===============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

|service| secures your databases through TLS/SSL, virtual private cloud
(VPC), whitelists, and user authentication and access control.

.. _security-tls:

TLS/SSL
-------

|service| uses TLS/SSL to encrypt the connections to your databases.

.. _security-vpc:

Virtual Private Cloud (VPC)
---------------------------

.. include:: /includes/fact-vpc-per-group.rst

.. _vpc-peering:

VPC Peering Connection
----------------------

|service| supports :ref:`VPC <security-vpc>` peering with other AWS
VPCs in the same region.

.. important::

   To set up a VPC peering connection, you must be the group owner.

From the :guilabel:`Clusters` view, select the :guilabel:`Security`
tab, then click :guilabel:`Peering`, then :guilabel:`New Peering
Connection`.

.. include:: /includes/steps/add-vpc-connection.rst

Once set up, you can edit or terminate VPC peering connection from the
:guilabel:`Peering` table.

.. _whitelist:
.. _add-to-whitelist:

Add Entries to the Whitelist
----------------------------

|service| only allows client connections to the cluster from entries in
the group's whitelist. Each entry is either a single IP address, a
CIDR-notated range of addresses, or if using :ref:`vpc-peering`, a
Security Group associated with the peer VPC.

The whitelist applies to all clusters in the group and can have up to
20 entries.

To add an entry to the whitelist, from the :guilabel:`Clusters` view,
select the :guilabel:`Security` tab, then click :guilabel:`IP
Whitelist`, then :guilabel:`Add IP Address`.

.. include:: /includes/steps/add-to-whitelist.rst

.. _mongodb-users:

Create a New MongoDB User for the Cluster
-----------------------------------------

Create MongoDB users to provide clients access to the clusters in your
group. A MongoDB user's access is determined by the roles assigned to
the user. When you create a MongoDB user, the user is added to all
clusters in your |service| group.

To create a new MongoDB user, from the :guilabel:`Clusters` view,
select the :guilabel:`Security` tab, then click :guilabel:`Users`, then
:guilabel:`Add New User`.

MongoDB users are separate from |service| users. MongoDB users have
access to MongoDB databases, while |service| users access to the
|service| application itself.

.. include:: /includes/steps/add-users.rst

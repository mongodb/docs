stepnum: 1
source:
  file: steps-add-users.yaml
  ref: go-users-view
---
stepnum: 2
title: Select :guilabel:`Certificate`.
ref: select-certificate
content: |
  In the :guilabel:`Authentication Method` section of the :guilabel:`Add
  New Database User` modal window, select the box marked :guilabel:`Certificate`.
---
stepnum: 3
title: Enter user information.
ref: x509-enter-user-info
content: |
  a. Enter a username for the new user in the :guilabel:`Common Name` text
     field.

  #. (Optional) If you would like to download an Atlas-managed certificate
     after the new user is created, toggle the :guilabel:`Download certificate
     when user is added` switch to :guilabel:`On`.

     .. note::

        To download the certificate upon saving, you must provide a
        certificate expiration date.

  #. (Optional) Select a certificate expiration period.

     X.509 certificates expire and are invalid after the
     certificate expiration date you set. A user cannot 
     log in with an expired X.509 certificate and must be issued 
     a new certificate.

     To help manage this, |service| automatically creates a
     project-level alert when you create a new user with X.509
     authentication enabled. This alert sends a notification 30 days
     before that user's latest certificate expires, repeating every
     24 hours. You can view and edit this alert from |service|'s
     :guilabel:`Alert Settings` page. For more information on
     configuring alerts, see
     :doc:`Configure Alert Settings </configure-alerts>`.

     .. important::

        If a user loses their certificate, they will need a new
        certificate before they can log in again.

     .. important::
            
        You cannot revoke X.509 certificates. To revoke an X.509
        certificate-authenticated user's access to your project,
        you must delete that user.

     If you prefer to manage your own X.509 certificates, you 
     can upload a PEM-encoded certificate authority through
     :ref:`Self-Managed X.509 Certificates <self-managed-x509>`.
---
stepnum: 4
source:
  file: steps-add-users.yaml
  ref: assign-user-privileges
---
stepnum: 5
source:
  file: steps-add-users.yaml
  ref: restrict-resource-access
---
stepnum: 6
source:
  file: steps-add-users.yaml
  ref: save-user
...

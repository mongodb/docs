[build]
    publish = "dist"
    base = "content/atlas-cli"

[build.environment]
    REPO_NAME = "docs-atlas-cli"
    SECRETS_SCAN_ENABLED = "false"
    OFFLINE_SNOOTY_ENABLED = "false"
    SEARCH_MANIFEST_ENABLED = "false"
    MUT_COMMANDS_ENABLED = "false"

### EOL REDIRECTS
### ALIAS REDIRECTS
### WILDCARD REDIRECTS
### CATCH-ALLS


[context.production.environment]
    ENV = "dotcomprd"

[context.preprd.environment]
    ENV = "dotcomstg"

[context.deploy-preview.environment]
    ENV = "prd"

[context.branch-deploy.environment]
    ENV = "prd"

[context.preview-server.environment]
    ENV = "prd"

[context.dev.environment]
    ENV = "stg"

### EOL REDIRECTS
[[redirects]]
from = "/docs/atlas/cli/v1.0/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.1/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.2/"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.3/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.4/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.5/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.6/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.7/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.8/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.9/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.10/*"
to = "/docs/atlas/cli/current/:splat"
 
[[redirects]]
from = "/docs/atlas/cli/v1.11/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.12/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.13/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.14/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.15/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.16/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.17/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.18/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.19/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.20/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.21/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.22/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.23/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.24/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.25/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.26/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.27/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.28/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.29/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.30/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.31/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.32/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.33/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.34/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.35/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.36/*"
to = "/docs/atlas/cli/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.37/*"
to = "/docs/atlas/cli/current/:splat"


### ALIAS REDIRECTS
[[redirects]]
from = "/docs/atlas/cli/master/*"
to = "/docs/atlas/cli/upcoming/:splat"

[[redirects]]
from = "/docs/atlas/cli/v1.47/*"
to = "/docs/atlas/cli/upcoming/:splat"
status = 302

[[redirects]]
from = "/docs/atlas/cli/v1.46/*"
to = "/docs/atlas/cli/current/:splat"
status = 302

[[redirects]]
from = "/docs/atlas/cli/stable/*"
to = "/docs/atlas/cli/current/:splat"


### WILDCARD REDIRECTS
[[redirects]]
from = "/docs/atlas/cli/stablecommand/*"
to = "/docs/atlas/cli/current/command/:splat/"

[[redirects]]
from = "/docs/atlas/cli/:version/cluster-config-file"
to = "/docs/atlas/cli/:version/reference/json/cluster-config-file"

[[redirects]]
from = "docs/atlas/cli/:version/atlas-cli-deploy-docker/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/plugin-changelogs/"
to = "https://www.mongodb.com/docs/unavailable-version/"


### CATCH-ALLS
# Redirects any atlas-cli page that doesn't exist to the version's landing page

[[redirects]]
from = "/docs/atlas/cli/v1.38/*"
to = "/docs/atlas/cli/intermediary/v1.38/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.38/*"
to = "/docs/atlas/cli/v1.38"
 
[[redirects]]
from = "/docs/atlas/cli/v1.39/*"
to = "/docs/atlas/cli/intermediary/v1.39/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.39/*"
to = "/docs/atlas/cli/v1.39"
 
[[redirects]]
from = "/docs/atlas/cli/v1.40/*"
to = "/docs/atlas/cli/intermediary/v1.40/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.40/*"
to = "/docs/atlas/cli/v1.40"
 
[[redirects]]
from = "/docs/atlas/cli/v1.41/*"
to = "/docs/atlas/cli/intermediary/v1.41/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.41/*"
to = "/docs/atlas/cli/v1.41"

 [[redirects]]
from = "/docs/atlas/cli/v1.42/*"
to = "/docs/atlas/cli/intermediary/v1.42/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.42/*"
to = "/docs/atlas/cli/v1.42"

 [[redirects]]
from = "/docs/atlas/cli/v1.43/*"
to = "/docs/atlas/cli/intermediary/v1.43/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.43/*"
to = "/docs/atlas/cli/v1.43"

 [[redirects]]
from = "/docs/atlas/cli/v1.44/*"
to = "/docs/atlas/cli/intermediary/v1.44/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.44/*"
to = "/docs/atlas/cli/v1.44"

 [[redirects]]
from = "/docs/atlas/cli/v1.45/*"
to = "/docs/atlas/cli/intermediary/v1.45/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.45/*"
to = "/docs/atlas/cli/v1.45"

 [[redirects]]
from = "/docs/atlas/cli/v1.46/*"
to = "/docs/atlas/cli/intermediary/v1.46/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/v1.46/*"
to = "/docs/atlas/cli/v1.46"

[[redirects]]
from = "/docs/atlas/cli/current/*"
to = "/docs/atlas/cli/intermediary/current/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/current/*"
to = "/docs/atlas/cli/current"
 
[[redirects]]
from = "/docs/atlas/cli/upcoming/*"
to = "/docs/atlas/cli/intermediary/upcoming/:splat"

[[redirects]]
from = "/docs/atlas/cli/intermediary/upcoming/*"
to = "/docs/atlas/cli/upcoming"


### CATCH ALLS (add "current" slug to paths without slug, but first ensure that if there is a valid slug, no redirect occurs)
 
[[redirects]]
from = "/docs/atlas/cli/v1.38/*"
to = "/docs/atlas/cli/v1.38/:splat"
status = 200
 
[[redirects]]
from = "/docs/atlas/cli/v1.39/*"
to = "/docs/atlas/cli/v1.39/:splat"
status = 200
 
[[redirects]]
from = "/docs/atlas/cli/v1.40/*"
to = "/docs/atlas/cli/v1.40/:splat"
status = 200

[[redirects]]
from = "/docs/atlas/cli/v1.41/*"
to = "/docs/atlas/cli/v1.41/:splat"
status = 200

[[redirects]]
from = "/docs/atlas/cli/v1.42/*"
to = "/docs/atlas/cli/v1.42/:splat"
status = 200

[[redirects]]
from = "/docs/atlas/cli/v1.43/*"
to = "/docs/atlas/cli/v1.43/:splat"
status = 200

[[redirects]]
from = "/docs/atlas/cli/v1.44/*"
to = "/docs/atlas/cli/v1.44/:splat"
status = 200

[[redirects]]
from = "/docs/atlas/cli/v1.45/*"
to = "/docs/atlas/cli/v1.45/:splat"
status = 200

[[redirects]]
from = "/docs/atlas/cli/v1.46/*"
to = "/docs/atlas/cli/v1.46/:splat"
status = 200

[[redirects]]
from = "/docs/atlas/cli/current/*"
to = "/docs/atlas/cli/current/:splat"
status = 200
 
[[redirects]]
from = "/docs/atlas/cli/upcoming/*"
to = "/docs/atlas/cli/upcoming/:splat"
status = 200
 
[[redirects]]
from = "/docs/atlas/cli/*"
to = "/docs/atlas/cli/current/:splat"
status = 302

# redirect files removed for unified toc

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-test/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-test-versionedExample/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-openApi/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-openApi-getApiVersions/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-openApi-getOpenApiInfo/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-clusters-upgradeSharedClusterToServerless/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-organizations-listOrganizationUsers/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-organizations-removeOrganizationUser/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-projects-listProjectUsers/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-projects-removeProjectUser/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-teams-listTeamUsers/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessInstances-createServerlessInstance/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessInstances-deleteServerlessInstance/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessInstances-getServerlessInstance/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessInstances-listServerlessInstances/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessInstances-updateServerlessInstance/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessInstances/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessPrivateEndpoints-createServerlessPrivateEndpoint/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessPrivateEndpoints-deleteServerlessPrivateEndpoint/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessPrivateEndpoints-getServerlessPrivateEndpoint/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessPrivateEndpoints-listServerlessPrivateEndpoints/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessPrivateEndpoints-updateServerlessPrivateEndpoint/"
to = "https://www.mongodb.com/docs/unavailable-version/"

[[redirects]]
from = "/docs/atlas/cli/:version/command/atlas-api-serverlessPrivateEndpoints/"
to = "https://www.mongodb.com/docs/unavailable-version/"

title: "Specify path to trusted CA certificate."
stepnum: 1
level: 4
ref: certificate
pre: |
  If your MongoDB deployment uses SSL, then you must configure the
  Monitoring Agent to use SSL. To configure the agent to use SSL, you
  must have a trusted CA certificate that signed the MongoDB instance's
  certificate.
action:
  - pre: |
      In the agent's install directory, edit the
      ``monitoring-agent.config`` file to set
      :msetting:`sslTrustedServerCertificates` field to the path of a
      file containing one or more certificates in PEM format. For example
      if you would use the following command to connect through the
      :program:`mongo` shell:
    language: sh
    code: |
      mongo --ssl --sslCAFile /etc/ssl/ca.pem example.net:27017
  - pre: |
      Then you would set:
    language: ini
    code: |
      sslTrustedServerCertificates=/etc/ssl/ca.pem
post: |
  By default, to connect to MongoDB instances using SSL requires a valid
  trusted certificate.

  For testing purposes, however, you can set the
  :msetting:`sslRequireValidServerCertificates` setting to ``false`` to
  bypass this check. When :msetting:`sslRequireValidServerCertificates`
  is ``false``, you do not need to specify the path to the trusted CA
  certificate in the :msetting:`sslTrustedServerCertificates` setting,
  since |mms| will not verify the certificates. This configuration is
  **not** recommended for production use as it makes
  connections susceptible to man-in-the-middle attacks.

  For additional information on these settings, including client
  certificate support, see :ref:`monitoring-agent-ssl-settings`.
---
title: "Restart the agent."
stepnum: 2
level: 4
ref: restart
...

:noprevnext:

.. _atlas-billing:

==============
Manage Billing
==============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. _billing-overview:

Billing settings are configured at the organization level and apply to
all projects within that organization. You can examine costs at the
organization level or the project level.

To configure the payment method and billing profile for an
organization, or to view the most recent and pending charges for
an organization, access the organization's :guilabel:`Billing` section
through |service|.

|service|:

- charges by the hour for your MongoDB {+clusters+}
- charges for usage of your MongoDB {+serverless-instances+}
- tabulates costs daily
- displays your current monthly costs on the
  :ref:`Invoices page <view-current-invoice>`

To view line-item charges,
:ref:`view all of your invoices <view-past-invoices>`.

As you configure a {+database-deployment+}, you can view the total 
cost, except for data transfer, before applying your settings.

Your Billing Profile
--------------------

.. _atlas-billing-profile:

View and Edit Your Billing Profile
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To view and edit your billing profile:

.. include:: /includes/steps/billing-profile-edit.rst

.. _atlas-billing-methods:

Payment Method
--------------

To pay for your |service| usage, you can:

- Pay with an
  :ref:`accepted payment method <payment-alternatives>`.
- Pay with a MongoDB |service|
  :ref:`subscription <atlas-subscriptions>`.

Contact :website:`MongoDB Sales </contact/atlas>` to:

- Purchase a subscription. Your :ref:`subscription level
  <subscription-level>` determines your access to support and other
  entitlements.
- Review alternative billing methods.

.. important::
   
   To confirm your credit card information, |service| charges $1.00 
   when you first connect a credit card to your account. After 
   |service| confirms your information, it refunds the $1.00 charge. If 
   you encounter any issues with connecting a credit card to your 
   account, reach out to your card provider or banking institution. 
   Verify whether they declined the initial charge, which would prevent 
   |service| from confirming your information.

.. _payment-method:
.. _atlas-payment-method:
.. _payment-alternatives:

Set Payment Method
~~~~~~~~~~~~~~~~~~

MongoDB accepts the following payment methods through the |service|
console:

- Credit card
- `PayPal <https://www.paypal.com/us/home>`__

To set a payment method, you must be an :authrole:`Organization Owner` or
an :authrole:`Organization Billing Admin`.

To set your payment method:

.. include:: /includes/steps/billing-payments-edit.rst

Through :website:`MongoDB Sales </contact/atlas>`, you can pay using a:

- Currency other than |usd|.
- Method other than a credit card or PayPal.

.. _retry-failed-payment:

Retry a Failed Payment
~~~~~~~~~~~~~~~~~~~~~~

To retry a failed payment:

.. include:: /includes/steps/billing-payments-retry.rst

Activate a Subscription
~~~~~~~~~~~~~~~~~~~~~~~

To activate a MongoDB subscription, see 
:ref:`Activate a Subscription <activate-subscription>`.

.. _examine-invoices:

Invoices
--------

For each of your invoices, including your current invoice, you can:

- View the running usage total, the billing period, the invoice number and
  your current billing address.
- Export the invoice to PDF or CSV.
- Pay the invoice if you have a :ref:`subscription <activate-subscription>`.
- Explore :ref:`invoice cost visualization charts <invoice-charts>` that
  show total usage costs by service and by deployment.
- Review usage summaries by project and by service.
- Examine :ref:`payment and usage details <payment-details>` that explain
  usage, as well as paid and pending charges per service.

To learn more, see :ref:`Manage Invoices <atlas-invoices>`.

.. _billing-visualizations:

Cost Visualizations
-------------------

Year-to-Date Usage Chart
~~~~~~~~~~~~~~~~~~~~~~~~

On the :guilabel:`Billing Overview` page, a :guilabel:`Usage` chart 
displays the costs incurred by your organization's |service| usage over 
the last 12 months. It does not include subscription charges.

.. image:: /images/billing-overview-visualization.png
   :alt: A bar chart displaying charges per day and a donut chart 
         comparing usage by project.
   :figwidth: 100%

You can view usage data by service, by project, or by deployment:

By Service 
``````````

The :guilabel:`Usage` chart displays stacked columns representing the 
total cost for each type of |service| service you have used across all 
of your projects each month.

|service| services include:

- {+Clusters+}
- {+Serverless-instances+} 
- |charts|
- {+df+}
- Backup
- Data transfer
- Other |service| features

By Project 
``````````

The :guilabel:`Usage` chart displays stacked columns representing the 
total cost incurred by each of your projects each month.

.. note::
   
   The :guilabel:`By Project` view is unavailable for organizations 
   using 20 or more projects.

By Deployment 
`````````````

The :guilabel:`Usage` chart displays stacked columns representing the 
costs incurred by each of your {+clusters+} and 
{+serverless-instances+} each month. It does not include data transfer 
costs for |charts-short| and {+df+}.

.. note:: 
   
   The :guilabel:`By Deployment` view is unavailable for:

   - Organizations using 20 or more deployments
   - Cloud Manager

.. _invoice-charts:

Invoice Charts
~~~~~~~~~~~~~~

Each of your invoices displays :guilabel:`Total Usage` and 
:guilabel:`By Deployment` charts. The charts do not include 
subscription charges.

:guilabel:`Total Usage` Chart
`````````````````````````````

.. image:: /images/total-usage-invoice-visualization.png
   :alt: Bar chart displaying the usage of four projects.
   :figwidth: 60%

The :guilabel:`Total Usage` chart displays the costs incurred by your 
|service| usage over the invoice period. You can filter usage by 
service to view charges incurred by a particular |service| service.

|service| services include:

- {+Clusters+}
- {+Serverless-instances+}
- |charts|
- {+df+}
- Backup
- Data transfer
- Other |service| features

:guilabel:`By Deployment` Chart 
```````````````````````````````

.. image:: /images/by-deployment-invoice-visualization.png
   :alt: Bar chart displaying the usage of four projects.
   :figwidth: 60%

The :guilabel:`By Deployment` chart displays the proportion of your 
usage incurred by each of your {+deployments+} across all your projects.
{+Deployments+} are {+clusters+} and {+serverless-instances+}.

You can filter the chart by project to view charges incurred by 
{+deployments+} in a particular project.

.. _cross-org-billing:

Cross-Organization Billing
--------------------------

*Cross-organization billing* is an |service| subscription feature that 
enables you to share a billing subscription across many 
:doc:`organizations </tutorial/manage-organizations/>` and to pay a 
single invoice for them. After 
:ref:`configuring a paying organization <configure-paying-org>`, you 
pay invoices for the paying organization that include a list of charges 
incurred for all linked organizations.

A paying organization's :guilabel:`Overview` tab includes the
:guilabel:`Running Invoice Total`.

The :guilabel:`Running Invoice Total` shows:

- the paying organization's charges, or
- if you have linked organizations, the paying and linked organizations'
  combined charges.

To display linked organizations and their contributions to the 
:guilabel:`Running Invoice Total`, view the :ref:`payment details <payment-details>`
section of your organization's invoice.

Linked organizations are subject to the subscription agreement of the 
paying organization, including the level of support, the charges 
associated with the subscription, discounts, and payment terms.

Linked Organization Invoices
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You pay for all linked organization usage through the paying 
organization. To help you account for usage, each linked organization
has its own monthly invoice.

Linked organization invoices include:

- All charges incurred by that organization.
- A percentage of your total cross-organization  billing subscription
  cost proportional to that organization's usage.

Each day, |service| bills linked and paying organizations for
subscription uplift based on their own usage.

At the end of a paying organization's billing period, |service| bills
linked and paying organizations proportionally to their usage for the unmet 
monthly minimum, if there is one.

.. example::
   A paying organization has an |service| Pro subscription and two 
   linked organizations. The paying organization incurs no charges. 
   
   Linked organization #1 incurs $400 in subscription uplift charges 
   while linked organization #2 incurs $200 in subscription uplift 
   charges. The paying organization has a monthly minimum of $799, so 
   at the end of the month, the unmet $199 is proportionally distributed 
   across invoices for linked organizations #1 and #2:

   - |service| charges linked organization #1 $132.70 of the unmet $199 
     because it incurred 2/3 of the total charges.

   - |service| charges linked organization #2 $66.30 of the unmet $199 
     because it incurred 1/3 of the total charges.

   You still pay all charges through the paying organization.

.. note::
   
   At the end of the paying organization's billing period, simultaneous 
   charges for daily subscription uplift and an unmet minimum could 
   trigger daily maximum billing alerts.

.. _cross-org-billing-use-cases:

Use Cases
~~~~~~~~~

Use cross-organization billing to:

- Create broad levels of authorization using |service| organizations.
- Exceed the 250-project limit on |service| organizations.

.. example::

   A company with sales and engineering teams requires that
   each team has different organization-level authorization. At the same
   time, the company prefers to receive a single invoice for the
   company's database use. 

   To pay all costs through that paying organization and maintain control
   over the authorizations of each team organization, the company can:

   1. Create two organizations for sales and engineering.
   2. Link these organizations to a paying organization.

   A company with over 250 projects might create new organizations for new
   projects, then link all organizations to a paying organization to 
   maintain a single source of invoicing.

.. _configure-paying-org:

Configure a Paying Organization
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Prerequisites and Limitations
`````````````````````````````

.. include:: /includes/fact-cross-org-billing-prereqs.rst

To configure a paying organization and link other organizations to it:

.. include:: /includes/steps/configure-paying-organization.rst

The :guilabel:`Linked Organizations` tab displays your linked 
organizations. To link additional organizations, click 
:guilabel:`Link More Organizations`.

Billing Quota Management
------------------------

You can use :ref:`billing alerts <billing-alerts>` to help manage your
billing quotas. Billing alerts notify a designated person when a bill
has exceeded a |usd| limit, or when a credit card is about to expire.

To :ref:`configure billing alerts <configure-alert-settings-tabs>`,
click Organization :guilabel:`Alerts` in the :guilabel:`Organization`
view.

.. toctree::
   :caption: Reference
   :titlesonly:
   :includehidden:
   :hidden:

   /billing/invoices
   /billing/subscriptions
   Cluster Configuration Costs </billing/cluster-configuration-costs>
   Serverless Instance Costs </billing/serverless-instance-costs>
   Data Federation Costs </billing/data-federation>
   Data Transfer </billing/data-transfer-costs>
   AWS Self Serve Marketplace </billing/aws-self-serve-marketplace>
   GCP Self Serve Marketplace </billing/gcp-self-serve-marketplace>
   Additional Services </billing/additional-services>
   International Usage and Taxation </billing/international-usage>

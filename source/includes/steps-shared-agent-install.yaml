# These steps exist solely for sharing. They are common to several procedures.
#
title: "Open |mms| and select the :guilabel:`Administration` tab."
stepnum: 0
ref: settings
content: |
  .. only:: saas

     Visit the |mms| `Administration Page <http://cloud.mongodb.com/settings>`_ directly.
---
title: "Retrieve the |mms| API key for your |mms| group."
stepnum: 0
ref: retrieve-monitoring-mms-api-key
content: |
  In the :guilabel:`Administration` tab on the :guilabel:`Agents`
  page, click the link for your operating system. |mms| will then display a
  procedure that includes a step to set your |mms| API key. The step
  displays the actual |mms| API key used by your |mms| group. Copy the key.
---
title: "Edit the ``monitoring-agent.config`` file to include your |mms| API key."
stepnum: 0
ref: configure-monitoring-mms-api-key
content: |
  In the ``<install-directory>/monitoring-agent.config`` file, set the
  ``mmsApiKey`` property to your API key.
---
title: "Configure the agent to use a proxy server."
optional: true
stepnum: 0
ref: proxy
action:
   pre: |
     If the agent will connect to |mms| via a proxy server, you must specify
     the server in the ``http_proxy`` environment variable. To specify the
     server, use the ``export`` command, as in the following example:
   language: sh
   code: |
     export http_proxy="http://proxy.example.com:9000"
post: |
   To connect through a proxy, you must install the agent from a
   ``.tar.gz`` file, *not* from a ``.deb`` or ``.rpm`` file.
---
title: "Start the Monitoring Agent."
stepnum: 0
ref: start-monitoring
pre: |
  Issue the following command:
post: |
  Remember, that you only need to run **1** Monitoring Agent for each |mms|
  group. A single Monitoring Agent can collect data from many MongoDB
  instances.
...

======================
Delete a Database User
======================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. include:: /includes/fact-projects-groups-synonyms.rst

.. include:: /includes/extracts/fact-api-requirements-owner.rst

.. include:: /includes/api/tabsets/db-auth-mech.rst

Resource
--------

.. include:: /includes/api/base-api-uri.rst

.. code-block:: http

   DELETE /groups/{GROUP-ID}/databaseUsers/{databaseName}/{USERNAME}

Request Path Parameters
~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :header-rows: 1
   :stub-columns: 1
   :widths: 20 14 11 55

   * - Parameter
     - Type
     - Necessity
     - Description

   * - GROUP-ID
     - string
     - Required
     - Unique 24-hexadecimal string that identifies the
       :ref:`project <group-id>`.

   * - DATABASE-NAME
     - string
     - Required
     - :ref:`Database <authentication-database>` against which the
       database user authenticates. Database users must provide both a
       username and authentication database to log into MongoDB.

       You may set this parameter value as:

       .. include:: /includes/api/tabsets/db-name.rst

   * - USERNAME
     - string
     - Required
     - Username that this resource deletes from the MongoDB database.
       This username should be formatted as:

       .. include:: /includes/api/tabsets/db-username.rst


Request Query Parameters
~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/api/no-query-single-parameters.rst

Request Body Parameters
~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/api/no-body-parameters.rst

Response Elements
~~~~~~~~~~~~~~~~~

.. include:: /includes/no-response-elements.rst

Example Request
---------------

.. tabs::

   .. tab:: SCRAM-SHA
      :tabid: scram

      Delete one database user that |service| authenticates using
      :manual:`SCRAM-SHA </core/security-scram>` and the **admin**
      database.

      .. include:: /includes/extracts/fact-api-requirements-modify.rst

      .. code-block:: sh

         curl --user "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest \
              --include \
              --request DELETE "https://cloud.mongodb.com/api/atlas/v1.0/groups/5356823b3794dee37132bb7b/databaseUsers/admin/ellen"

   .. tab:: X.509
      :tabid: x509

      Delete one database user that |service| authenticates using
      X.509 or |ldap| and the **$external** database.

      .. include:: /includes/extracts/fact-api-requirements-modify.rst

      .. code-block:: sh

         curl --user "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest \
              --include \
              --request DELETE "https://cloud.mongodb.com/api/atlas/v1.0/groups/5356823b3794dee37132bb7b/databaseUsers/\$external/CN=ellen@example.com,OU=users,DC=example,DC=com"

   .. tab:: LDAP
      :tabid: ldap

      Delete one database user that |service| authenticates using
      |ldap| and the **$external** database.

      .. include:: /includes/extracts/fact-api-requirements-modify.rst

      .. code-block:: sh

         curl --user "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest \
              --include \
              --request DELETE "https://cloud.mongodb.com/api/atlas/v1.0/groups/5356823b3794dee37132bb7b/databaseUsers/\$external/CN=ellen@example.com,OU=users,DC=example,DC=com"

   .. tab:: AWS IAM
      :tabid: aws-iam

      Delete one database user that |service| authenticates using
      |aws| |iam| credentials and the ``$external`` database.

      .. note::

         The ``/`` character must be replaced with ``%2F`` in the
         |aws| |arn|.

      .. include:: /includes/extracts/fact-api-requirements-modify.rst

      .. code-block:: sh
         :linenos:

         curl --user "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest \
              --include \
              --request DELETE "https://cloud.mongodb.com/api/atlas/v1.0/groups/5dd5a6b8f10fab1d71a58495/databaseUsers/\$external/arn:aws:iam::358363220050:user%2Fmongodb-aws-iam-auth-test-user"

Example Response
----------------

Response Header
~~~~~~~~~~~~~~~

.. include:: /includes/api/api-headers/401.rst

.. include:: /includes/api/api-headers/200.rst

Response Body
~~~~~~~~~~~~~

.. include:: /includes/api/no-response-body.rst

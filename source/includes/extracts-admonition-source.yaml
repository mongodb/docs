ref: _mechanism-enterprise-availability
content: |
      {{optional}}{{mechanism}} is only available on MongoDB Enterprise builds. If
      you have existing deployments running on a MongoDB Community
      build, you must :doc:`upgrade them to MongoDB Enterprise
      </tutorial/change-mongodb-version>` before you can enable
      {{mechanism}} for your |mms| group.
---
ref: _note-manage-agent-auth
content: |

   .. only:: onprem

      .. note::

         In |onprem| 1.8 and later, |onprem| can manage authentication
         for you if you use Automation for the deployment. With
         Automation, |onprem| creates the users for each agent. See:
         {{document}} for more information.

   .. only:: cloud

      .. note::
   
         |mms| can manage agent authentication for you if you are using
         Automation for the deployment. With Automation, |onprem|
         creates the users for each agent. See: {{document}} for more
         information.

---
ref: _add-users-dollarExternal-shell
content: |
  Use the following commands to create the users from a :program:`mongo`
  shell connected to your MongoDB deployment:
  
  {{codeblock}}
  
  See: {{accessDoc}} for more information on the required access.
---
ref: _configure-agent-ldap-intro
content: |
  If your MongoDB deployment enforces access control, the {{agent}} must
  authenticate to MongoDB as a user with the proper access.

  Starting with version 2.6, :term:`MongoDB Enterprise` provides support for proxy authentication of
  users. This allows administrators to configure a MongoDB cluster to
  authenticate users by proxying authentication requests to a specified
  Lightweight Directory Access Protocol (LDAP) service. {{agent}}s
  support authenticating to MongoDB instances using LDAP.

  If your MongoDB deployment uses LDAP to authenticate users, to
  authenticate the {{agent}}, create a user in the ``$external``
  database with the appropriate roles in MongoDB.
...
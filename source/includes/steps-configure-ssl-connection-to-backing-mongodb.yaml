title: "Open the ``conf-mms.properties`` and ``conf-daemon.properties`` files with root privileges."
stepnum: 1
ref: config-files
edition: onprem
content: |
  For the file locations, see :doc:`/reference/configuration`. Open
  ``conf-daemon.propeties`` only if you have installed the
  :ref:`backup-daemon`.

  For both files, configure the settings described in these steps. For
  ``conf-mms.properties``, the settings apply to the
  :ref:`mms-application-database`; for ``conf-daemon.properties``, they
  apply to the :ref:`mms-backup-blockstore-database`.
---
title: "Configure :setting:`mongo.mongoUri` with the credentials for accessing the backing MongoDB instance."
stepnum: 2
ref: mongodb-uri
edition: onprem
content: |
  The :setting:`mongo.mongoUri` setting describes the :manual:`connection
  string </reference/connection-string/>` used to access MongoDB and
  includes authentication credentials. If your MongoDB instance uses X509,
  LDAP, or Kerberos authentication, you specify that here. See
  :setting:`mongo.mongoUri` for syntax for this setting.
---
title: "Enable SSL for connections to the backing MongoDB instances."
stepnum: 3
ref: enable-ssl
edition: onprem
content: |
  Set the appropriate SSL option to ``true``, depending on which configuration
  file you are editing:

  - For ``conf-mms.properties``, set :setting:`mongo.ssl` to ``true``.

  - For ``conf-daemon.propeties``, set :setting:`mongo.backupdb.ssl` to ``true``.
---
title: "Specify the certificates used for authentication."
stepnum: 4
ref: certificates
edition: onprem
content: |
  Specify the following. Click on the setting for more information:

  - :setting:`mongodb.ssl.CAFile`

    The PEM file that contains the root certificate chain from the Certificate Authority that signed the MongoDB server certificate.

  - :setting:`mongodb.ssl.PEMKeyFile`

    The PEM file that contains the client SSL certificate and key.

  - :setting:`mongodb.ssl.PEMKeyFilePassword`

    If the client PEM file contains an encrypted private key, specify the password for PEM file.
---
title: "Optionally encrypt the credentials saved in the configuration files."
stepnum: 5
ref: encrypted-credentials
edition: onprem
content: |
  If you do not want to store credentials in plain text, use the |mms|
  ``credentialstool`` tool to encrypt credentials. See
  :ref:`encrypt-mongodb-user-credentials`.
...

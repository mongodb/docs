title: "Create or choose a Kerberos Service Principal Name for each Agent."
level: 4
content: |

  Create or choose a Kerberos Service Principal Name (SPN) for the
  agents you are running. The Monitoring and Backup agent should have
  their own SPNs.

  An SPN is formatted in three parts so the service can be uniquely
  identified across the Kerberos realm:

  .. list-table::
     :widths: 20 80
     :header-rows: 1

     * - Component

       - Description

     * - Service name

       - The name of one service a host is providing to the Kerberos
         realm, such as mail, snmp, ftp.

     * - Hostname

       - The host running the service as a fully qualified domain name
         (FQDN).

     * - Kerberos realm 

       - A set of managed hosts and services that share the same Kerberos
         database.

         .. note:: 

            By Kerberos naming convention, the ``<KERBEROS_REALM>`` must
            be in all ``UPPERCASE``.

  .. example::

     In a Kerberos realm set as ``EXAMPLE.COM``, a backup agent running on the
     host ``db1.example.com`` would set its SPN to: 
     ``backup-agent/db1.example.com@EXAMPLE.COM``

ref: create-choose-principal
---
title: "Generate a ``keytab`` for the Kerberos Service Principal Name of each Agent."
level: 4
ref: generate-keytab
content: |

  Generate a `keytab <https://web.mit.edu/kerberos/krb5-1.12/doc/basic/keytab_def.html>`_ 
  file (``*.keytab``) for each SPN and copy it to the host that runs
  the agent. Ensure the system user that runs the agent is the same
  system user that owns the keytab file.

...

.. _om-delete-import-deployment-request:

================================
Delete Import Deployment Request
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. include:: /includes/fact-groups-projects-synonyms.rst

Delete a failed import deployment request and clean up any partially 
imported resources. This endpoint removes the import deployment request
record and performs cleanup of any resources that were partially imported
during the failed import process.

.. important::

   This feature is available starting in |mms| 8.0.13.

.. note::

   This endpoint can only be used on import requests in the ``FAILED`` state.
   Use the :ref:`cancel endpoint <om-cancel-import-deployment-request>` to cancel
   in-progress requests.

Required Roles
--------------

This endpoint requires the :authrole:`Project Automation Admin` role.

Endpoint
--------

.. include:: /includes/api/base-api-uri.rst

.. code-block:: http

   DELETE /automation/importDeployment/{PROJECT-ID}/{REQUEST-ID}

Request
-------

Path Parameters
~~~~~~~~~~~~~~~

.. list-table::
   :widths: 20 14 11 55
   :header-rows: 1
   :stub-columns: 1

   * - Name
     - Type
     - Necessity
     - Description

   * - PROJECT-ID
     - string
     - Required
     - Unique identifier of the :opsmgr:`project </reference/glossary/#std-term-project>`.

   * - REQUEST-ID
     - string
     - Required
     - Unique identifier of the import deployment request to delete.

Query Parameters
~~~~~~~~~~~~~~~~

.. include:: /includes/api/no-query-single-parameters.rst

Body Parameters
~~~~~~~~~~~~~~~

.. include:: /includes/api/no-body-parameters.rst

Response
--------

Returns an empty success response with HTTP status 200 if the import 
request is successfully deleted.

Example Request
---------------

.. code-block:: sh

   curl --user "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest \
        --header "Accept: application/json" \
        --include \
        --request DELETE "https://{+opsmgr-url+}/api/public/v1.0/automation/importDeployment/{PROJECT-ID}/{REQUEST-ID}?pretty=true"

Example Response
----------------

Response Header
~~~~~~~~~~~~~~~

.. include:: /includes/api/api-headers/401.rst

.. include:: /includes/api/api-headers/200.rst

Response Body
~~~~~~~~~~~~~

.. code-block:: json

   {}
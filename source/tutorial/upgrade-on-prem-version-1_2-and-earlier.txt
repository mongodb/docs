====================================
Upgrade from Version 1.2 and Earlier
====================================

.. default-domain:: mongodb

Overview
--------

Because of a `company name change
<http://www.mongodb.com/press/10gen-announces-company-name-change-mongodb-inc>`_,
the name of the |mms| package changed between versions 1.2 and 1.3.
Therefore, to upgrade from *any* version before 1.3, use the following
procedure:

Procedure
---------

#. *Recommended.* Take a full backup of the MMS database before
   beginning the upgrade procedure.

#. Shut down MMS, using the following command:

   .. code-block:: sh

      /etc/init.d/10gen-mms stop

#. Download the latest |onprem| package from `the downloads page
   <http://www.mongodb.com/subscription/downloads/mms>`_ and proceed with
   the instructions for a fresh install. Do not attempt to use your
   package manager to do an upgrade.

#. Follow :doc:`the procedure for a new install
   </tutorial/nav/advanced-deployments>`, including steps to configure the
   ``conf-mms.properties`` file. If you used encrypted authentication
   credentials you will need to regenerate these manually. *Do not copy
   the credentials from your old properties file. Old credentials will not
   work.*

#. Start |mms| using the new package name.

   For upgrades using rpm or deb packages, issue:

   .. code-block:: sh

      sudo /etc/init.d/mongodb-mms start

   For upgrades using tar.gz or zip archives, issue:

   .. code-block:: sh

      <install_dir>/bin/mongodb-mms start

#. Update the Monitoring Agent. See
   :doc:`/tutorial/nav/install-monitoring-agent` for more information.

title: "Configure |onprem| to manage backups."
stepnum: 1
level: 4
ref: backups
content: |

  To enable |onprem| to configure and manage MongoDB backups:

  a. To start the service, click the :guilabel:`Start` button.

  b. Click :guilabel:`Administrative Tools`.

  c. Click :guilabel:`Services`.

  d. Right-click on the :guilabel:`MongoDB Backup Daemon Service` and select :guilabel:`Start`.
---
title: "Configure the Backup Daemon and Backup Storage."
stepnum: 2
level: 4
ref: configure-backup-database-uri
content: |

  a. On each |onprem| server that will be activated as a Backup Daemon, create
     the directory that will store the :term:`head databases <head
     database>`. The directory must be:

     - a dedicated disk partition that is not be used for any other
       purpose.

     - sized appropriately according to the :doc:`/core/requirements`.

     - writable by the :guilabel:`Administrator` user.

  b. If you will store snapshots on a filesystem instead of the Backup Database, create the directory that will store snapshots.

  c. Open |onprem| and make sure you are logged in as the user you registered when installing |onprem|. This user is the :ref:`global owner <global-owner-role>`.

  d. Click the :guilabel:`Admin` link at the top right of the page.

  e. Click the :guilabel:`Backup` tab.

  f. Follow the prompts to configure the Backup Daemon and Backup Storage.
     |onprem| walks you through configuration of the daemon and snapshot
     storage.

     After you select how to store snapshots, you are prompted to
     configure the connection string to the Backup Database. If you use
     filesystem storage for your snapshots, the Backup Database is used
     only for the :term:`oplog store <Oplog Store Database>`.

     .. list-table::
        :widths: 35 65

        * - :guilabel:`<hostname>:<port>`

          - Enter a comma-separated list of the fully qualified domain
            names and port numbers for all :term:`replica set` members for
            the Backup Database.

        * - :guilabel:`MongoDB Auth Username` and
            :guilabel:`MongoDB Auth Password`

          - Enter the user credentials if the database uses
            authentication.

        * - :guilabel:`Encrypted Credentials`

          - Check this if the user credentials use the |onprem|
            ``credentialstool``. See
            :ref:`encrypt-mongodb-user-credentials`.

        * - :guilabel:`Use SSL`

          - Check this if the database uses SSL. If you check this, you
            must configure SSL settings |onprem|. See
            :doc:`/reference/configuration`.

        * - :guilabel:`Connection Options`

          - To add additional connection options, enter them using the
            MongoDB :manual:`Connection String URI Format
            </reference/connection-string>`.

...

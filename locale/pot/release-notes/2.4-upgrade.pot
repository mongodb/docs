# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2011-2015
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 3.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2015-03-30 14:28-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/release-notes/2.4-upgrade.txt:3
# b3c1b82353234a07b5533164d3f97678
msgid "Upgrade MongoDB to 2.4"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:7
# 156d0db7696c4ead97c1ee58d55259a4
msgid "In the general case, the upgrade from MongoDB 2.2 to 2.4 is a binary-compatible \"drop-in\" upgrade: shut down the :program:`mongod` instances and replace them with :program:`mongod` instances running 2.4. **However**, before you attempt any upgrade please familiarize yourself with the content of this document, particularly the procedure for :ref:`upgrading sharded clusters <2.4-upgrade-cluster>` and the considerations for :ref:`reverting to 2.2 after running 2.4 <2.4-downgrade>`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:17
# 5f3ea24a3111464e9feb758f71a4d26d
msgid "Upgrade Recommendations and Checklist"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:19
# 9b15d1d4fe2743e69380c0d45cf875c6
msgid "When upgrading, consider the following:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:21
# e434a44c800845188ecbd30f443831c5
msgid "For all deployments using authentication, upgrade the drivers (i.e. client libraries), before upgrading the :program:`mongod` instance or instances."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:25
# 39329cbac399426483b5bac1a9798e41
msgid "To upgrade to 2.4 sharded clusters *must* upgrade following the :ref:`meta-data upgrade procedure <2.4-upgrade-cluster>`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:28
# 11d5f60ea8174a779d7411a2aaaaa7d7
msgid "If you're using 2.2.0 and running with :setting:`~security.authorization` enabled, you will need to upgrade first to 2.2.1 and then upgrade to 2.4. See :ref:`2.4-upgrade-auth-limitation`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:32
# 1f78c41518844690a7e090e9f62a692a
msgid "If you have :data:`system.users <<database>.system.users>` documents (i.e. for :setting:`~security.authorization`) that you created before 2.4 you *must* ensure that there are no duplicate values for the ``user`` field in the :data:`system.users <<database>.system.users>` collection in *any* database.  If you *do* have documents with duplicate user fields, you must remove them before upgrading."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:39
# 1e23fd46cac34036b4f0641c58498d9f
msgid "See :ref:`2.4-unique-users` for more information."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:44
# 45350d503d024c7a9f0ec19d9f80caa3
msgid "Upgrade Standalone ``mongod`` Instance to MongoDB 2.4"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:46
# 63613b92ad1d4c02a5e3ef7867378801
msgid "Download binaries of the latest release in the 2.4 series from the `MongoDB Download Page`_. See :doc:`/installation` for more information."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:50
# be4dc7d10c194085bf89dd86f64e161e
msgid "Shutdown your :program:`mongod` instance. Replace the existing binary with the 2.4 :program:`mongod` binary and restart :program:`mongod`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:59
# 2df42c0d27d1445fb54d08928073ded7
msgid "Upgrade a Replica Set from MongoDB 2.2 to MongoDB 2.4"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:61
# e29a0f6159884babacec40e65ade4715
msgid "You can upgrade to 2.4 by performing a \"rolling\" upgrade of the set by upgrading the members individually while the other members are available to minimize downtime. Use the following procedure:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:66
# ffd6b1f66c4f420bb64361c6b3644f4a
msgid "Upgrade the :term:`secondary` members of the set one at a time by shutting down the :program:`mongod` and replacing the 2.2 binary with the 2.4 binary.  After upgrading a :program:`mongod` instance, wait for the member to recover to ``SECONDARY`` state before upgrading the next instance. To check the member's state, issue :method:`rs.status()` in the :program:`mongo` shell."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:74
# 31afa80fed8043119b83ff49faec8ee9
msgid "Use the :program:`mongo` shell method :method:`rs.stepDown()` to step down the :term:`primary` to allow the normal :ref:`failover <replica-set-failover>` procedure.  :method:`rs.stepDown()` expedites the failover procedure and is preferable to shutting down the primary directly."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:80
# 01680ab3a9ac471cb8453f65ce0649bb
msgid "Once the primary has stepped down and another member has assumed ``PRIMARY`` state, as observed in the output of :method:`rs.status()`, shut down the previous primary and replace :program:`mongod` binary with the 2.4 binary and start the new process."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:86
# 812e4fce0dac4e2a93fc7a64e927e13c
msgid "Replica set failover is not instant but will render the set unavailable to read or accept writes until the failover process completes. Typically this takes 10 seconds or more. You may wish to plan the upgrade during a predefined maintenance window."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:95
# 93a2753e9c7a49cfa878ba5ec7bf9d57
msgid "Upgrade a Sharded Cluster from MongoDB 2.2 to MongoDB 2.4"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:97
# 38d5de3daf0b4d6091f451d3a056731f
msgid "Only upgrade sharded clusters to 2.4 if **all** members of the cluster are currently running instances of 2.2. The only supported upgrade path for sharded clusters running 2.0 is via 2.2."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:102
# dad4e943f2af4e6e8a311d7681ad20b8
msgid "Overview"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:104
# e1e7e18f51894db49c5b7984526b7d02
msgid "Upgrading a :term:`sharded cluster` from MongoDB version 2.2 to 2.4 (or 2.3) requires that you run a 2.4 :program:`mongos` with the :option:`--upgrade <mongos --upgrade>` option, described in this procedure. The upgrade process does not require downtime."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:109
# 4c5e52ebec37417188ccd2bc3f157da5
msgid "The upgrade to MongoDB 2.4 adds epochs to the meta-data for all collections and chunks in the existing cluster. MongoDB 2.2 processes are capable of handling epochs, even though 2.2 did not require them. This procedure applies only to upgrades from version 2.2. Earlier versions of MongoDB do not correctly handle epochs. See :ref:`2.4-sharded-cluster-meta-data-upgrade` for more information."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:116
# 94794e509a31481e9bbc953af4138574
msgid "After completing the meta-data upgrade you can fully upgrade the components of the cluster. With the balancer disabled:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:119
# 18842aafdb4b468b839260784cccbf9e
msgid "Upgrade all :program:`mongos` instances in the cluster."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:121
# dff6e629311b4539bee5fd3ce0b11b45
msgid "Upgrade all 3 :program:`mongod` config server instances."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:123
# aeff6a5a4d0c44cca6ab671676adf7e6
msgid "Upgrade the :program:`mongod` instances for each shard, one at a time."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:126
#: ../source/release-notes/2.4-upgrade.txt:299
# f4dbd087c6154f36966cb0738a6816df
# fe5ca552c60a4791bc3271dbc067c5af
msgid "See :ref:`2.4-finalize-shard-cluster-upgrade` for more information."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:131
# f64c500069ae4b6c833454e505bbfb4f
msgid "Cluster Meta-data Upgrade"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:134
# 35ec002b2bf3452394d7bd9564ffe119
msgid "Considerations"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:136
# 316b8b01324f4a918a62398f0f2e7e25
msgid "Beware of the following properties of the cluster upgrade process:"
msgstr ""

#: ../source/includes/fact-upgrade-sharded-cluster-prereq.rst:1
#: ../source/includes/fact-upgrade-sharded-cluster-prereq.rst:1
# a9479bf3252247f8ac0be3a9b16a867c
# 093b8a5e30534bed86ba550632b9153d
msgid "Before you start the upgrade, ensure that the amount of free space on the filesystem for the :doc:`config database </reference/config-database>` is at least 4 to 5 times the amount of space currently used by the :doc:`config database </reference/config-database>` data files."
msgstr ""

#: ../source/includes/fact-upgrade-sharded-cluster-prereq.rst:7
#: ../source/includes/fact-upgrade-sharded-cluster-prereq.rst:7
# 393c758811b64d02a2023c69f7806271
# 185fb6d9e4e64289859c7fc26fe798c9
msgid "Additionally, ensure that all indexes in the :doc:`config database </reference/config-database>` are ``{v:1}`` indexes. If a critical index is a ``{v:0}`` index, chunk splits can fail due to known issues with the ``{v:0}`` format. ``{v:0}`` indexes are present on clusters created with MongoDB 2.0 or earlier."
msgstr ""

#: ../source/includes/fact-upgrade-sharded-cluster-prereq.rst:13
#: ../source/includes/fact-upgrade-sharded-cluster-prereq.rst:13
# e02ac3aeb4744eaaada4b206e99b5a90
# bb81ed5759364b4ab5312f3c6a2c24d8
msgid "The duration of the metadata upgrade depends on the network latency between the node performing the upgrade and the three config servers. Ensure low latency between the upgrade process and the config servers."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:140
# f7732187284747fd801daec7624d8d45
msgid "While the upgrade is in progress, you cannot make changes to the collection meta-data. For example, during the upgrade, do **not** perform:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:144
# bc8007320a584ec48bd8d8f2b771298b
msgid ":method:`sh.enableSharding()`,"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:146
# 682802e6897a441f850c277d01c8ed54
msgid ":method:`sh.shardCollection()`,"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:148
# 60b3ae86e5914662b6742c575be94ea3
msgid ":method:`sh.addShard()`,"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:150
# bf285bccf25b4bfbb11807e0a118bb02
msgid ":method:`db.createCollection()`,"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:152
# 7713e69735294b11a7a3faa64f298e1d
msgid ":method:`db.collection.drop()`,"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:154
# 1c934c28049f4f75bc79c12188a6bf2f
msgid ":method:`db.dropDatabase()`,"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:156
# acab594cf2b84e44b974d632f980ae1e
msgid "any operation that creates a database, or"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:158
# 1da6f29a22464ae59e250e4ca68660bd
msgid "any other operation that modifies the cluster meta-data in any way. See :doc:`/reference/sharding` for a complete list of sharding commands. Note, however, that not all commands on the :doc:`/reference/sharding` page modifies the cluster meta-data."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:164
# db8632ca33bb4543a48d860a5911db55
msgid "Once you upgrade to 2.4 and complete the upgrade procedure **do not** use 2.0 :program:`mongod` and :program:`mongos` processes in your cluster. 2.0 process may re-introduce old meta-data formats into cluster meta-data."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:169
# 17e86973b8214f87831fab0188574c87
msgid "The upgraded config database will require more storage space than before, to make backup and working copies of the :data:`config.chunks` and :data:`config.collections` collections. As always, if storage requirements increase, the :program:`mongod` might need to pre-allocate additional data files. See :ref:`faq-tools-for-measuring-storage-use` for more information."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:179
# fa926c2cacea4c2684a361d89647e046
msgid "Meta-data Upgrade Procedure"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:181
# b509b9b2663742a9bcc42f4d4ba5afc4
msgid "Changes to the meta-data format for sharded clusters, stored in the :doc:`config database </reference/config-database>`, require a special meta-data upgrade procedure when moving to 2.4."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:185
# 71a1f15f59d04b21b8c3c3d61fc0ea9c
msgid "Do not perform operations that modify meta-data while performing this procedure. See :ref:`2.4-upgrade-cluster` for examples of prohibited operations."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:191
# 3689a0559c144666889d81723c9e4eb1
msgid "To check the version of your indexes, use :method:`db.collection.getIndexes()`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:193
# e0249a40e9ac41e0be9557229f3c3bf3
msgid "If any index **on the config database** is ``{v:0}``, you should rebuild those indexes by connecting to the :program:`mongos` and either: rebuild all indexes using the :method:`db.collection.reIndex()` method, or drop and rebuild specific indexes using :method:`db.collection.dropIndex()` and then :method:`db.collection.ensureIndex()`.  If you need to upgrade the ``_id`` index to ``{v:1}`` use :method:`db.collection.reIndex()`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:201
# c365f7762d164fd89aa6191e180241f3
msgid "You may have ``{v:0}`` indexes on other databases in the cluster."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:203
# 4ea763fd367c4382bc880d19ca975192
msgid "Turn off the :ref:`balancer <sharding-balancing-internals>` in the :term:`sharded cluster`, as described in :ref:`sharding-balancing-disable-temporarily`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:0
#: ../source/release-notes/2.4-upgrade.txt:0
# a72b16f73f244353ab14789ada035fa8
# 0128dfd51cc44254a7942e58de4a4f17
msgid "Optional"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:209
# 1a15a8fecbe143549c9ef214debf14ec
msgid "For additional security during the upgrade, you can make a backup of the config database using :program:`mongodump` or other backup tools."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:213
# 36e6c4a76cde4cbe968d0195acea6fe5
msgid "Ensure there are no version 2.0 :program:`mongod` or :program:`mongos` processes still active in the sharded cluster. The automated upgrade process checks for 2.0 processes, but network availability can prevent a definitive check. Wait 5 minutes after stopping or upgrading version 2.0 :program:`mongos` processes to confirm that none are still active."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:220
# bb7a2e026ba743cb8316c8eef35c27b0
msgid "Start a single 2.4 :program:`mongos` process with :setting:`~sharding.configDB` pointing to the sharded cluster's :ref:`config servers <sharding-config-server>` and with the :option:`--upgrade <mongos --upgrade>` option.  The upgrade process happens before the process becomes a daemon (i.e. before :option:`--fork <mongos --fork>`.)"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:227
# 22c3679e58e641278f0d3874495808f7
msgid "You can upgrade an existing :program:`mongos` instance to 2.4 or you can start a new `mongos` instance that can reach all config servers if you need to avoid reconfiguring a production :program:`mongos`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:232
# 70e7020c78f8451287870807ebc09134
msgid "Start the :program:`mongos` with a command that resembles the following:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:239
# fd74a84eed16477786e567a56efea147
msgid "Without the :option:`--upgrade <mongos --upgrade>` option 2.4 :program:`mongos` processes will fail to start until the upgrade process is complete."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:243
# e3a4792868e4495a8d8602dad6adf56a
msgid "The upgrade will prevent any chunk moves or splits from occurring during the upgrade process. If there are very many sharded collections or there are stale locks held by other failed processes, acquiring the locks for all collections can take seconds or minutes. See the log for progress updates."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:249
# e187c2c78e8b43e7a31f9d640a81d8a2
msgid "When the :program:`mongos` process starts successfully, the upgrade is complete. If the :program:`mongos` process fails to start, check the log for more information."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:253
# 1c0d98765ab9446886c0a0f5746cc3b2
msgid "If the :program:`mongos` terminates or loses its connection to the config servers during the upgrade, you may always safely retry the upgrade."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:257
# d2d2e7d01d824e069cd53294026ba328
msgid "However, if the upgrade failed during the short critical section, the :program:`mongos` will exit and report that the upgrade will require manual intervention. To continue the upgrade process, you must follow the :ref:`upgrade-cluster-resync` procedure."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:264
# de565674c9834599ac09dbb5a2e55f03
msgid "If the :program:`mongos` logs show the upgrade waiting for the upgrade lock, a previous upgrade process may still be active or may have ended abnormally.  After 15 minutes of no remote activity :program:`mongos` will force the upgrade lock. If you can verify that there are no running upgrade processes, you may connect to a 2.2 :program:`mongos` process and force the lock manually:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:280
# a01a777455964f3a9452a57d3d77dc9b
msgid "If the process specified in the ``process`` field of this document is *verifiably* offline, run the following operation to force the lock."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:288
# fcfc89bd1ae2451595a0ff0637dae244
msgid "It is always more safe to wait for the :program:`mongos` to verify that the lock is inactive, if you have any doubts about the activity of another upgrade operation.  In addition to the ``configUpgrade``, the :program:`mongos` may need to wait for specific collection locks. Do not force the specific collection locks."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:295
# e998902029074562a2ef532069ac2659
msgid "Upgrade and restart other :program:`mongos` processes in the sharded cluster, *without* the :option:`--upgrade <mongos --upgrade>` option."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:301
# 26064ee0fbee429b93a14439d734c859
msgid ":ref:`Re-enable the balancer <sharding-balancing-disable-temporarily>`. You can now perform operations that modify cluster meta-data."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:305
# 826cb3fbcd8f4baaa19015dac530668f
msgid "Once you have upgraded, *do not* introduce version 2.0 MongoDB processes into the sharded cluster. This can reintroduce old meta-data formats into the config servers. The meta-data change made by this upgrade process will help prevent errors caused by cross-version incompatibilities in future versions of MongoDB."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:314
# dd57367bc2464378a0d80b87e2c752f2
msgid "Resync after an Interruption of the Critical Section"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:316
# 211d3a343ce44de085a133e302fccad3
msgid "During the short critical section of the upgrade that applies changes to the meta-data, it is unlikely but possible that a network interruption can prevent all three config servers from verifying or modifying data. If this occurs, the :ref:`config servers <sharding-config-server>` must be re-synced, and there may be problems starting new :program:`mongos` processes. The :term:`sharded cluster` will remain accessible, but avoid all cluster meta-data changes until you resync the config servers. Operations that change meta-data include: adding shards, dropping databases, and dropping collections."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:328
# 8bbd41b9d21c4c8abb1edccf64694021
msgid "Only perform the following procedure *if* something (e.g. network, power, etc.) interrupts the upgrade process during the short critical section of the upgrade. Remember, you may always safely attempt the :ref:`meta data upgrade procedure <2.4-upgrade-meta-data>`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:334
# ec64ebb478584c1aa177dd9576a789ae
msgid "To resync the config servers:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:336
# 92429d75f6614bf7a65d83860673dca7
msgid "Turn off the :ref:`balancer <sharding-balancing-internals>` in the sharded cluster and stop all meta-data operations. If you are in the middle of an upgrade process (:ref:`2.4-upgrade-cluster`), you have already disabled the balancer."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:341
# b383d14624db49c8b03c7ad70d6e1f72
msgid "Shut down two of the three config servers, preferably the last two listed in the :setting:`~sharding.configDB` string. For example, if your :setting:`~sharding.configDB` string is ``configA:27019,configB:27019,configC:27019``, shut down ``configB`` and ``configC``. Shutting down the last two config servers ensures that most :program:`mongos` instances will have uninterrupted access to cluster meta-data."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:348
# 5e00f1d29858451d83bdb0b410aa92b1
msgid ":program:`mongodump` the data files of the active config server (``configA``)."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:351
# 24c57340134042759a7f2857dfc650b2
msgid "Move the data files of the deactivated config servers (``configB`` and ``configC``) to a backup location."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:354
# 570bb556ac5e49d3ab0fd66628d55093
msgid "Create new, empty :term:`data directories <dbpath>`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:356
# 1d598f2e708a47bfb549112381e846b1
msgid "Restart the disabled config servers with :option:`--dbpath <mongod --dbpath>` pointing to the now-empty data directory and :option:`--port <mongod --port>` pointing to an alternate port (e.g. ``27020``)."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:360
# 030062e98dda4d8796f951803915bf15
msgid "Use :program:`mongorestore` to repopulate the data files on the disabled documents from the active config server (``configA``) to the restarted config servers on the new port (``configB:27020,configC:27020``). These config servers are now re-synced."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:366
# f84db8aecf4f41d191932f9acf445f62
msgid "Restart the restored config servers on the old port, resetting the port back to the old settings (``configB:27019`` and ``configC:27019``)."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:369
# d9878ff01e70411cb3fd2d89eea5f33a
msgid "In some cases connection pooling may cause spurious failures, as the :program:`mongos` disables old connections only after attempted use. 2.4 fixes this problem, but to avoid this issue in version 2.2, you can restart all :program:`mongos` instances (one-by-one, to avoid downtime) and use the :method:`rs.stepDown()` method before restarting each of the shard :term:`replica set` :term:`primaries <primary>`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:377
# a75a1d0509ef41c9bb8d2488b389606b
msgid "The sharded cluster is now fully resynced; however before you attempt the upgrade process again, you must manually reset the upgrade state using a version 2.2 :program:`mongos`. Begin by connecting to the 2.2 :program:`mongos` with the :program:`mongo` shell:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:387
# d7c9c16b93004f78978cee42d8b2f113
msgid "Then, use the following operation to reset the upgrade process:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:393
# 1e9076feb6ce400abbb76200c1aafcdb
msgid "Finally retry the upgrade process, as in :ref:`2.4-upgrade-cluster`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:399
# cb1a5f81ed0f4991b41de28e79e40a36
msgid "Upgrade Sharded Cluster Components"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:401
# f73d6de24d07466785ae2da219797c03
msgid "After you have successfully completed the meta-data upgrade process described in :ref:`2.4-upgrade-meta-data`, and the 2.4 :program:`mongos` instance starts, you can upgrade the other processes in your MongoDB deployment."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:406
# 13388afcf2b94e25b9412552df5447ab
msgid "While the balancer is still disabled, upgrade the components of your sharded cluster in the following order:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:409
# 8ba71a6959d541da85dc7bebb19cf721
msgid "Upgrade all :program:`mongos` instances in the cluster, in any order."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:412
# 33a8a0d202fc4788bd0a2b9f57ebd237
msgid "Upgrade all 3 :program:`mongod` config server instances, upgrading the *first* system in the :option:`mongos --configdb` argument *last*."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:416
# 0c11d3d0de8b441b8d99eaca7f918715
msgid "Upgrade each shard, one at a time, upgrading the :program:`mongod` secondaries before running :dbcommand:`replSetStepDown` and upgrading the primary of each shard."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:420
# 58577c3c73ec45c0a6029e38715cad06
msgid "When this process is complete, you can now :ref:`re-enable the balancer <sharding-balancing-disable-temporarily>`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:426
# 746b05dbc06b477aa3b0d17cbde59aaf
msgid "Rolling Upgrade Limitation for 2.2.0 Deployments Running with ``auth`` Enabled"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:428
# dd1b848a982c468293c0557e47b1a733
msgid "MongoDB *cannot* support deployments that mix 2.2.0 and 2.4.0, or greater, components. MongoDB version 2.2.1 and later processes *can* exist in mixed deployments with 2.4-series processes. Therefore you cannot perform a rolling upgrade from MongoDB 2.2.0 to MongoDB 2.4.0. To upgrade a cluster with 2.2.0 components, use one of the following procedures."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:435
# e327001d48ad4ae98e2cf0c1c2b72428
msgid "Perform a rolling upgrade of all 2.2.0 processes to the latest 2.2-series release (e.g. 2.2.3) so that there are no processes in the deployment that predate 2.2.1. When there are no 2.2.0 processes in the deployment, perform a rolling upgrade to 2.4.0."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:440
# 5f8daeba1db04f058e69275bc39ad62a
msgid "Stop all processes in the cluster. Upgrade all processes to a 2.4-series release of MongoDB, and start all processes at the same time."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:445
# 26d531c6712d4dfca6ee0186ffb9be88
msgid "Upgrade from 2.3 to 2.4"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:447
# c62ea8c91f83473c9a2f7e5909131ea3
msgid "If you used a :program:`mongod` from the 2.3 or 2.4-rc (release candidate) series, you can safely transition these databases to 2.4.0 or later; *however*, if you created ``2dsphere`` or ``text`` indexes using a :program:`mongod` before v2.4-rc2, you will need to rebuild these indexes. For example:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:464
# 1e267fa25c3c4eedbfd19749ca4ccbf5
msgid "Downgrade MongoDB from 2.4 to Previous Versions"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:466
# 4a3d9fc1f1a44b30a7161d97569ff840
msgid "For some cases the on-disk format of data files used by 2.4 and 2.2 :program:`mongod` is compatible, and you can upgrade and downgrade if needed. However, several new features in 2.4 are incompatible with previous versions:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:471
# 948ac635d5de4b9494004ae6a081caa7
msgid "``2dsphere`` indexes are incompatible with 2.2 and earlier :program:`mongod` instances."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:474
# 0e9140ebc52d4d8d9aeabf5d2cfb5c40
msgid "``text`` indexes are incompatible with 2.2 and earlier :program:`mongod` instances."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:477
# a78d722ad09e43c086d2c8bef36422a2
msgid "using a ``hashed`` index as a shard key are incompatible with 2.2 and earlier :program:`mongos` instances."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:480
# 0c0d0f4685544d7db616572c63d74280
msgid "``hashed`` indexes are incompatible with 2.0 and earlier :program:`mongod` instances."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:483
# f9e2b11362a8476b8453d2fd8d8bf6fc
msgid "Collections sharded using hashed shard keys, should **not** use 2.2 :program:`mongod` instances, which cannot correctly support cluster operations for these collections."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:489
# 03718fa6541f47e59a30a4c54559fef3
msgid "If you completed the :ref:`meta-data upgrade for a sharded cluster <2.4-upgrade-cluster>`, you can safely downgrade to 2.2 MongoDB processes. **Do not** use 2.0 processes after completing the upgrade procedure."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:496
# fc5cd5019c524dbca70041d620f46ba8
msgid "In sharded clusters, once you have completed the :ref:`meta-data upgrade procedure <2.4-upgrade-cluster>`, you cannot use 2.0 :program:`mongod` or :program:`mongos` instances in the same cluster."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:501
# 72a349af929943879ff1d1501a6e3581
msgid "If you complete the meta-data upgrade, you can safely downgrade components in any order. When upgrade again, always upgrade :program:`mongos` instances before :program:`mongod` instances."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:505
# e75cc93048894530b001464ee7a8582d
msgid "**Do not** create ``2dsphere`` or ``text`` indexes in a cluster that has 2.2 components."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:509
# c04a0b2b3b6b454092c552dc7b057a66
msgid "Considerations and Compatibility"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:511
# 2bb570d6d2ce4f86bac44cdfe1c9f564
msgid "If you upgrade to MongoDB 2.4, and then need to run MongoDB 2.2 with the same data files, consider the following limitations."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:514
# ead690bf1b144604807f5565ff694234
msgid "If you use a ``hashed`` index as the shard key index, which is only possible under 2.4 you will not be able to query data in this sharded collection. Furthermore, a 2.2 :program:`mongos` cannot properly route an insert operation for a collections sharded using a ``hashed`` index for the shard key index: any data that you insert using a 2.2 :program:`mongos`, will not arrive on the correct shard and will not be reachable by future queries."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:522
# 0d9e18bc6a494be683cf1b0e5550e44b
msgid "If you *never* create an ``2dsphere`` or ``text`` index, you can move between a 2.4 and 2.2 :program:`mongod` for a given data set; however, after you create the first ``2dsphere`` or ``text`` index with a 2.4 :program:`mongod` you will need to run a 2.2 :program:`mongod` with the :option:`--upgrade <mongod --upgrade>` option and drop any ``2dsphere`` or ``text`` index."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:530
# 4f8947c25d5142ba8a17a2e2c22e90e7
msgid "Upgrade and Downgrade Procedures"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:533
# d641324b909e4aecbb211f51853b6d17
msgid "Basic Downgrade and Upgrade"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:535
# 05e6fb46240040dcb82e1bf34341be2a
msgid "**Except** as described below, moving between 2.2 and 2.4 is a drop-in replacement:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:538
# 98ecde39150a40c5bc6b2ce267d5e7c3
msgid "stop the existing :program:`mongod`, using the :option:`--shutdown <mongod --shutdown>` option as follows:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:545
#: ../source/release-notes/2.4-upgrade.txt:554
# 0eecd90951d4476b81926611ff2d9b6e
# 50d224d2c6fb4fd0bb54732718647cec
msgid "Replace ``/var/mongod/data`` with your MongoDB :setting:`~storage.dbPath`."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:547
# a3ee5e5f2aff4886b7ed0f5e381eda2e
msgid "start the new :program:`mongod` processes with the same :setting:`~storage.dbPath` setting, for example:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:559
# 0cfe10e9536344d8a8f2ac0f26ace6e6
msgid "Downgrade to 2.2 After Creating a ``2dsphere`` or ``text`` Index"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:561
# 6d03dda32d8a4b05a8f987a23067f6fa
msgid "If you have created ``2dsphere`` or ``text`` indexes while running a 2.4 :program:`mongod` instance, you can downgrade at any time, by starting the ``2.2`` :program:`mongod` with the :option:`--upgrade <mongod --upgrade>` option as follows:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:570
# 3f467387af104caf9dc8b274f1e8bb75
msgid "Then, you will need to drop any existing ``2dsphere`` or ``text`` indexes using :method:`db.collection.dropIndex()`, for example:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:580
# 0d7319115c544e3d8de7157e058be470
msgid ":option:`--upgrade <mongod --upgrade>` will run :dbcommand:`repairDatabase` on any database where you have created a ``2dsphere`` or ``text`` index, which will rebuild *all* indexes."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:586
# 40025c7daf8b4cfbbe15efb9abd8827e
msgid "Troubleshooting Upgrade/Downgrade Operations"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:588
# cd1ea6b02af24270a45da6788c9a3cb7
msgid "If you do not use :option:`--upgrade <mongod --upgrade>`, when you attempt to start a 2.2 :program:`mongod` and you have created a ``2dsphere`` or ``text`` index, :program:`mongod` will return the following message:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:597
# 51518b6e60fa4cce9845344e24d0bbcd
msgid "While running 2.4, to check the data file version of a MongoDB database, use the following operation in the shell:"
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:604
# fb30b9865c5741eb803ccd16d012b44c
msgid "The major data file [#pdfile-version]_ version for both 2.2 and 2.4 is ``4``, the minor data file version for 2.2 is ``5`` and the minor data file version for 2.4 is ``6`` **after** you create a ``2dsphere`` or ``text`` index."
msgstr ""

#: ../source/release-notes/2.4-upgrade.txt:609
# 786f0989f2c64ab893720b6e41b779c7
msgid "The data file version (i.e. ``pdfile version``) is independent and unrelated to the release version of MongoDB."
msgstr ""


=============
MMS Reference
=============

This document contains references of the different types of hosts,
databases, and other statuses that may occur in MMS.

.. _host-types:

Host Types
----------

The possible values for the "Type" column in the Hosts page are:

- primary
- secondary
- standalone
- master
- slave
- unknown
- recovering

The "Host Type" selector on the advanced dashboard creator also
includes:

- conf
- mongos

.. note::

   The host type column may also have the value "no data," which means
   that MMS has not received any data from the agent for this
   host. Possible causes for this state:

   - If the agent can't connect to the server because of networking
     restrictions or issues (i.e. firewalls, proxies, routing.)

   - If your database is running with SSL. You must enable SSL either
     globally or on a per-host basis. See :ref:`ssl` for more
     information.

   - If your database is running with authentication. You must supply
     MMS with the authentication credentials either when you're adding
     a host *or* by clicking on the edit (i.e. "Pencil" button) on the
     right of the entry on the "Hosts" page.


Host Process Types
------------------

MMS can monitor the process types:

- ``mongod`` database processes
- ``mongod`` arbiter processes
- ``mongos``
- MMS Agents

.. index:: alerts; events

Event Types
-----------

Types of events in the Events section of the MMS console:

- new host
- restart
- upgrade
- now secondary
- now primary

.. index:: alerts; types

Alert Types
-----------

The available alert types are:

- Old Host Version
- Host Down
- Agent Down

.. index:: chart; colors

Chart Colors
------------

- A *red bar* indicates a server restart.

- A *purple bar* indicates the server is now a primary.

- A *yellow bar* indicates the server is now a secondary.

Status Page
~~~~~~~~~~~

- cpu time
- db storage
- page faults
- repl lag
- replica
- network
- cursors
- queues
- connections
- background flush avg
- lock % [#global-lock]_
- btree
- non-mapped virtual memory
- memory
- asserts
- opcounters-repl
- opcounters

.. [#global-lock] For versions of MongoDB after 2.1.1, this chart has
   a drop down menu next to the tile that lists available databases,
   including "global" to represent the global lock for this
   host. Select a database to see its lock utilization. See `the
   documentation of lock reporting in serverStatus
   <http://docs.mongodb.org/manual/reference/server-status/#server-status-locks>`_
   for more information.

.. _db-stats-list:

DB Stats Page
~~~~~~~~~~~~~

- collections
- objects
- average object size
- data size
- storage size
- num extents
- indexes
- index size
- file size

Database Commands Used by Agent
-------------------------------

- serverStatus
- buildinfo
- getCmdLineOpts
- connPoolStats
- _isSelf
- getParameter
- ismaster
- getShardVersion
- netstat
- replSetGetStatus
- shards.find
- mongos.find
- config.chunks.group
- oplog.find
- collstats - oplog.rs
- sources.find (slave)
- config.settings.find
- dbstats
- db.locks

PyMongo Error Codes
-------------------

.. describe:: 10057

   Authentication error.

Browsers Supported by MMS Console
---------------------------------

- Chrome 8 and greater.
- Firefox 4 and greater.
- IE 9 and greater.

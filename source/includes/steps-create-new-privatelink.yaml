ref: network-access-create
level: 5
stepnum: 0
inherit:
  file: steps-source-privatelink.yaml
  ref: project-nav-nw-access-page
---
ref: select-aws
level: 4
stepnum: 0
inherit:
  file: steps-source-privatelink.yaml
  ref: create-private-endpoint
content: |

  {{dl}}
  
---
ref: create-button
level: 5
stepnum: 0
inherit:
  file: steps-source-privatelink.yaml
  ref: click-resource-button
content: | 
  
  {{dlNew}}

---
ref: select-region
level: 5
stepnum: 0
title: "Choose an |aws| region."
content: |

  a. From the :guilabel:`AWS Region` list, select the region where you 
     want to create the private endpoint.

     You can select one of the following regions: 

     .. include:: /includes/list-table-supported-aws-regions.rst

     To learn more, see :ref:`atlas-data-lake-regions`.

  #. Click :guilabel:`Next`.

---
ref: enter-aws-vps-details
level: 5
stepnum: 0
inherit:
  ref: configure-private-endpoint
  file: steps-source-privatelink.yaml
content: |
  a. Enter the following details about your |aws| |vpc|:

     .. list-table::
        :widths: 20 80

        * - :guilabel:`Your VPC ID`
          - Unique 22-character alphanumeric string that identifies 
            the peer |aws| |vpc|. Find this value on the |vpc| 
            dashboard in your |aws| account.

        * - :guilabel:`Your Subnet IDs`
          - Unique strings that identify the subnets that your |aws| 
            |vpc| uses. Find these values on the :guilabel:`Subnet` 
            dashboard in your |aws| account.

            .. important::

               You must specify at least one subnet. If you don't, 
               |aws| won't provision an :term:`interface endpoint` in
               your |vpc|. An interface endpoint is required for 
               clients in your |vpc| to send traffic to the private 
               endpoint.

  #. Copy the command the dialog displays and run it using the |aws| 
     CLI.

     .. note::
        
        You can't copy the command until |service| finishes creating 
        |vpc| resources in the background.

     See :aws:`Creating an Interface Endpoint </vpc/latest/userguide/vpce-interface.html#create-interface-endpoint>` 
     to perform this task using the |aws| CLI.

  #. Enter the 22-character alphanumeric string that identifies your 
     private endpoint in the :guilabel:`VPC Endpoint ID` field. Find 
     this value on the |aws| VPC Dashboard under 
     :guilabel:`Endpoints` > :guilabel:`VPC ID`.

     .. tip:: 

        Click and expand :guilabel:`Show more instructions` in the 
        dialog for a visual clue as to where you can find the necessary 
        information in the |aws| console.

---
ref: create-private-endpoint-aws
level: 5
stepnum: 0
title: "Run the command to create your |vpc| interface endpoint."
content: |
  Copy the command the dialog displays and run it using the |aws| CLI.

---
ref: configure-private-endpoint-aws
level: 5
stepnum: 0
title: "Modify the private |dns| name to ensure that the hostname 
       resolves to an address on your network."
content: |
  To ensure that the hostname resolves to an address on your network:
  
  a. Copy the command the dialog displays and run it using the |aws| 
     CLI.
  #. **Optional**. Add a comment to associate with this endpoint.

---
ref: finish-private-endpoint-aws
level: 5
stepnum: 0
title: "Click :guilabel:`Finish endpoint creation`."

...

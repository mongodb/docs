===============
Set Up Security
===============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Introduction
------------

|service| secures your databases through TLS/SSL, whitelists, and user
authentication.

TLS/SSL
~~~~~~~

|service| uses TLS/SSL to encrypt the connections to your databases.

.. _whitelist:

Whitelist
~~~~~~~~~

|service| allows connections only from IP addresses on the group's "whitelist."
To access a cluster's databases, a client must connect from an IP address on
this list. You can create multiple entries on the whitelist. You can also
specify address ranges using Classless Inter-Domain Routing (CIDR).

.. ???
.. Does whitelist apply at the group level, i.e., apply to all clusters?



MongoDB Users
~~~~~~~~~~~~~

A user authenticates to MongoDB by providing a username and password. The
user's roles determine the user's access to database resources and actions.
When you create a new user, you specify the credentials and roles, and also
associate the user with a database. The associated database does not limit the
user: the user's roles determine the user's access to other databases.

|service| clusters use MongoDB's ``SCRAM-SHA-1`` authentication mechanism. See
:manual:`SCRAM-SHA-1 </core/security-scram-sha-1>` in the MongoDB manual.

.. ???
.. Are users created per group or per cluster?
.. If per group, and two clusters have a database with the same name, and you
   create a user in that database, does the user have access to both databases
   on both clusters?



.. _add-to-whitelist:

Add IP Addresses to the Whitelist
---------------------------------

The whitelist applies to the entire group. You can add multiple IP addresses
to your whitelist.

.. include:: /includes/steps/add-to-whitelist.rst

Create a New MongoDB User for the Cluster
-----------------------------------------

Create users to control access to MongoDB resources and operations.

.. include:: /includes/steps/add-users.rst

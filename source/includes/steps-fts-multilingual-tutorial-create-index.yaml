ref: fts-multilingual-tutorial-step1
level: 4
stepnum: 1
inherit:
  file: steps-source-project-nav.yaml
  ref: project-nav-search
---
ref: fts-multilingual-tutorial-step2
level: 4
stepnum: 2
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-fts-index
---
ref: fts-multilingual-tutorial-step3
level: 4
stepnum: 3
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: select-a-configuration-method
---
ref: fts-multilingual-tutorial-step4
level: 4
stepnum: 4
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: name-index
---
ref: fts-multilingual-tutorial-step5
level: 4
stepnum: 5
title: "Specify an index definition."
content: |

  You can use the :guilabel:`Visual Editor` or the :guilabel:`JSON 
  Editor` in the |service| user interface to create the index.

  Visual Editor
  +++++++++++++
  
  .. tabs:: 

     .. tab:: Italian
        :tabid: one language

        a. Click :guilabel:`Refine Your Index`.
        #. Under :guilabel:`Field Mappings`, click :guilabel:`Add Field`.
        #. Select ``fullplot`` for the :guilabel:`Field Name`.
        #. Under :guilabel:`Data Type Configuration`, click :guilabel:`Add Data Type`. 
           
           Assure the dropdown says :guilabel:`String`.

        #. Update the :guilabel:`Index Analyzer` and :guilabel:`Search Analyzer`.
           Click the :guilabel:`Index Analyzer`, toggle over
           ``lucene.language`` and select ``language.italian``.
     
           If :guilabel:`Search Analyzer` didn't automatically update, change
           it to ``language.italian``.

        #. Click :guilabel:`Save Changes`.

     .. tab:: Italian and English
        :tabid: two languages

        a. Update the :guilabel:`Index Analyzer` and :guilabel:`Search Analyzer`.
           Click the :guilabel:`Index Analyzer`, toggle over
           ``lucene.language`` and select ``language.english``. 
           
           If :guilabel:`Search Analyzer` didn't automatically update, change
           it to ``language.english``.

        #. Click :guilabel:`Refine Your Index`.
        #. Under :guilabel:`Field Mappings`, click :guilabel:`Add Field`.
        #. Select ``fullplot`` for the :guilabel:`Field Name`.
        #. Under :guilabel:`Data Type Configuration`, click :guilabel:`Add Data Type`. 
           
           Assure the dropdown says :guilabel:`String`.

        #. Update the :guilabel:`Index Analyzer` and :guilabel:`Search Analyzer`.
           Click the :guilabel:`Index Analyzer`, toggle over
           ``lucene.language`` and select ``language.italian``.
           
           If :guilabel:`Search Analyzer` didn't automatically update, change
           it to ``language.italian``

        #. Under the :guilabel:`String Data Type Configuration`, Click 
           :guilabel:`Add Another Data Type`.
        #. Select ``multi`` and name the multi field ``fullplot_english``.
        #. Update the :guilabel:`Index Analyzer` and :guilabel:`Search Analyzer`.
           Click the :guilabel:`Index Analyzer`, toggle over
           ``lucene.language`` and select ``language.english``.
           
           If :guilabel:`Search Analyzer` didn't automatically update, change
           it to ``language.english``
  
        #. Click :guilabel:`Save Changes`.

  JSON Editor
  +++++++++++
  
  a. Replace the default definition with the following:

     .. tabs:: 

        .. tab:: Italian
           :tabid: one language

           .. code-block:: json 

              {
                "mappings": {
                  "dynamic": true,
                  "fields": {
                    "fullplot": [
                      {
                        "dynamic": true,
                        "type": "document"
                      },
                      {
                        "analyzer": "lucene.italian",
                        "searchAnalyzer": "lucene.italian",
                        "type": "string"
                      }
                    ]
                  }
                }
              }

        .. tab:: Italian and English
           :tabid: two languages

           .. code-block:: json 

              {
                "analyzer": "lucene.english",
                "searchAnalyzer": "lucene.english",
                "mappings": {
                  "dynamic": true,
                  "fields": {
                    "fullplot": [
                      {
                        "dynamic": true,
                        "type": "document"
                      },
                      {
                        "analyzer": "lucene.italian",
                        "multi": {
                          "fullplot_english": {
                            "analyzer": "lucene.english",
                            "searchAnalyzer": "lucene.english",
                            "type": "string"
                          }
                        },
                        "searchAnalyzer": "lucene.italian",
                        "type": "string"
                      }
                    ]
                  }
                }
              }
 
  b. Click :guilabel:`Next`.

---
ref: fts-multilingual-tutorial-step10
level: 4
stepnum: 6
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-search-index
---
ref: fts-multilingual-tutorial-step11
level: 4
stepnum: 7
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: close-in-progress
---
ref: fts-multilingual-tutorial-step12
level: 4
stepnum: 8
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: wait-for-index
---


.. _fts-vector-search:

================================================
Perform Semantic Search with Atlas Vector Search 
================================================

.. default-domain:: mongodb

.. meta::
   :description: Learn how to create and manage an Atlas Vector Search index for vector embeddings and perform vector search on the indexed field.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

You can perform semantic search on data in your |service| {+cluster+}
running MongoDB v6.0.11 or later using {+avs+}. You can store vector
embeddings for any kind of data along with other data in your collection
on the |service| {+cluster+}. {+avs+} supports embeddings that are less
than and equal to 2048 dimensions in width. 

When you define an {+avs+} index on your collection, you can seamlessly
index vector data along with your other data and then perform semantic
search against the indexed fields. 

{+avs+} uses the |hnsw| algorithm to perform the semantic search. You can
use {+avs+} support for |ann| queries to search for results similar to a
selected product, search for images, etc. 

Procedure 
---------

This section describes how to index vector embeddings in your data on
an |service| {+cluster+} and run queries that search vector embeddings. 

.. procedure:: 
   :style: normal 

   .. step:: Define your {+avs+} index.

      Use the :ref:`knnVector <fts-data-types-knn-vector>` field type to
      index vector data in your collection. To learn more, see 
      :ref:`fts-data-types-knn-vector`.

   .. step:: Construct your vector search query. 

      Use the :pipeline:`$vectorSearch` pipeline stage in your query. 

      .. code-block:: json 
         :copyable: true 

         {
           "$vectorSearch": {
             "index": "<index-name>",
             ...
           }
         }

      To learn more about this pipeline stage, see
      :ref:`return-vector-search-results`. 

   .. step:: (Optional) Specify whether you want the score for the documents in the results.

      Use ``vectorSearchScore`` in the :pipeline:`$project` stage after
      your :pipeline:`$vectorSearch` stage to retrieve the score for the
      documents in the results. To learn more, see :ref:`scoring-ref`. 

   .. step:: Run your query.

      Verify your query syntax and then run it using |service|
      :ref:`Search Tester <atlas-search-query-ui>` UI or {+mongosh+}.

.. toctree::
   :titlesonly:

   Create a Vector Search Index </atlas-search/field-types/knn-vector>
   Run Vector Search Queries </atlas-vector-search/vector-search-stage>
   Tutorial: Run Semantic Search Queries </atlas-vector-search/vector-search-tutorial>
   Atlas Vector Search Changelog </atlas-vector-search/changelog>

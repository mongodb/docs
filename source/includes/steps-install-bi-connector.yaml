title: Install the |bi|.
ref: install-bi-server
level: 4
pre: |
  Download the |bi| for your operating system from the
  `MongoDB Download Center <https://www.mongodb.com/download-center>`_.

action:

  - heading: "RHEL-based Linux"
    pre: |

      a. Uninstall the previous version, if you have installed it.

         .. cssclass:: copyable-code
         .. code-block:: sh

            sudo yum remove mongodb-bi*

      b. Extract the ``.tar`` archive you downloaded.

         .. cssclass:: copyable-code
         .. code-block:: sh

            tar -xvzf mongodb-bi-linux-{arch}-{platform}-{version}.tgz

      c. Install the programs within the ``bin/`` directory into a
         directory listed in your system ``PATH``.

         .. cssclass:: copyable-code
         .. code-block:: sh

            sudo install -m755 bin/mongo* /usr/local/bin/

  - heading: "Debian-based Linux"
    pre: |

      a. Uninstall the previous version, if you have installed it.

         .. cssclass:: copyable-code
         .. code-block:: sh

            sudo apt-get remove mongodb-bi*

      b. Extract the ``.tar`` archive you downloaded.

         .. cssclass:: copyable-code
         .. code-block:: sh

            tar -xvzf mongodb-bi-linux-{arch}-{platform}-{version}.tgz

      c. Install the programs within the ``bin/`` directory into a
         directory listed in your system ``PATH``.

         .. cssclass:: copyable-code
         .. code-block:: sh

            sudo install -m755 bin/mongo* /usr/local/bin/

  - heading: "macOS"
    pre: |

      a. Extract the ``.tar`` archive you downloaded.

         .. cssclass:: copyable-code
         .. code-block:: sh

            tar -xvzf mongodb-bi-osx-x86_64-{version}.tgz

      b. Install the programs within the ``bin/`` directory into a directory
         listed in your system ``PATH``. If a prior version exists, overwrite
         the binaries.

         .. cssclass:: copyable-code
         .. code-block:: sh

            sudo install -m755 bin/mongo* /usr/local/bin/

  - heading: "Windows"
    pre: |

      a. Run the ``.msi`` file you downloaded.
      b. Follow the wizard to install the files. The binaries install into a
         ``bin`` directory inside the installation directory.


---
title: Generate your schema definition file.
ref: generate-schema
level: 4
pre: |
  Provide a MongoDB server hostname, replace ``dbname`` with the name of your
  database, and optionally replace ``collname`` with the name of a collection.
  If you do not specify a collection, :program:`mongodrdl` will generate a
  schema from all collections in ``dbname``.
action:
  - heading: "Linux / macOS"
    language: sh
    copyable: true
    code: |
      mongodrdl --host {your.mongohost.com} -d dbname [-c collname] -o schema.drdl
  - heading: "Windows"
    language: powershell
    copyable: true
    code: |
      "C:\Program Files\MongoDB\Connector for BI\2.2\bin\mongodrdl.exe" --host {your.mongohost.com} -d dbname [-c collname] -o schema.drdl
post: |
  .. note::
     The :option:`--host` option only accepts a hostname. You cannot
     provide a :ref:`MongoDB connection string <mongodb-uri>`.

  You can examine the generated ``schema.drdl`` file, and remove any fields or
  tables that are not part of your intended schema.

---
title: Edit your |bi| configuration file.
ref: start-mongosqld
level: 4
content: |
  Using your preferred text editor, create a |bi| configuration file.
  To review the configuration file options, see :ref:`Configuration
  File <config-format>`.

---
title: Start ``mongosqld`` as a system service.
ref: start-mongosqld-service
level: 4
pre: |

  .. note::

     The above examples demonstrate using |bi| with a
     MongoDB instance running without authentication enabled. To
     use :program:`mongosqld` with the ``--auth`` option, see
     :ref:`Install the C Authentication Plugin <install-auth-c-plugin>`.
action:
  - heading: "Linux / macOS using a configuration file"
    language: sh
    copyable: true
    code: |
      mongosqld install --config {pathToConfigFile}/mongosqld.conf
      sudo service mongosql start
  - heading: "Windows using a configuration file"
    language: powershell
    copyable: true
    code: |
      "C:\Program Files\MongoDB\Connector for BI\2.2\bin\mongosqld.exe" install --config {pathToConfigFile}\mongosqld.conf
      net start mongosql

    post: |
      Windows returns ``mongosql service installed`` if your installation
      succeeded.
---
title: Connect to the |bi|
level: 4
ref: connect-to-bi-server
content: |
  Launch your business intelligence tool, and connect to the |bi| using
  a MySQL driver and the following settings:

  .. list-table::
     :widths: 20 80
     :stub-columns: 1

     * - Host
       - The hostname of the server on which you installed the |bi|.

     * - Port
       - ``3307`` by default.

  For more details on connecting to the |bi|, see
  :doc:`/tutorial/connecting`.
...

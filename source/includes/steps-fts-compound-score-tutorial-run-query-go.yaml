ref: run-compound-constant-query-go
stepnum: 1
title: "Run an |fts| compound query that alters the score using the 
       :ref:`scoring-constant` option."
content: |

  a. Create a file named ``compound-constant-query.go``. 
  #. Copy and paste the code example into the 
     ``compound-constant-query.go`` file.

     The code example performs the following tasks:
      
     - Imports ``mongodb`` packages and dependencies.
     - Establishes a connection to your |service| cluster.
     - Uses the following compound clauses to query the collection: 

       .. include:: /includes/extracts/fts-compound-constant-desc.rst 

     - Uses the following pipeline stages:

       .. include:: /includes/extracts/fts-compound-score-stages.rst 

     - Iterates over the cursor to print the documents that match the 
       query.

     .. literalinclude:: /includes/fts-tutorial/compound-constant-query.go
        :language: go
        :linenos:
        :emphasize-lines: 22

  #. .. include:: /includes/fact-fts-driver-connection-string.rst
  #. Run the following command to query your collection: 
  
     .. code-block:: sh 
        go run compound-constant-query.go

     When you run ``compound-constant-query.go``, the program prints 
     the following documents to your terminal:

     .. code-block:: none 
        :copyable: false 
        :emphasize-lines: 1-4
        
        [{title Snow in Paradise} {year 2014} {score 5}]
        [{title Dead Snow 2: Red vs. Dead} {year 2014} {score 5}]
        [{title The Snow White Murder Case} {year 2014} {score 5}]
        [{title Snow on the Blades} {year 2014} {score 5}]
        [{year 2013} {title The Secret Life of Walter Mitty} {score 0}]
        [{title Jurassic World} {year 2015} {score 0}]
        [{title Action Jackson} {year 2014} {score 0}]
        [{year 2013} {title In Secret} {score 0}]
        [{title The Stanford Prison Experiment} {year 2015} {score 0}]
        [{year 2014} {title The Giver} {score 0}]

  The highlighted documents in the results above have a higher score 
  because the ``should`` clause in the query specifies a preference for 
  documents with ``snow`` in the title. The ``should`` clause also 
  alters the score for the query term ``snow`` using the ``constant`` 
  option.

---
ref: run-compound-boost-query-go
stepnum: 2
title: "Run an |fts| compound query that alters the score using the 
       :ref:`scoring-boost` option."
content: |

  a. Create a file named ``compound-boost-query.go``. 
  #. Copy and paste the code example into the 
     ``compound-boost-query.go`` file.

     The code example performs the following tasks:

     - Imports ``mongodb`` packages and dependencies.
     - Establishes a connection to your |service| cluster.
     - Uses the following pipeline stages to query the collection:

       .. include:: /includes/extracts/fts-compound-boost-desc.rst

     - Uses the following pipeline stages:
       
       .. include:: /includes/extracts/fts-compound-score-stages.rst 

     - Iterates over the cursor to print the documents that match the 
       query.

     .. literalinclude:: /includes/fts-tutorial/compound-boost-query.go
        :language: go
        :linenos:
        :emphasize-lines: 22

  #. .. include:: /includes/fact-fts-driver-connection-string.rst
  #. Run the following command to query your collection: 
  
     .. code-block:: sh 

        go run compound-boost-query.go

     When you run ``compound-boost-query.go``, the program prints 
     the following documents to your terminal:

     .. code-block:: none 
        :copyable: false 
        :emphasize-lines: 1-4

        [{title Snow in Paradise} {year 2014} {score 6.7722930908203125}]
        [{title Snow on the Blades} {year 2014} {score 6.063445568084717}]
        [{title The Snow White Murder Case} {year 2014} {score 5.509652137756348}]
        [{title Dead Snow 2: Red vs. Dead} {year 2014} {score 5.065053939819336}]
        [{year 2013} {title The Secret Life of Walter Mitty} {score 1}]
        [{title Jurassic World} {year 2015} {score 1}]
        [{title Action Jackson} {year 2014} {score 1}]
        [{year 2013} {title In Secret} {score 1}]
        [{title The Stanford Prison Experiment} {year 2015} {score 1}]
        [{year 2014} {title The Giver} {score 1}]

  The highlighted documents in the results above have a higher score 
  because the ``should`` clause in the query specifies a preference for 
  documents with ``snow`` in the title. The ``should`` clause also 
  alters the score for the query term ``snow`` using the ``boost`` 
  option.

---
ref: run-compound-function-query-go
stepnum: 3
title: "Run an |fts| compound query that alters the score using the 
       :ref:`scoring-function` option."
content: |

  a. Create a file named ``compound-boost-query.go``. 
  #. Copy and paste the code example into the 
     ``compound-function-query.go`` file.

     The code example performs the following tasks:

     - Imports ``mongodb`` packages and dependencies.
     - Establishes a connection to your |service| cluster.
     - Uses the following pipeline stages to query the collection:

       .. include:: /includes/extracts/fts-compound-function-desc.rst

     - Uses the following pipeline stages:
       
       .. include:: /includes/extracts/fts-compound-score-stages.rst 

     - Iterates over the cursor to print the documents that match the 
       query.

     .. literalinclude:: /includes/fts-tutorial/compound-function-query.go
        :language: go
        :linenos:
        :emphasize-lines: 22

  #. .. include:: /includes/fact-fts-driver-connection-string.rst
  #. Run the following command to query your collection: 
  
     .. code-block:: sh 

        go run compound-function-query.go

     When you run ``compound-function-query.go``, the program prints 
     the following documents to your terminal:

     .. code-block:: none 
        :copyable: false 
        :emphasize-lines: 1-4

        [{title The Snow White Murder Case} {year 2014} {score 10.454826354980469}]
        [{title Snow on the Blades} {year 2014} {score 10.3317232131958}]
        [{title Dead Snow 2: Red vs. Dead} {year 2014} {score 10.032526969909668}]
        [{title Snow in Paradise} {year 2014} {score 8.386146545410156}]
        [{year 2013} {title The Secret Life of Walter Mitty} {score 1}]
        [{title Jurassic World} {year 2015} {score 1}]
        [{title Action Jackson} {year 2014} {score 1}]
        [{year 2013} {title In Secret} {score 1}]
        [{title The Stanford Prison Experiment} {year 2015} {score 1}]
        [{year 2014} {title The Giver} {score 1}]

  The highlighted documents in the results above have a higher score 
  because the ``should`` clause in the query specifies a preference for 
  documents with ``snow`` in the title. The ``should`` clause also 
  alters the score for the query term ``snow`` using the ``function`` 
  option.

...

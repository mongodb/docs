====================================
Manage Deployments with |automation|
====================================

.. default-domain:: mongodb

.. include:: /includes/admonition-automation-is-beta.rst

Overview
--------

Once you've deployed |automation|, you can configure and administer
your MongoDB deployment from the MMS web interface. This tutorial
addresses basic deployment operations using Automation.

Prerequisites
-------------

You must successfully configure |automation| before beginning to use
Automation to manage your MongoDB deployment. See
:doc:`/tutorial/nav/automation-getting-started` for instructions on
configuring Automation.

Procedures
----------

Create a MongoDB Deployment
+++++++++++++++++++++++++++

Once the provisioned machines are running, create a
MongoDB deployment, as follows:

.. include:: /includes/steps/automation-install-mongodb.rst

Remove the Deployment
+++++++++++++++++++++

.. include:: /includes/steps/automation-terminate-deployment.rst

.. only:: saas

   Manage the Monitoring and Backup Agents with Automation
   +++++++++++++++++++++++++++++++++++++++++++++++++++++++

   When configured so, Automation can maintain a deployments
   Monitoring and Backup agents. You can configure Automation to maintain
   one or both agent type. Automated maintenance includes starting a fresh
   agent if necessary, restarting an agent stops, and upgrading
   or downgrading the agent to the most stable version as needed.

   Automation allows only one agent per machine for per agent type and
   will remove additional agents. For example, when maintaining Backup
   Agents, automation will remove one of the Backup
   Agents from a machine that has two Backup Agents.

   Automation maintains agents only if the configured appropriately in
   the :doc:`cluster configuration file
   </reference/cluster-configuration>`:

   - To automate the maintenance of **Monitoring Agents**, add each
     Monitoring Agent's information to the :data:`monitoringVersions`
     array in the :doc:`cluster configuration file
     </reference/cluster-configuration>`.

   - To automate the maintenance of **Backup Agents**, add each Backup
     Agent's information to the :data:`backupVersions` array in the
     :doc:`cluster configuration file
     </reference/cluster-configuration>`.

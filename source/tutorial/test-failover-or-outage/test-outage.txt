.. _test-outage:

===========
Test Outage
===========

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/unavailable-serverless-m0-m2-m5-clusters.rst

You can use the {+atlas-ui+} and |api| to test an outage on your |service|
multi-region {+cluster+} and observe how your application handles an
outage in one or more regions.

.. _test-outage-process:

Test Outage Process 
-------------------

When you submit a request to test an outage using the {+atlas-ui+} 
or |api|, |service| simulates an outage event. During this process,
|service| removes network connectivity to nodes in the selected regions.

Test Outage Using the {+atlas-ui+} 
----------------------------------

To perform a Test Outage in the {+atlas-ui+}:

1. Log in to the {+atlas-ui+}.

#. Click :guilabel:`Database`.

#. For the {+cluster+} you wish to perform outage testing, click the
   :guilabel:`...` button.

#. Click :guilabel:`Test Outage`. 

#. Select :guilabel:`Regional Outage`. |service| displays a 
   :guilabel:`Test Outage` modal with the steps |service| takes to 
   simulate an outage event. To learn more, see :ref:`Test Outage
   Process <test-outage-process>`.

#. Click :guilabel:`Select Regions`.

#. Select the regions you want to simulate an outage for.

   .. note::

      You can only select a minority of electable nodes at this
      time. This means that your replica set or sharded cluster must
      have a majority of electable nodes during the outage.

#. Select :guilabel:`Simulate Regional Outage` to begin the test.
   |service| notifies you when the outage occurs.

#. When you finish testing the outage, click :guilabel:`End Simulation`.

Test Outage Using the |api| 
---------------------------

You can use the :oas-atlas-op:`Test Outage </startOutageSimulation>`
|api| endpoint to simulate an outage event. To learn more about the
outage process, see :ref:`Test Outage Process <test-outage-process>`.

Verify the Outage
-----------------

To verify that the outage is successful, monitor your application and
ensure your read and write operations are working as expected.

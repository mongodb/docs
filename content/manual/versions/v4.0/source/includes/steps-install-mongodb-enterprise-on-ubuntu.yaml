stepnum: 1
level: 4
ref: import-deb-key
source:
  file: steps-install-mongodb-on-ubuntu.yaml
  ref: import-key
---
title: Create a ``/etc/apt/sources.list.d/mongodb-enterprise.list`` file for MongoDB.
stepnum: 2
level: 4
ref: sources-list
content: |

   Click on the appropriate tab for your version of Ubuntu.

   .. tabs::

      tabs:
         - id: bionic
           name: Ubuntu 18.04 (Bionic)
           content: |

              The following instruction is for **Ubuntu 18.04
              (Bionic)**. For Ubuntu 14.04 (Trusty) or Ubuntu 16.04
              (Xenial), click on the appropriate tab.

              Create the list file for Ubuntu 18.04 (Bionic).

              .. code-block:: sh

                 echo "deb [ arch=amd64,arm64,s390x ] http://repo.mongodb.com/apt/ubuntu bionic/mongodb-enterprise/{+version+} multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-enterprise.list

         - id: xenial
           name: Ubuntu 16.04 (Xenial)
           content: |

              The following instruction is for Ubuntu 16.04
              (Xenial). For Ubuntu 14.04 (Trusty) or Ubuntu 18.04
              (Bionic), click on the appropriate tab.

              Create the list file for Ubuntu 16.04 (Xenial).

              .. code-block:: sh

                 echo "deb [ arch=amd64,arm64,ppc64el,s390x ] http://repo.mongodb.com/apt/ubuntu xenial/mongodb-enterprise/{+version+} multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-enterprise.list

         - id: trusty
           name: Ubuntu 14.04 (Trusty)
           content: |

              The following instruction is for Ubuntu 14.04
              (Trusty). For Ubuntu 16.04 (Xenial) or Ubuntu 18.04
              (Bionic), click on the appropriate tab.

              Create the list file for Ubuntu 14.04 (Trusty).

              .. code-block:: sh

                 echo "deb [ arch=amd64 ] http://repo.mongodb.com/apt/ubuntu trusty/mongodb-enterprise/{+version+} multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-enterprise.list

---
stepnum: 3
level: 4
source:
  file: steps-install-mongodb-on-ubuntu.yaml
  ref: reload
---
title: Install the MongoDB Enterprise packages.
stepnum: 4
level: 4
ref: install
# pre: |
#   You can install either the latest stable version of MongoDB or a
#   specific version of MongoDB.
action:
  - heading:
      text: Install MongoDB Enterprise.
      character: "'"
    pre: "Issue the following command:"
    language: sh
    code: |
      sudo apt-get install -y {+package-name-enterprise+}
  - heading:
      text: Install a specific release of MongoDB Enterprise.
      character: "'"
    pre: |
      .. include:: /includes/release/pin-version-intro.rst
      .. include:: /includes/release/pin-repo-to-version-deb-enterprise.rst
      .. include:: /includes/release/pin-version-outro-enterprise.rst
  - heading:
      text: Pin a specific version of MongoDB Enterprise.
      character: "'"
    pre: |
      Although you can specify any available version of MongoDB,
      ``apt-get`` upgrades the packages when a newer version
      becomes available. To prevent unintended upgrades, pin the
      package. To pin the version of MongoDB at the currently
      installed version, issue the following command sequence:
    language: sh
    code: |
      echo "mongodb-enterprise hold" | sudo dpkg --set-selections
      echo "mongodb-enterprise-server hold" | sudo dpkg --set-selections
      echo "mongodb-enterprise-shell hold" | sudo dpkg --set-selections
      echo "mongodb-enterprise-mongos hold" | sudo dpkg --set-selections
      echo "mongodb-enterprise-tools hold" | sudo dpkg --set-selections
...

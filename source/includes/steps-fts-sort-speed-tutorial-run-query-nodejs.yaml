ref: run-sort-speed-query-nodejs
stepnum: 1
title: "Run an |fts| query against the indexed field and sort for speed."
content: |
  a. Create a file named ``sort-for-speed.js``. 
  #. Copy and paste the following code into the
     ``sort-for-speed.js`` file.

     The code example performs the following tasks:

     - Imports ``mongodb``, MongoDB's Node.js driver.
     - Creates an instance of the ``MongoClient`` class to establish a 
       connection to your |service| cluster.

     - .. include:: /includes/extracts/fts-sort-for-speed-constant-desc.rst 

       .. include:: /includes/extracts/fts-sort-for-speed-stage.rst

     - Iterates over the cursor to print the documents that match the 
       query.

     .. literalinclude:: /includes/fts-tutorial/sort/near-tutorial.js
        :language: javascript
        :linenos:
        :dedent:

  #. .. include:: /includes/fact-fts-driver-connection-string.rst
  #. Run the following command to query your collection: 

     .. io-code-block::
        :copyable: true

        .. input::
           :language: bash

           node sort-for-speed.js

        .. output::
           :language: javascript

           {
             _id: new ObjectId("573a13adf29313caabd2b765"),
             title: 'Jurassic World',
             released: 2015-06-12T00:00:00.000Z,
             year: 2015
           }
           {
             _id: new ObjectId("573a13b1f29313caabd3719d"),
             title: 'The Stanford Prison Experiment',
             released: 2015-07-17T00:00:00.000Z,
             year: 2015
           }
           {
             _id: new ObjectId("573a13b5f29313caabd42f7f"),
             year: 2015,
             title: 'Ex Machina',
             released: 2015-04-24T00:00:00.000Z
           }
           {
             _id: new ObjectId("573a13b5f29313caabd44e2b"),
             year: 2015,
             title: 'Ant-Man',
             released: 2015-07-17T00:00:00.000Z
           }
           {
             _id: new ObjectId("573a13b8f29313caabd4d540"),
             title: 'The Danish Girl',
             released: 2015-11-27T00:00:00.000Z,
             year: 2015
           }
...

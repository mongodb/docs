stepnum: 1
source:
  file: steps-source-admin-navigation.yaml
  ref:  admin-backup-oplog
---
title: "Click :guilabel:`Create New Oplog Store`."
stepnum: 2
level: 4
ref: create-new-oplogstore
---
title: "Provide the Oplog Store details."
stepnum: 3
level: 4
ref: provide-new-oplogstore
content: |

   .. list-table::
      :widths: 30 70
      :header-rows: 1

      * - Field

        - Contents

      * - :guilabel:`Name`

        - A name for the Oplog Store

      * - :guilabel:`Datastore Type`

        - Select :guilabel:`Standalone`, :guilabel:`Replica Set` or
          :guilabel:`Sharded Cluster`.

      * - :guilabel:`MongoDB Host List` (:term:`Replica Set` and
          :term:`Sharded Cluster` only)

        - Type a comma-separated list of |mongod| instances (for a
          Replica Set) or |mongos| instances (for a Sharded Cluster) in
          the ``<hostname:port>`` format that comprise the Oplog Store
          database.

          .. example::

             ``host1.example.com:27017, host2.example.com:27017, host2.example.com:27018``

      * - :guilabel:`MongoDB Hostname` (Standalone only)

        - Type the hostname of the standalone MongoDB instance.

      * - :guilabel:`MongoDB Port` (Standalone only)

        - Type the port number of the standalone MongoDB instance.

      * - :guilabel:`Username`

        -

          .. list-table::
             :widths: 25 45 30
             :header-rows: 1

             * - Auth Mechanism
               - Action
               - Configure Instructions

             * - Username and Password (``SCRAM-SHA-1``)
               - Type the name of the user authorized to access the
                 Oplog Store database.
               - :ref:`SCRAM <authentication-scram>`

             * - x.509 (``X.509``)
               - Type the :rfc:`RFC2253 <2253>`\-formatted subject from
                 the client certificate of the user authorized to
                 access the Oplog Store database.
               - :manual:`x.509 </tutorial/configure-x509-client-authentication>`

             * - Kerberos (``GSSAPI``)
               - Type the |upn| of the user authorized to
                 access the Oplog Store database.
               - :manual:`Kerberos </core/kerberos>`

             * - LDAP (``PLAIN``)
               - Type the name of the :abbr:`LDAP (Lightweight
                 Directory Access Protocol)` user authorized to access
                 the Oplog Store database.
               - :manual:`LDAP </core/security-ldap>`

      * - :guilabel:`Password` (optional)

        -

          .. list-table::
             :widths: 25 45 30
             :header-rows: 1

             * - Auth Mechanism
               - Action
               - Configure Instructions

             * - Username and Password (``SCRAM-SHA-1``)
               - Type the password associated with the username that
                 can access the Oplog Store database.
               - :ref:`SCRAM <authentication-scram>`

             * - x.509 (``X.509``)
               - Leave it blank.
               - :manual:`x.509 </tutorial/configure-x509-client-authentication>`

             * - Kerberos (``GSSAPI``)
               - Kerberos retrieves the password from its
                 :doc:`keytab file </tutorial/enable-kerberos-authentication-for-group/>`.
                 You do not need to type a password into this field.
               - :manual:`Kerberos </core/kerberos>`

             * - LDAP (``PLAIN``)
               - Type the password of the |ldap| user authorized to
                 access the Oplog Store database.
               - :manual:`LDAP </core/security-ldap>`

      * - :guilabel:`Connection Options` (optional)

        - Type any additional :manual:`configuration file options
          </reference/configuration-options>` for the MongoDB instance.
          This field supports unescaped values only.

          For proper syntax, see :manual:`Connection String URI
          Format </reference/connection-string>` in the MongoDB manual.

      * - :guilabel:`Encrypted Credentials` (optional)

        - Select if the credentials for the database were encrypted using the
          :doc:`credentialstool </tutorial/encrypt-user-credentials>`.
          The credentials include the Username, Password, |aws| Access
          Key ID and |aws| Secret Key.

      * - :guilabel:`Use TLS/SSL` (optional)

        - Select if the Oplog Store database only accepts connection
          encrypted using |tls|.

          Beyond this checkbox, to connect this oplog store using
          |tls|, you must enable:

          - :manual:`TLS on the oplog store database </tutorial/configure-ssl>`.

          - |onprem| to :ref:`use TLS <configure-ssl-backing>` to
            connect to this oplog store.

            .. note::

               All backing databases share the same |tls| certificates.
               If you have enabled |tls| for another backing database,
               you need only select this checkbox to enable a |tls|
               connection to this oplog store.

      * - :guilabel:`New Assignment Enabled` (optional)

        - Select if you want to enable this Oplog Store after creating
          it. This is selected by default so the Oplog Store can be
          assigned backup jobs. If you clear this checkbox, the
          Oplog Store is created but you cannot assign backups to this
          Oplog Store.


---
title: "Click :guilabel:`Create`."
stepnum: 4
level: 4
ref: create-oplogstore
...

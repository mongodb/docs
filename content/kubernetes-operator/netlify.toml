[build]
    publish = "dist"
    base = "content/kubernetes-operator"

[build.environment]
    REPO_NAME ="docs-k8s-operator"
    SECRETS_SCAN_ENABLED = "false"
    OFFLINE_SNOOTY_ENABLED = "false"
    SEARCH_MANIFEST_ENABLED = "false"
    MUT_COMMANDS_ENABLED = "false"
    REDOC_ENABLED = "false"

[context.production.environment]
    ENV = "dotcomprd"

[context.preprd.environment]
    ENV = "dotcomstg"

[context.deploy-preview.environment]
    ENV = "prd"

[context.branch-deploy.environment]
    ENV = "prd"

[context.preview-server.environment]
    ENV = "prd"

[context.dev.environment]
    ENV = "stg"

### EOL REDIRECTS
### ALIAS REDIRECTS
### WILDCARD REDIRECTS
### PAGE-SPECIFIC REDIRECTS (divided into subsections by version, if applicable)
### CATCH ALLS
 ##redirects any pages not at any of the active versions to current (makes eol's technically unecessary)

### EOL REDIRECTS
[[redirects]]
from = "/docs/kubernetes-operator/v0.8/*"
to = "/docs/kubernetes-operator/current/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/v0.9/*"
to = "/docs/kubernetes-operator/current/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/v0.10/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.11/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.12/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.13/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.14/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.15/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.16/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.17/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.18/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.19/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.20/*"
to = "/docs/kubernetes-operator/current/:splat"
  
[[redirects]]
from = "/docs/kubernetes-operator/v0.21/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.22/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.23/*"
to = "/docs/kubernetes-operator/current/:splat"
 
[[redirects]]
from = "/docs/kubernetes-operator/v0.24/*"
to = "/docs/kubernetes-operator/current/:splat"
 

### ALIAS REDIRECTS
[[redirects]]
from = "/docs/kubernetes-operator/master/*"
to = "/docs/kubernetes-operator/current/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/v1.33/*"
to = "/docs/kubernetes-operator/current/:splat"
status = 302

### WILDCARD REDIRECTS
[[redirects]] 
from = "/docs/kubernetes-operator/:version/central-and-member-clusters/"
to = "/docs/kubernetes-operator/:version/multi-cluster/multi-cluster-overview/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/multi-cluster-cli-reference/"
to = "/docs/kubernetes-operator/:version/plugin-reference/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/multi-cluster-quick-start-prerequisites/"
to = "/docs/kubernetes-operator/:version/multi-cluster-prerequisites/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/reference/known-issues-k8s-beta/"
to = "/docs/kubernetes-operator/:version/reference/known-issues/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/reference/production-notes/"
to = "/docs/kubernetes-operator/:version/tutorial/plan-k8s-op-considerations/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/migrate-to-ent-appdb-version/"
to = "/docs/kubernetes-operator/:version/release-notes/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/migrate-to-new-tls-format/"
to = "/docs/kubernetes-operator/:version/release-notes/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/migrate-to-single-resource/"
to = "/docs/kubernetes-operator/:version/release-notes/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/multi-cluster-secure-tls/"
to = "/docs/kubernetes-operator/:version/tutorial/mutli-cluster-quick-start-procedure/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/recover-om-appdb-deployments/"
to = "/docs/kubernetes-operator/:version/tutorial/recover-om-appdb-yes-k8sop-cluster/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/secure-om-with-tls/"
to = "/docs/kubernetes-operator/:version/tutorial/deploy-om-container/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/secure-tls/"
to = "/docs/kubernetes-operator/:version/tutorial/deploy-replica-set/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/upgrade-k8s-operator-v161-and-earlier/"
to = "/docs/kubernetes-operator/:version/tutorial/upgrade-k8s-operator/"

[[redirects]] 
from = "/docs/kubernetes-operator/:version/tutorial/upgrade-k8s-operator-v9-and-earlier/"
to = "/docs/kubernetes-operator/:version/tutorial/upgrade-k8s-operator/"


### PAGE-SPECIFIC REDIRECTS
[[redirects]] 
from = "/docs/kubernetes-operator/current/genindex/"
to = "/docs/kubernetes-operator/current/"

[[redirects]] 
from = "/docs/kubernetes-operator/current/search/"
to = "/docs/kubernetes-operator/current/"


#Online versions: [ 'v1.25', 'v1.26', 'v1.27', 'v1.28', 'v1.29', 'v1.30', 'v1.31', 'v1.32', 'current']

### CATCH ALLS ( Redirects any /docs/kubernetes-operator/ page that would've 404ed to the version's landing page)
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.25/*"
to = "/docs/kubernetes-operator/intermediary/v1.25/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/v1.25/*"
to = "/docs/kubernetes-operator/v1.25"
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.26/*"
to = "/docs/kubernetes-operator/intermediary/v1.26/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/v1.26/*"
to = "/docs/kubernetes-operator/v1.26"
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.27/*"
to = "/docs/kubernetes-operator/intermediary/v1.27/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/v1.27/*"
to = "/docs/kubernetes-operator/v1.27"
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.28/*"
to = "/docs/kubernetes-operator/intermediary/v1.28/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/v1.28/*"
to = "/docs/kubernetes-operator/v1.28"
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.29/*"
to = "/docs/kubernetes-operator/intermediary/v1.29/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/v1.29/*"
to = "/docs/kubernetes-operator/v1.29"
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.30/*"
to = "/docs/kubernetes-operator/intermediary/v1.30/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/v1.30/*"
to = "/docs/kubernetes-operator/v1.30"
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.31/*"
to = "/docs/kubernetes-operator/intermediary/v1.31/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/v1.31/*"
to = "/docs/kubernetes-operator/v1.31"
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.32/*"
to = "/docs/kubernetes-operator/intermediary/v1.32/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/v1.32/*"
to = "/docs/kubernetes-operator/v1.32"
 
[[redirects]]
from = "/docs/kubernetes-operator/current/*"
to = "/docs/kubernetes-operator/intermediary/current/:splat"

[[redirects]]
from = "/docs/kubernetes-operator/intermediary/current/*"
to = "/docs/kubernetes-operator/current"


### CATCH ALLS (add slug to paths without slug)
[[redirects]]
from = "/docs/kubernetes-operator/v1.25/*"
to = "/docs/kubernetes-operator/v1.25/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.26/*"
to = "/docs/kubernetes-operator/v1.26/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.27/*"
to = "/docs/kubernetes-operator/v1.27/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.28/*"
to = "/docs/kubernetes-operator/v1.28/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.29/*"
to = "/docs/kubernetes-operator/v1.29/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.30/*"
to = "/docs/kubernetes-operator/v1.30/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.31/*"
to = "/docs/kubernetes-operator/v1.31/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/v1.32/*"
to = "/docs/kubernetes-operator/v1.32/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/current/*"
to = "/docs/kubernetes-operator/current/:splat"
status = 200
 
[[redirects]]
from = "/docs/kubernetes-operator/*"
to = "/docs/kubernetes-operator/current/:splat"

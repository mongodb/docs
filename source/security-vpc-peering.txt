.. _vpc-peering:

=============================
Set up VPC Peering Connection
=============================

.. default-domain:: mongodb

.. include:: /includes/fact-atlas-free-tier-limits.rst

|service| supports VPC peering connections for AWS-backed clusters.
|service| does not support VPC Peering for clusters deployed on
:ref:`google-gcp` or :ref:`microsoft-azure`. For |service| clusters
deployed on :abbr:`GCP (Google Cloud Platform)` or :abbr:`Azure (Microsoft Azure)`,
add the IP addresses of your :abbr:`GCP (Google Cloud
Platform)` or :abbr:`Azure (Microsoft Azure)` services to |service|
:doc:`project IP whitelist </security-whitelist>` to grant those
services access to the cluster.

.. important::

   To set up a VPC peering connection, you must be the project owner.

From the :guilabel:`Clusters` view, select the :guilabel:`Security`
tab, then click :guilabel:`Peering`, then :guilabel:`New Peering
Connection`.

Procedure
---------

.. include:: /includes/steps/add-vpc-connection.rst

Once set up, you can edit or terminate VPC peering connection from the
:guilabel:`Peering` table.

To use, you must add your VPC CIDR block address (or subset) or the
Security Group associated with the peer VPC to the :ref:`whitelist
<whitelist>`.

.. seealso::

   `CIDR Subnet Selection for MongoDB Atlas <https://www.mongodb.com/blog/post/cidr-subnet-selection-for-mongodb-atlas>`_

===================================
Integrate with a Monitoring Service
===================================

.. default-domain:: mongodb

.. only:: cloud

   .. note::

      Available with **Cloud Manager Standard** and 
      **Cloud Manager Premium**. For more information,
      `Contact MongoDB <https://www.mongodb.com/contact>`__.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can use a third-party application to view and analyze the 
performance metrics that |mms| collects about your deployment. 

At this time, you can either build a monitoring integration using 
the |mms| API or integrate |mms| with 
`New Relic <http://newrelic.com/>`__.

Develop Monitoring Integrations with |mms| API
----------------------------------------------

You can build a monitoring integration using the |mms| 
:doc:`API monitoring and alerts endpoints </reference/api/nav/measurements-and-alerts/>`

Integrate with New Relic
------------------------

You can configure |mms| to send metric data about your deployment to 
`New Relic <http://newrelic.com/>`__ for viewing through the 
`New Relic MongoDB plugin <https://docs.newrelic.com/docs/integrations/host-integrations/host-integrations-list/mongodb-monitoring-integration>`__.

Prerequisites
~~~~~~~~~~~~~

- To integrate |mms| with New Relic, you must be able to access New
  Relic servers over the internet. For details on New Relic network
  requirements, refer to the `New Relic Getting Started Guide
  <https://docs.newrelic.com/docs/apm/new-relic-apm/getting-started/networks>`__.

- You must also have a New Relic account. If you do not have an
  existing New Relic account, you can `sign up at New Relic
  <https://newrelic.com/signup>`__.

Procedure
~~~~~~~~~

To enable New Relic to receive metric data about your MongoDB 
deployment, retrieve the following information from your New Relic 
account settings. You may need to create new Insights API keys.

- Account ID
- License Key
- Insights API Insert Key
- Insights API Query Key

You enter this information when configuring the integration. If any of 
the keys later become invalid, |mms| sends an email to the project 
owner and eventually removes the invalid credentials.

To configure |mms| integration with 
`New Relic <https://newrelic.com/signup>`__:

.. include:: /includes/steps/configure-new-relic-integration.rst

Performance Metrics Available to New Relic
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You can also use :guilabel:`Insights for New Relic` to 
run analytics on the collected |mms| performance metrics:

- Opcounters
- Queues
- Cursors
- Connections
- Replication Lag (secondaries only)
- Memory
- Page Faults
- Asserts
- Journaling Stats (MMAPv1 only)
- Network
- WiredTiger Cache Activity
- WiredTiger Cache Usage
- WiredTiger Tickets

**MongoDB 2.6 and earlier**

- Record Stats
- Index Stats
- Lock Percentage

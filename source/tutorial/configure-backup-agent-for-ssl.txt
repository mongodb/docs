:orphan:

==============================
Configure Backup Agent for SSL
==============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/legacy-agents/fact-backup-agent-deprecated.rst

Overview
--------

If your MongoDB deployment uses SSL, then you must configure the Backup
Agent to use SSL to connect to your deployment's :program:`mongod` and
:program:`mongos` instances.

Configuring the agent to use SSL involves specifying which certificate to
use to sign MongoDB certificates and turning on the SSL option for the
MongoDB instances in |mms|.

Prerequisite
------------

To configure the agent to use SSL, you must have a trusted CA
certificate that signed the MongoDB instance's certificate.

Procedures
----------

Connections between Agents and MongoDB Instances
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To use SSL for the Backup Agent's connection to a MongoDB host, specify
the host's SSL settings when :doc:`adding the host
</tutorial/add-existing-mongodb-processes>` or by :doc:`editing the host's settings
</tutorial/enable-ssl-for-a-deployment>`.

.. include:: /includes/extracts/configure-backup-agent-for-ssl-to-mongodb.rst

.. include:: /includes/steps/backup-agent-configure-ssl.rst

Connections between Agents and |mms|
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/extracts/configure-backup-agent-for-ssl-to-app.rst

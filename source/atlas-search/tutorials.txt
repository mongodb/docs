.. facet::
   :name: programming_language
   :values: csharp, go, java, javascript/typescript, kotlin, python, shell

.. _fts-tutorials:

===============
|fts| Tutorials
===============

.. default-domain:: mongodb

.. facet::
   :name: genre
   :values: reference

.. meta:: 
   :keywords: materialized views, app services, scheduled triggers, interactive tutorial, instruqt lab
   :description: Follow step-by-step Atlas Search tutorials to configure a search index with autocomplete, facets, synonyms, and more.
   
.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can learn how to set up and query an |fts| index with our
:ref:`interactive lab <fts-lab-section>`, 
use-case :ref:`tutorials <fts-tutorials-section>` 
or :ref:`video <fts-video-section>`.

.. _fts-lab-section:

Learn with an Interactive Lab
-----------------------------

Prerequisites 
~~~~~~~~~~~~~

To complete the interactive lab, you must create the following in your 
:ref:`Atlas account <atlas-getting-started>`:

- A project called ``MDB_EDU``.
- A cluster called ``myAtlasClusterEDU``.
- A database user called ``myAtlasDBUser`` with the password ``myatlas-001``, and
  the ``readWriteAnyDatabase`` permission.

About the Lab
~~~~~~~~~~~~~

The following lab teaches you how to create an |fts| index with
dynamic mapping. Then, you can run a query using the :ref:`text-ref` operator
and display the relevance of the matched document with its :ref:`score
<scoring-ref>`.

Click the :guilabel:`Launch` button in the in-browser Integrated
Development Environment to start the lab.

.. instruqt:: /mongodb-docs/tracks/creating-a-search-index-with-dynamic-mapping?token=em_W5qTF3vf69xw2gVF
  :title: Create a Search Index with Dynamic Mapping
  :drawer:

After completing the tutorial, see :ref:`fts-operators` to learn about
the types of queries you can run.

.. _fts-tutorials-section:

Learn with Tutorials
--------------------

.. _fts-tutorials-prereqs:

Prerequisites 
~~~~~~~~~~~~~

.. |query-type| replace:: |fts|
.. |search-stage| replace:: :pipeline:`$search`
.. |tutorial| replace:: These tutorials

.. include:: /includes/fts-tutorials-prereqs.rst

About the Tutorials 
~~~~~~~~~~~~~~~~~~~

- The :ref:`pagination-tutorial` describes how to use :pipeline:`$skip` 
  and :pipeline:`$limit` after the :pipeline:`$search` stage to 
  paginate query results, and the :ref:`fts-facet-aggregation-variable` 
  to return the total documents found.

- The :ref:`diacritic-insensitive-tutorial` tutorial describes how to
  create an index that uses a custom analyzer and perform a
  diacritic-insensitive search against the ``sample_mflix.movies``
  collection. The query searches the ``sample_mflix.movies`` collection
  for movie titles that contain the given term regardless if the term
  contains diacritics.

- The :ref:`run-geo-search-tutorial` tutorial describes 
  how to create an index on the ``sample_airbnb.listingsAndReviews`` 
  collection and run a query that returns documents with the
  ``name``, ``address``, and ``property_type``
  of each property within a specified polygon defined using ``coordinates``.
  |fts| results reflect a preference for properties of type ``condominium``, 
  and each document in the result is assigned a relevance ``score``, 
  returned in order from highest to lowest.

- The :ref:`compound-query-custom-score-tutorial` tutorial describes 
  how to create a dynamic index and run compound queries with custom 
  scoring. The queries search the ``sample_mflix.movies`` collection 
  and alter the relevance score of the documents in the result using 
  :ref:`scoring-constant`, :ref:`scoring-boost`, and 
  :ref:`scoring-function` options.

- The :ref:`multilingual-tutorial` tutorial describes how to create an 
  index that uses a language analyzer and perform a multilingual search
  against the ``sample_mflix.movies`` collection. The queries search the
  ``sample_mflix.movies`` collection for full movie plots that contain a
  multilingual term.

- The :ref:`partial-match-tutorial` tutorial describes how to create an 
  index on the ``sample_mflix.movies`` collection and run case-sensitive
  partial match queries against the indexed field using 
  :ref:`autocomplete-ref`, :ref:`phrase-ref`, :ref:`regex-ref`, and 
  :ref:`wildcard-ref` operators.
  
- :ref:`fts-cross-collection-tutorials` contains tutorials that 
  describe how to run queries across multiple collections by first 
  combining collections using :pipeline:`$lookup`, and 
  :pipeline:`$unionWith`, and then running :pipeline:`$search` queries 
  against the collections.

- The :ref:`embedded-documents-tutorial` tutorial demonstrates how to 
  index fields of type string inside an array of objects and run 
  |fts| queries against the indexed fields.

- The :ref:`compound-query-date-range-tutorial` tutorial describes how 
  to create a dynamic index and run compound queries that use the 
  ``range`` operator. The queries search the ``sample_mflix.movies`` 
  collection for movies between a specified date range.

- The :ref:`query-nonstring-tutorial` tutorial describes how to run 
  queries against numeric and date fields using operators that 
  support only string queries. The queries search for properties that were 
  listed on certain dates and allow them to stay up to a certain number of 
  days.

- The :ref:`sort-tutorial` tutorial describes how to index date, number,
  and string in the ``sample_mflix.movies`` for sorting and how to use
  the :pipeline:`$search` ``sort`` option to sort the results in
  ascending and descending order by the indexed fields.

- The :ref:`autocomplete-tutorial` tutorial describes how to create and 
  query an |fts| index configured with an ``autocomplete`` field using 
  the ``autocomplete`` operator. We will create the |fts| index on the 
  ``sample_mflix.movies`` collection and index ``title`` field text 
  values for autocompletion. We will run |fts| queries using 
  the ``autocomplete`` operator to search the indexed field for a 
  sequence of characters.

- The :ref:`facet-tutorial` tutorial describes how to create an index 
  with a facet definition for the ``sample_mflix.movies`` collection 
  and run queries against the faceted fields for results grouped by 
  values and ranges in the specified, faceted fields, including a 
  count for each of those groups.

- The :ref:`synonyms-tutorial` tutorial describes how to add a 
  collection that configures words as synonyms, create an index that 
  defines synonym mappings on the ``sample_mflix.movies`` collection, 
  and run |fts| queries against the ``title`` field using words that 
  are configured as synonyms.

- The :ref:`text-to-search` tutorial describes how you can replace
  :query:`$text` aggregation pipeline stage in your query with
  :pipeline:`$search` to improve both the flexibility and performance of
  these queries.

- The :ref:`regex-to-search` tutorial describes how you can replace inefficient
  regex matching with :pipeline:`$search` to improve the performance of
  text queries. 

- The :ref:`avs-reciprocal-rank-fusion` tutorial describes how to perform
  a semantic search against the ``sample_mflix.embedded_movies``
  collection and combine the results with |fts| full-text search results
  by using the popular hybrid search technique known as reciprocal rank fusion.

.. tip:: Want more |fts| content?

   - Take Unit 9 of the :mdbu-course:`Intro To MongoDB Course on MongoDB University 
     </courses/mongodb-atlas-search>` for an
     overview of |fts| and lessons on creating |fts| indexes, running
     :pipeline:`$search` queries using compound operators, and grouping 
     results using :ref:`fts-facet-ref`. 

   - Visit the |mdb-dev-center| for more real-world |fts| examples.

   - Try the full-text search examples in the `Practical MongoDB 
     Aggregations Book <https://www.practical-mongodb-aggregations.com/examples/full-text-search/full-text-search.html>`__.

.. _fts-video-section:

Learn with Videos
-----------------

Follow along with this video to learn how to configure your |fts|
index and run queries from your application. 

*Duration: 7 Minutes*

.. video:: https://youtu.be/3fRCD_QptVQ

.. toctree::
   :titlesonly:

   Paginate Results </atlas-search/tutorial/pagination-tutorial>
   Diacritic-Insensitive </atlas-search/tutorial/diacritic-insensitive>
   Geo JSON </atlas-search/tutorial/run-geo-query.txt>
   Boost or Bury </atlas-search/tutorial/compound-query-custom-score>
   Multilingual </atlas-search/tutorial/multilingual-tutorial>
   Partial Match </atlas-search/tutorial/partial-match>
   Across Collections </atlas-search/tutorial/cross-collection-tutorials>
   Array of Objects </atlas-search/tutorial/embedded-documents-tutorial>
   Date Range Filter </atlas-search/tutorial/compound-query-date-range>
   Date and Numeric String Queries </atlas-search/tutorial/query-date-number-fields>
   Sort Results <atlas-search/tutorial/sort-tutorial>
   Autocomplete </atlas-search/tutorial/autocomplete-tutorial>
   Facets </atlas-search/tutorial/facet-tutorial>
   Synonyms </atlas-search/tutorial/synonyms-tutorial>
   Update $text to $search </performance-advisor/recommend-search-text>
   Avoid Regex </schema-suggestions/case-insensitive-regex>
   Hybrid Search </atlas-search/tutorial/hybrid-search>

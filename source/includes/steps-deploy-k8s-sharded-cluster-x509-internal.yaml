---
stepnum: 1
ref: copy-k8s-example-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: copy-k8s-example-resource
replacement:
  k8sResource: :term:`sharded cluster`
  k8sExampleFileName: example-sharded-cluster.yaml
  k8sResourceType: replica-set
  k8sExample: |

   .. literalinclude:: /reference/k8s/example-sharded-cluster.yaml
      :language: yaml
      :copyable: false
      :lines: 1-20
      :linenos:

   .. literalinclude:: /reference/k8s/example-sharded-cluster.yaml
      :language: yaml
      :lines: 21-27,29
      :linenos:
      :lineno-start: 21
      :emphasize-lines: 1-7

---
stepnum: 2
level: 4
ref: paste-k8s-example-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: paste-k8s-example-resource-section
replacement:
  k8sResource: :term:`sharded cluster`
---
stepnum: 3
ref: k8s-add-sc-tls
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: add-tls-settings
replacement:
  k8sResource: :term:`sharded cluster`
---
stepnum: 4
ref: k8s-add-sc-client-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: add-client-x509-settings
replacement:
  k8sResource: :term:`sharded cluster`
---
stepnum: 5
ref: k8s-add-sc-internal-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: add-internal-x509-settings
replacement:
  k8sResource: :term:`sharded cluster`
---
stepnum: 6
ref: save-object-spec-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: save-object-spec-update
replacement:
  k8sResource: :term:`sharded cluster`
---
stepnum: 7
ref: start-k8s-deployment-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: restart-k8s-deployment
replacement:
  k8sResource: :term:`sharded cluster`
  k8sResourceType: sharded-cluster
---
stepnum: 8
level: 4
ref: check-k8s-deployment-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: check-k8s-deployment
---
stepnum: 9
level: 4
ref: get-csrs-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: get-csrs-sc-x509
replacement:
  k8sResource: sharded cluster
  startTag: START-output-k8s-sc-csrs
  endTag: END-output-k8s-sc-csrs
---
stepnum: 10
level: 4
ref: approve-csrs-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: approve-host-csrs
replacement:
  k8sResource: sharded cluster
  startTag: START-input-k8s-sc-csrs
  endTag: END-input-k8s-sc-csrs
---
stepnum: 11
level: 4
ref: get-clusterfile-csrs-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: get-clusterfile-csrs
replacement:
  k8sResource: sharded cluster
  startTag: START-output-k8s-sc-internal-x509-clusterfile-csrs
  endTag: END-output-k8s-sc-internal-x509-clusterfile-csrs
---
stepnum: 12
level: 4
ref: approve-clusterfile-csrs-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: approve-clusterfile-csrs
replacement:
  k8sResource: sharded cluster
  startTag: START-input-k8s-sc-x509-clusterfile-csrs
  endTag: END-input-k8s-sc-x509-clusterfile-csrs
---
stepnum: 13
level: 4
ref: approve-agent-csrs-sc-x509
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: approve-client-csrs
replacement:
  k8sResource: sharded cluster
  startTag: START-input-k8s-agent-csrs
  endTag: END-input-k8s-agent-csrs
---
title: "Track the status of your deployment."
stepnum: 14
level: 4
ref: track-k8s-deployment-sc-x509
content: |

  .. include:: /includes/check-resource-status.rst

...

=================================================================
Deploy Replica Set and Configure Authentication and Authorization
=================================================================

.. default-domain:: mongodb

Overview
--------

When a :doc:`replica set </core/replication-introduction>` uses
:doc:`authentication </core/authentication>` and :doc:`authorization
</core/authorization>`, clients must provide credentials to access the
replica set's data. A client's privileges define the client's level of
access.

Replication keeps your data available in the event of a hardware or other
failure. Deploying a replica set involves setting up a :term:`primary`
MongoDB instance and two or more additional instances that replicate the
primary's data. All members in a replica set hold the same data.

Enabling authentication requires an authentication mechanism. This
tutorial uses a challenge-response mechanism, which uses a key file.

.. Authorization ...

.. When you complete the tutorial ...

Considerations
--------------

Authentication requires an authentication mechanism and in many cases a
:setting:`key file <keyFile>`.

Prerequisites
-------------

.. todo

Procedures
----------

Use following procedures in sequence.

Deploy the Replica Set and Enable Authentication
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This procedure deploys all members of the set, each with a copy of the
same key file.


.. include:: /includes/steps/deploy-replica-set-with-auth.rst

Create a User Administrator
~~~~~~~~~~~~~~~~~~~~~~~~~~~

Running with authentication requires that a user administrator exists who
can create any type of user with any level of access required by your
deployment.

.. include:: /includes/steps/add-user-administrator-for-replica-set.rst

Create Additional Users
~~~~~~~~~~~~~~~~~~~~~~~

To add a user to a database, see :doc:`/tutorial/add-user-to-database`.

==============================
Configure Backup Agent for SSL
==============================

.. default-domain:: mongodb

If your MongoDB deployment uses SSL, then you must configure the Backup
Agent to use SSL to connect to your deployment's :program:`mongod` and
:program:`mongos` instances.

Configuring the agent to use SSL involves specifying which certificate to
use to sign MongoDB certificates and turning on the SSL option for the
MongoDB instances in |mms|.

Prerequisite
------------

To configure the agent to use SSL, you must have a trusted CA
certificate that signed the MongoDB instance's certificate.

Procedure
---------

.. include:: /includes/steps/backup-agent-configure-ssl.rst

.. include:: /includes/fact-ssl-host-settings.rst

Connections between Agents and MMS Servers
------------------------------------------

.. only:: saas

   The Backup Agents always use SSL when connecting to the |MMS|
   servers.

.. only:: hosted

   To ensure that the Backup Agents use SSL when connecting
   to the |MMS| servers, use an HTTPS proxy in front of |MMS|.

   You can optionally configure a Jetty instance to use HTTPS for
   connections between the |mms| application and agents. To do so, see
   :doc:`/tutorial/configure-jetty-https`.

For the settings used by the Backup Agent to connect to the |MMS|
servers, see :ref:`backup-server-ssl-settings`.

Additional Information
----------------------

For information about MongoDB and SSL, see
:manual:`/tutorial/configure-ssl`.

ref: login
stepnum: 1
level: 4
source:
  file: steps-enable-encryption-for-project.yaml
  ref: login
---
ref: select-project
stepnum: 2
level: 4
source:
  file: steps-enable-encryption-for-project.yaml
  ref: select-project
---
ref: click-security-ldap
stepnum: 3
level: 4
source:
  file: steps-enable-encryption-for-project.yaml
  ref: click-security-ldap
---
title: "Click :guilabel:`Rotate Keys` :icon:`edit`."
stepnum: 4
level: 4
ref: click-rotate-keys
---
title: "Click :guilabel:`Google Cloud KMS`."
stepnum: 5
level: 4
ref: click-gcp-keyvault
content: |
  Skip this step if the :guilabel:`Google Cloud KMS` tab
  is already active.
---
title: "Expand :guilabel:`Encryption Key Credentials`."
stepnum: 6
level: 4
ref: expand-encryption-key
content: |
  
  Skip this step if the :guilabel:`Encryption Key Credentials` dialog is
  already in view.
---
title: "Enter the GCP Key Version Resource ID in the :guilabel:`Key Identifier` entry."
stepnum: 7
level: 4
ref: enter-encryption-key
content: |
  Enter the fully-qualified resource name for a
  `CryptoKeyVersion <https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys.cryptoKeyVersions#CryptoKeyVersion>`__.

  For example:

  .. code-block:: none
     :copyable: false

     projects/my-project-0/locations/us-east4/keyRings/my-key-ring-0/cryptoKeys/my-key-0/cryptoKeyVersions/1

  The encryption key **must** belong to the GCP Service Account Key
  configured for your Atlas project. Click the :guilabel:`Service
  Account Key` section to view the currently configured Service Account
  Key for the project. 
---
title: "Click :guilabel:`Update Credentials`."
stepnum: 8
level: 4
ref: update-credentials
content: |
  
  |service| displays a banner in the |service| UI during the 
  Key Identifier rotation process.
  
  .. warning::

     Do not delete or disable the original Key Version Resource ID until
     your changes have deployed.

  If the cluster uses :ref:`backup-cloud-provider`, do **not** delete
  or disable the original Key Version Resource ID until you
  ensure that no snapshots used that key for encryption.
...

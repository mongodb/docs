.. _avs-transform-documents-collections:

====================================
Use Views with {+avs+}
====================================

.. default-domain:: mongodb

.. meta::
   :description: Use MongoDB Vector Search to transform documents and collections.

.. dismissible-skills-card::
   :skill: Vector Search Fundamentals
   :url: https://learn.mongodb.com/skills?openTab=gen%20ai

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. |product-name| replace:: {+avs+}

You can create an {+avs+} index on a :manual:`View 
</core/views/>` to transform documents and collections so that you can 
partially index a collection, support incompatible data types or
data models, and more.

The following examples use the :ref:`sample_mflix <sample-mflix>` 
sample database.

.. include:: /includes/search-shared/fact-view-disambiguation.rst

.. include:: /includes/search-shared/fact-partial-indexing-reqs.rst

Example: Filter Documents
-------------------------

To create a View, you must have the 
:authaction:`createCollection` privilege.

You can filter documents to partially index a collection. The following 
example creates a View on the ``sample_mflix.embedded_movies`` 
collection so that only documents that have a vector embedding field are 
indexed.

----------

.. |arrow| unicode:: U+27A4

|arrow| Use the **Select your language** drop-down menu to set the 
interface for the examples on this page.

.. tabs-selector:: drivers
   :default-tabid: shell

----------

.. |search-type| replace:: :guilabel:`Atlas Vector Search`
.. |index-name| replace:: ``embeddingsIndex``
.. |database-name| replace:: ``sample_mflix``
.. |collection-name| replace:: ``moviesWithEmbeddings``
.. |source-collection| replace:: ``embedded_movies``

.. tabs-drivers::

   .. tab::
      :tabid: shell

      .. include:: /includes/avs/views/steps-create-view-mongosh.rst

   .. tab::
      :tabid: atlas-ui

      .. include:: /includes/avs/views/steps-create-view-atlas-ui.rst

Performance Considerations
--------------------------

.. include:: /includes/search-shared/fact-partial-indexing-performance-considerations.rst

Troubleshoot
------------

.. include:: /includes/search-shared/fact-partial-indexing-troubleshoot.rst

Index Process
-------------

.. include:: /includes/search-shared/fact-partial-indexing-process.rst

Learn More
----------

To learn more about Views, see :manual:`Views </core/views/>`.

To create an |fts| index on a View, see 
:ref:`fts-transform-documents-collections`.

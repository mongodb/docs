==================================================
Install the Automation Agent with ``rpm`` Packages
==================================================

.. default-domain:: mongodb

Overview
--------

|mms| Automation relies on an Automation Agent, which must be installed on
every server that runs a monitored MongoDB deployment. The Automation
Agents periodically poll |mms| to determine the goal configuration, deploy
changes as needed, and report deployment status back to |mms|.

Use this procedure to install the agent on RHEL, CentOS, SUSE, Amazon
Linux, and other systems that use ``rpm`` packages.

If you are installing to a server that has an existing MongoDB deployment
that was **not** installed with the ``rpm`` package, then instead
:doc:`install the agent using an archive
</tutorial/install-automation-agent-from-archive>` and ensure the agent
runs as the same user as the MongoDB process.

Prerequisites
-------------

.. include:: /includes/prerequisites-automation-agent-servers.rst

.. include:: /includes/prerequisites-automation-agent-monitored-deployment.rst

.. include:: /includes/prerequisites-automation-agent-new-deployment.rst

Procedures
----------

This section includes procedures for both installing and updating the
Automation Agent.

Install the Automation Agent with an ``rpm`` Package
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/automation-agent-install-with-rpm-packages.rst

Update the Automation Agent with an ``rpm`` Package
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You do **not** need to stop the agent to install. The update package
automatically stops, unpacks, and then restarts the agent.

.. include:: /includes/steps/automation-agent-update-with-rpm-packages.rst

============
Custom Roles
============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: twocols

The ``customDBRoles`` resource lets you retrieve, create and modify the
custom roles in your cluster. Use custom roles to
specify custom sets of actions which cannot be described by the
built-in |service| :ref:`database user privileges
<atlas-user-privileges>`.

Custom roles cannot use actions unavailable to any cluster
version in your project. Custom roles are defined at the project level,
and must be compatible with each MongoDB version used by your project's
clusters.

Custom roles in your project must include actions that all of your
clusters support.

.. example::

   You can't create custom roles that use actions introduced in MongoDB
   4.0 if your project contains MongoDB 3.6 clusters.

.. example::

   If you have a cluster in your project with MongoDB 3.6, you
   cannot create a custom role that uses actions introduced in
   MongoDB 4.0.

.. include:: /includes/fact-projects-groups-synonyms.rst

.. note::

   The Custom Roles resource supports a subset of
   :manual:`MongoDB privilege actions </reference/privilege-actions/>`.
   Further, the custom role actions available in the API represent a
   subset of actions available in the |service| UI. For a complete list
   of privilege actions available in the Custom Roles resource,
   see :doc:`/reference/api/custom-role-actions`.

.. include:: /includes/api-base-url.rst

.. list-table::
   :header-rows: 1
   :widths: 10 60 25

   * - Method
     - Endpoint
     - Description

   * - ``GET``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles </reference/api/custom-roles-get-all-roles>`

     - Get all custom roles in the project.

   * - ``GET``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles/{ROLE-NAME} </reference/api/custom-roles-get-single-role>`

     - Get the custom role named {ROLE-NAME}.

   * - ``POST``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles </reference/api/custom-roles-create-a-role>`

     - Create a new custom role in the project.

   * - ``PATCH``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles/{ROLE-NAME} </reference/api/custom-roles-update-a-role>`

     - Update a custom role in the project.

   * - ``DELETE``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles/{ROLE-NAME} </reference/api/custom-roles-delete-a-role>`

     - Delete a custom role from the project.

.. toctree::

   /reference/api/custom-roles-get-all-roles
   /reference/api/custom-roles-get-single-role
   /reference/api/custom-roles-create-a-role
   /reference/api/custom-roles-update-a-role
   /reference/api/custom-roles-delete-a-role
   /reference/api/custom-role-actions

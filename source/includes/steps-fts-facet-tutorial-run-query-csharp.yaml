ref: fts-partial-match-tutorial-cs
level: 4
stepnum: 1
title: "Set up and initialize the .NET/C# project for the query."
content: |
  a. Create a new directory called ``facet-query-example`` and
     initialize your project with the ``dotnet new`` command.

     .. code-block:: bash

        mkdir facet-query-example
        cd facet-query-example
        dotnet new console

  #. Add the .NET/C# Driver to your project as a dependency.

     .. code-block:: bash

        dotnet add package MongoDB.Driver

---
ref: create-partial-match-tutorial-cs
level: 4
stepnum: 2
title: "Create the query in the ``Program.cs`` file."
content: |

  a. Replace the contents of the ``Program.cs``  file with the
     following code.

     The following query searches for movies released :ref:`near 
     <near-ref>` November 11, 1921. It specifies a ``pivot`` distance from 
     ``origin`` of approximately three months. It requests metadata on the 
     ``genres`` and ``year`` field. The query requests a count of the: 
  
     - Number of movies in each genre in the ``genres`` string array field
     - Number of movies in the years 1910 to 1939, inclusive

     .. literalinclude:: /includes/fts-tutorial/facet/tutorial.cs
        :language: csharp
        :linenos:
        :dedent:
        :emphasize-lines: 9

  #. .. include:: /includes/fact-fts-driver-connection-string.rst

---
ref: run-partial-match-query-java
level: 4
stepnum: 3
title: "Compile and run the ``Program.cs`` file."
content: |

  .. io-code-block:: 
     :copyable: true

     .. input::
        :language: bash

        dotnet run facet-query-example.csproj

     .. output::
        :language: json
        :visible: true

        { 
          "count" : { "lowerBound" : NumberLong(23026), "total" : null }, 
          "facet" : { 
            "genresFacet" : { 
              "buckets" : [
                { "_id" : "Drama", "count" : NumberLong(13527) }, 
                { "_id" : "Comedy", "count" : NumberLong(6922) }, 
                { "_id" : "Romance", "count" : NumberLong(3615) }, 
                { "_id" : "Crime", "count" : NumberLong(2649) }, 
                { "_id" : "Thriller", "count" : NumberLong(2603) }, 
                { "_id" : "Action", "count" :  NumberLong(2505) }, 
                { "_id" : "Documentary", "count" : NumberLong(2041) }, 
                { "_id" : "Adventure", "count" : NumberLong(2016) }, 
                { "_id" : "Horror", "count" : NumberLong(1662) }, 
                { "_id" : "Biography", "count" : NumberLong(1373) }
              ] 
            }, 
            "yearFacet" : { 
              "buckets" : [
                { "_id" : 1910, "count" : NumberLong(23) }, 
                { "_id" : 1920, "count" : NumberLong(89) }, 
                { "_id" : 1930, "count" : NumberLong(308) }
              ] 
            } 
          } 
        }
              

...

.. _query-syntax-ref:

=========================
$searchBeta (aggregation)
=========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Definition
----------

.. pipeline:: $searchBeta

   |fts| queries take the form of an :manual:`aggregation pipeline
   stage </aggregation>`. The ``$searchBeta`` stage performs a
   full-text search on the specified field or fields which must
   be covered by a |fts| index.

   A ``$searchBeta`` pipeline stage has the following prototype
   form: 

   .. code-block:: javascript

      { 
        $searchBeta: {
          <operator>: {
            <specification(s)>
          }
        }
      }

Behavior
--------

``$searchBeta`` must be the first stage of any pipeline it appears in.
``$searchBeta`` cannot be used in:

- a :manual:`view definition</core/views>`
- a :manual:`$lookup subpipeline </reference/operator/aggregation/lookup>`
- a :manual:`$facet </reference/operator/aggregation/facet>` pipeline
  stage

The ``$searchBeta`` stage has the following operators:

.. list-table::
   :header-rows: 1

   * - Operator
     - Description

   * - :ref:`term <term-ref>`
     - Unanalyzed search.

   * - :ref:`search <search-ref>`
     - Full-text analyzed search.

   * - :ref:`compound <compound-ref>`
     - Combines other operators into a single query.

.. class:: hidden

   .. toctree::
      :titlesonly:

      /reference/full-text-search/term
      /reference/full-text-search/search
      /reference/full-text-search/compound

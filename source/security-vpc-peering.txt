.. _vpc-peering:

=============================
Set up VPC Peering Connection
=============================

.. default-domain:: mongodb

.. include:: /includes/fact-atlas-free-tier-limits.rst

.. admonition:: AWS Only
   :class: important

   AWS requires DNS hostnames and DNS resolution when peering a :ref:`VPC
   <security-vpc>` with |service|.
   
   |service| supports :ref:`VPC <security-vpc>` peering with other AWS VPCs in
   the same region.

For |service| clusters deployed on :ref:`google-gcp` or
:ref:`microsoft-azure`, add the IP addresses of your :abbr:`GCP (Google Cloud
Platform)` or :abbr:`Azure (Microsoft Azure)` services to |service|
:doc:`group IP whitelist </security-whitelist>` to grant those services access
to the cluster.

.. important::

   To set up a VPC peering connection, you must be the group owner.

From the :guilabel:`Clusters` view, select the :guilabel:`Security`
tab, then click :guilabel:`Peering`, then :guilabel:`New Peering
Connection`.

Procedure
---------

.. include:: /includes/steps/add-vpc-connection.rst

Once set up, you can edit or terminate VPC peering connection from the
:guilabel:`Peering` table.

To use, you must add your VPC CIDR block address (or subset) or the
Security Group associated with the peer VPC to the :ref:`whitelist
<whitelist>`.

.. seealso::

   https://www.mongodb.com/blog/post/introducing-vpc-peering-for-mongodb-atlas

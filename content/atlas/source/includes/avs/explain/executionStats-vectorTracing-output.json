{
  explainVersion: '1',
  stages: [
    {
      '$vectorSearch': {
        index: 'vector_index',
        path: 'plot_embedding_voyage_3_large',
        queryVector: 'redacted',
        numCandidates: 150,
        limit: 10,
        explainOptions: {
          traceDocumentIds: [
            ObjectId('573a13d8f29313caabda6557'),
            ObjectId('573a1398f29313caabce98d9'),
            ObjectId('573a1391f29313caabcd8319'),
            ObjectId('573a1398f29313caabceb500'),
            ObjectId('573a1397f29313caabce780e')
          ]
        },
        explain: {
          query: {
            type: 'WrappedKnnQuery',
            args: {
              query: [
                {
                  type: 'InstrumentableKnnFloatVectorQuery',
                  args: {
                    field: '$type:knnVector/plot_embedding_voyage_3_large',
                    k: 150
                  },
                  stats: {
                    context: { millisElapsed: 0 },
                    match: { millisElapsed: 0 },
                    score: { millisElapsed: 0 }
                  }
                },
                {
                  type: 'DocAndScoreQuery',
                  args: {},
                  stats: {
                    context: {
                      millisElapsed: 0.010987,
                      invocationCounts: {
                        createWeight: Long('1'),
                        createScorer: Long('4')
                      }
                    },
                    match: {
                      millisElapsed: 0.009977,
                      invocationCounts: { nextDoc: Long('152') }
                    },
                    score: {
                      millisElapsed: 0.018875,
                      invocationCounts: {
                        score: Long('150'),
                        setMinCompetitiveScore: Long('26')
                      }
                    }
                  }
                }
              ]
            },
            stats: {
              context: {
                millisElapsed: 7.55246,
                invocationCounts: {
                  vectorExecution: Long('1'),
                  createWeight: Long('1'),
                  createScorer: Long('4')
                }
              },
              match: {
                millisElapsed: 0.009977,
                invocationCounts: { nextDoc: Long('152') }
              },
              score: {
                millisElapsed: 0.018875,
                invocationCounts: {
                  score: Long('150'),
                  setMinCompetitiveScore: Long('26')
                }
              }
            }
          },
          collectors: {
            allCollectorStats: {
              millisElapsed: 0.148807,
              invocationCounts: {
                collect: Long('150'),
                competitiveIterator: Long('2'),
                setScorer: Long('2')
              }
            }
          },
          metadata: {
            mongotVersion: '1.54.0',
            mongotHostName: '<hostname>.mongodb.net',
            indexName: 'vector_index',
            lucene: { totalSegments: 2, totalDocs: 3483 }
          },
          resourceUsage: {
            majorFaults: Long('0'),
            minorFaults: Long('0'),
            userTimeMs: Long('0'),
            systemTimeMs: Long('0'),
            maxReportingThreads: 1,
            numBatches: 1
          },
          vectorTracing: [
            {
              documentId: ObjectId('573a1391f29313caabcd8319'),
              visited: false,
              luceneSegment: '_0'
            },
            {
              documentId: ObjectId('573a1397f29313caabce780e'),
              visited: true,
              vectorSearchScore: 0.7469133734703064,
              luceneSegment: '_0'
            },
            {
              documentId: ObjectId('573a1398f29313caabce98d9'),
              visited: false,
              luceneSegment: '_0'
            },
            {
              documentId: ObjectId('573a1398f29313caabceb500'),
              visited: true,
              vectorSearchScore: 0.7521393895149231,
              luceneSegment: '_0'
            },
            {
              documentId: ObjectId('573a13d8f29313caabda6557'),
              visited: true,
              vectorSearchScore: 0.7710106372833252,
              luceneSegment: '_1'
            }
          ],
          luceneVectorSegmentStats: [
            {
              id: '_1',
              executionType: 'Approximate',
              docCount: 1531,
              approximateStage: { millisElapsed: 2.73042 }
            },
            {
              id: '_0',
              executionType: 'Approximate',
              docCount: 1952,
              approximateStage: { millisElapsed: 4.136979 }
            }
          ]
        }
      },
      nReturned: Long('10'),
      executionTimeMillisEstimate: Long('21')
    },
    {
      '$_internalSearchIdLookup': {
        limit: Long('10'),
        subPipeline: [
          { '$match': { _id: { '$eq': '_id placeholder' } } }
        ],
        totalDocsExamined: Long('10'),
        totalKeysExamined: Long('10'),
        numDocsFilteredByIdLookup: Long('0')
      },
      nReturned: Long('10'),
      executionTimeMillisEstimate: Long('22')
    }
  ],
  queryShapeHash: '2E39BED257F2B59D3F8652E1A81A18B1140602C4E253DED9FE208D584EA00083',
  serverInfo: {
    host: '<hostname>.mongodb.net',
    port: 27017,
    version: '8.2.1-rc1',
    gitVersion: '3312bdcf28aa65f5930005e21c2cb130f648b8c3'
  },
  serverParameters: {
    internalQueryFacetBufferSizeBytes: 104857600,
    internalQueryFacetMaxOutputDocSizeBytes: 104857600,
    internalLookupStageIntermediateDocumentMaxSizeBytes: 104857600,
    internalDocumentSourceGroupMaxMemoryBytes: 104857600,
    internalQueryMaxBlockingSortMemoryUsageBytes: 104857600,
    internalQueryProhibitBlockingMergeOnMongoS: 0,
    internalQueryMaxAddToSetBytes: 104857600,
    internalDocumentSourceSetWindowFieldsMaxMemoryBytes: 104857600,
    internalQueryFrameworkControl: 'trySbeRestricted',
    internalQueryPlannerIgnoreIndexWithCollationForRegex: 1
  },
  command: {
    aggregate: 'embedded_movies',
    pipeline: [
      {
        '$vectorSearch': {
          index: 'vector_index',
          path: 'plot_embedding_voyage_3_large',
          queryVector: [
            -0.034731735,  0.008558298,   -0.0153717, -0.029912498,  0.011549547,
            ...,
            -0.006688767,  0.047527634,  0.040714234
          ],
          numCandidates: 150,
          limit: 10,
          explainOptions: {
            traceDocumentIds: [
              ObjectId('573a13d8f29313caabda6557'),
              ObjectId('573a1398f29313caabce98d9'),
              ObjectId('573a1391f29313caabcd8319'),
              ObjectId('573a1398f29313caabceb500'),
              ObjectId('573a1397f29313caabce780e')
            ]
          }
        }
      }
    ],
    cursor: {},
    '$db': 'sample_mflix'
  },
  ok: 1,
  '$clusterTime': {
    clusterTime: Timestamp({ t: 1759343038, i: 1 }),
    signature: {
      hash: Binary.createFromBase64('E3FSIwLHavtFVMsmuqJM5reQc4I=', 0),
      keyId: Long('7553982574624768005')
    }
  },
  operationTime: Timestamp({ t: 1759343038, i: 1 })
}
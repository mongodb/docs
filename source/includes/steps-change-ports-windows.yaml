stepnum: 1
level: 4
ref: login
title: "Login to the Windows Host running |onprem|."
content: |
---
stepnum: 2
level: 4
ref: open-the-registry
title: "Open the Registry Editor."
content: |
  a. Click :guilabel:`Run` from the :guilabel:`Start` menu.
  b. Type ``regedit``.
  c. Click :guilabel:`OK`.
  d. If User Access Control asks :guilabel:`Do you want to allow this 
     app to make changes to your device?`, click :guilabel:`Yes`.
---
stepnum: 3
level: 4
ref: open-mms-params
title: "Open the Windows registry to the Java Options for Ops Manager."
content: |
  By default, |onprem| uses port ``8080`` for |http| traffic and 
  ``8443`` for |https| traffic. Edit the following registry value to 
  change either port:
    
  .. code-block:: registry

     HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Apache Software Foundation\Procrun 2.0\MMS\Parameters\Java\Options

---
stepnum: 4
level: 4
ref: edit-base-port
title: "Add one line for each desired port to the ``Options`` multi-line registry value."
pre: "When changing either port, ensure that the chosen port is available."
action:
  - heading: "For |http| traffic to |onprem|"
    pre: "Add a new line with ``-Dbase-port=<portnumber>``:"
    language: ini
    code: |
      -Dbase-port=11700
  - heading: "For |https| traffic to |onprem|"
    pre: "Add a new line with ``-Dbase-ssl-port=<portnumber>``:"
    language: ini
    code: |
      -Dbase-ssl-port=11800
---
stepnum: 5
level: 4
ref: save-and-exit
title: "When you are done editing the settings, click :guilabel:`OK`, and exit the Registry Editor."
---
stepnum: 6
level: 4
ref: edit-url-configuration
title: "Edit the |onprem| URL to use the new port."
content: |

  a. In |application|, click the :guilabel:`Admin` link in the upper 
     right corner of the page.

  b. Click the :guilabel:`General` tab and then click 
     :guilabel:`Ops Manager Config`.

  c. Update the :guilabel:`URL to Access Ops Manager` field to use the 
     new |http| (or |https|) port specified in the Java Options
     registry value.

     .. example::

        .. code-block:: sh

           https://opsmanager.example.com:11800

  d. Click :guilabel:`Save`.

---
stepnum: 7
level: 4
title: "Restart |onprem|."
ref: restart
content: |
  To restart the |onprem| HTTP service:

  a. Click :guilabel:`Run` from the :guilabel:`Start` menu.
  b. Type :guilabel:`Services`.
  c. Click :guilabel:`OK`.
  d. Right-click |win-http-service|.
  e. Click :guilabel:`Restart`.
post: |
  |onprem| restarts. The |application|
  should be accessible at the new URL and port combination.
...

.. _voyage-quickstart:

=====================
Voyage AI Quick Start
=====================

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

In this guide, you learn how to generate your first vector embeddings 
with {+voyageai+} and build a basic application.

.. cta-banner::
   :url: https://github.com/mongodb/docs-notebooks/blob/main/voyageai/quickstart.ipynb
   :icon: Code

   Work with a runnable version of this tutorial as a :github:`Python notebook <docs-notebooks/blob/main/voyageai/quickstart.ipynb>`.

Create a Model API Key
----------------------

To access {+voyageai+} models, create a {+model-api-key+} in 
the MongoDB {+atlas-ui+}.

.. procedure::
   :style: normal

   .. step:: `Sign up for a free Atlas account or log in. <https://www.mongodb.com/cloud/atlas/register>`__

      If you're new to |service|, it creates an organization and project for you. 
      
      To learn more, see :ref:`create-atlas-account`.
      
   .. step:: Create a {+model-api-key+} for your project.

      a. In your |service| project, select :guilabel:`AI Models` from the navigation bar.
      #. Click :guilabel:`Create {+model-api-key+}`.
      #. Give the API key a name and then click :guilabel:`Create`.

      To learn more, see :ref:`voyage-manage-api-keys`.
    
   .. step:: Set the API key in your environment.

      Copy the API key and store it in a safe location.
      Then, export the API key as an environment variable in your terminal
      so the {+voyage+} client can access it.

      .. include:: /includes/export-voyage-api-key.rst

Generate Your First Embeddings
------------------------------

In this section, you generate vector embeddings 
using a {+voyageai+} embedding model and the Python client.

.. image:: /images/embedding-diagram.png
   :width: 1200px
   :alt: {+voyageai+} embedding diagram

.. procedure::
   :style: normal

   .. step:: Install the client.

      Run the following commands in your terminal to create your project and install the
      {+voyageai+} Python client.

      .. code-block:: bash

         mkdir mongodb-voyage-quickstart
         cd mongodb-voyage-quickstart
         pip install --upgrade voyageai

   .. step:: Create your script.

      Create a file named ``quickstart.py`` in your project and paste the following code into it.
      This code initializes the {+voyageai+} client, defines sample texts,
      and uses the client to access the Voyage API to generate vector embeddings
      with the ``voyage-4-large`` model.

      For details, see :ref:`voyage-python-client` or
      explore the `full API specification <http://dochub.mongodb.org/core/voyage-api-spec>`__.

      .. literalinclude:: /includes/quickstart/generate-embeddings.py
         :language: python
         :copyable:

   .. step:: Run the script.

      Run the following command in your terminal to generate the embeddings.

      .. io-code-block::

         .. input::
            :language: bash

            python quickstart.py

         .. output::
            :language: text

            Generated 2 embeddings
            Each embedding has 1024 dimensions
            First embedding (truncated): [-0.02806740067899227, 0.05503412336111069, 0.0038576999213546515, -0.04668188467621803, 0.007834268733859062]...

Build a Basic RAG Application
-----------------------------

Now that you know how to generate vector embeddings,
build a basic :term:`RAG` application
to learn how to use {+voyageai+} models to implement AI search and retrieval.
RAG enables LLMs to generate context-aware responses 
by retrieving relevant information from your data before generating answers.

.. note::

   RAG applications require access to an LLM.
   This tutorial provides examples using Anthropic or OpenAI, but
   you can use any LLM provider of your choice.

.. image:: /images/quickstart-rag-diagram.png
   :width: 1200px
   :alt: Basic {+voyageai+} RAG diagram

.. composable-tutorial::
   :options: llm-provider
   :defaults: anthropic

   .. selected-content::
      :selections: anthropic

      .. procedure::
         :style: normal

         .. step:: Install required packages.

            a. Run the following command in your terminal to install the required
               packages for the application:

               .. code-block:: bash

                  pip install numpy anthropic

            #. Export the API key as an environment variable in your terminal
               so the Anthropic client can access it.

               .. tabs::

                  .. tab:: macOS / Linux
                     :tabid: macos-linux

                     .. code-block:: bash

                        export ANTHROPIC_API_KEY="<your-api-key>"

                  .. tab:: Windows
                     :tabid: windows

                     .. code-block:: bash

                        set ANTHROPIC_API_KEY=<your-api-key>
                     
         .. step:: Build your application.

            .. include:: /includes/quickstart/rag-code-explanation.rst

            .. literalinclude:: /includes/quickstart/rag-application-anthropic.py
               :language: python
               :copyable:

         .. include:: /includes/quickstart/step-run-app.rst

   .. selected-content::
      :selections: openai

      .. procedure::
         :style: normal

         .. step:: Install required packages.

            a. Run the following command in your terminal to install the required
               packages for the application:

               .. code-block:: bash

                  pip install numpy openai

            #. Export the API key as an environment variable in your terminal
               so the OpenAI client can access it.

               .. tabs::

                  .. tab:: macOS / Linux
                     :tabid: macos-linux

                     .. code-block:: bash

                        export OPENAI_API_KEY="<your-api-key>"

                  .. tab:: Windows
                     :tabid: windows

                     .. code-block:: bash

                        set OPENAI_API_KEY=<your-api-key>

         .. step:: Build your application.

            .. include:: /includes/quickstart/rag-code-explanation.rst

            .. literalinclude:: /includes/quickstart/rag-application-openai.py
               :language: python
               :copyable:

         .. include:: /includes/quickstart/step-run-app.rst

Learning Summary
----------------

Now that you've created your first application with {+voyageai+},
expand the following sections to learn more about the concepts
covered in this quick start:

.. collapsible::
   :heading: Models Used
   :expanded: false

   You used the ``voyage-4-large`` embedding model to convert text into
   1024-dimensional vectors. Each dimension represents a learned feature
   that captures aspects of the text's meaning.

   You also used the ``rerank-2.5`` reranking model to refine your
   search results against the query. Higher scores indicate stronger  
   similarity between the query and document content.

   To learn more, see :ref:`voyage-models`.

.. collapsible::
   :heading: API and Client
   :expanded: false

   You used the ``voyageai`` Python SDK to access the
   :ref:`{+voyage-api+} <voyage-api-and-clients>`.
   When calling the models using the SDK, you specified the
   ``input_type`` parameter to improve search accuracy:

   - ``document``: To optimize the embeddings that represent your data.
   - ``query``: To optimize your query embeddings.

   To learn more, see :ref:`Text Embeddings Usage <voyage-text-embeddings-usage>`
   and :ref:`voyage-input-type`.

.. collapsible::
   :heading: Semantic Search
   :expanded: false

   You used the dot product similarity function to find 
   semantically similar documents. Numpy is an open-source library that
   provides built-in functions for vector operations, and this application
   uses the ``dot()`` and ``argsort()`` functions to compute the dot product
   similarity between the query and document embeddings, and
   then sort the documents by their similarity scores.

   To learn more about semantic search, see :ref:`voyage-semantic-search`.
   For more details on text embeddings usage and the ``input_type`` parameter,
   see :ref:`voyage-text-embeddings-usage`.

.. collapsible::
   :heading: RAG
   :expanded: false

   You combined semantic search and reranking with an LLM to create a 
   basic RAG system. The system retrieves relevant documents using 
   semantic search, reranks them, and then provides the most relevant 
   document to an LLM to generate accurate, grounded responses to your queries.

   To learn more about RAG, see :ref:`voyage-rag`.

Next Steps
----------

To continue learning, see the following resources:

.. list-table::
   :header-rows: 1
   :widths: 40 60

   * - Skill Level
     - Documentation Resources

   * - Basic
     - | :ref:`See all available models <voyage-models>`
       | :ref:`Learn about the ways to access the API <voyage-api-client>`

   * - Intermediate
     - | :ref:`Build a Semantic Search Application <voyage-semantic-search>`
       | :ref:`Build a RAG Application with Voyage AI <voyage-rag>`
       | :ref:`Get Started with MongoDB Vector Search <vector-search-quick-start>`

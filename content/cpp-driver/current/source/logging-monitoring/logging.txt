.. _cpp-logging:

=================
Log Driver Events
=================

.. meta::
   :description: Learn how to configure logging with the MongoDB C++ Driver to observe application activities with different levels of detail.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Overview
--------

In this guide, you can learn how to use the {+driver-short+} to configure
**logging** for your application. Logging allows you to
view a discrete, event-based log of driver activities.

Loggers log messages at a severity, or verbosity, level that you
can specify. The driver categorizes log messages at the following 
levels, listed from highest to lowest severity:

- ``error``
- ``critical``
- ``warning``
- ``message``
- ``info``
- ``debug``
- ``trace``

When you specify a severity level, the driver also logs all
messages with higher severity levels. For example, if you set the log level to
``warning``, the driver will also log messages with ``error`` and ``critical`` severity
levels.

The lower the severity level you specify, the more information the driver logs,
which might impact the performance of your application.

Create a Filtered Logger
-------------------------

You can create a user defined logger implementation to handle logger output.

To configure your application to receive messages about driver events, define an 
implementation of the ``logger()`` class.

The following example performs the following actions to create a logger that 
filters log messages at the ``INFO`` severity level:

- Defines a filtered logger class to handle log messages at a certain level and above. 

- Creates a new filtered logger for the client with a logging level of ``info`` and above. 

- Tests the logger with an insert operation.

.. io-code-block::
    :copyable: true

    .. input:: /includes/logging-monitoring/logging.cpp
        :start-after: start-logger
        :end-before: end-logger
        :language: cpp

    .. output::
        :language: none
        :visible: false

        === Filtered Logger (INFO and above) ===
        [INFO] mongocxx: libmongoc logging callback enabled
        Operation completed! (Debug and Trace messages were filtered out)

The logger output contains the time of the operation, the severity level of the message, and the log message.

API Documentation
-----------------

For more information about logger options for the {+driver-short+}, see 
the following API documentation: 

- `mongocxx::logger <{+api+}/classmongocxx_1_1logger.html>`__

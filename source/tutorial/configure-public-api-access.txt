===========================
Configure Public API Access
===========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

To access the :doc:`Public API </api>`, you generate a :term:`Public API key` and
optionally configure access for whitelisted operations.

Public API Key
++++++++++++++

Your Public API key gives you access to the Public API. You have the same
level of access through the API as you do through the |mms| interface.

You can have up to ten Public API keys associated with your account. Each
key can be either enabled or disabled but all count toward the ten-key
limit.

.. _whitelist-for-api-operations:

Whitelist
+++++++++

Address-based whitelists protect API operations. Only client requests
that originate from a whitelisted IP address are permitted to perform the
operations.

Users have their own whitelists and own API keys. When you issue an API call,
you must use an API key from your user account and must issue the command from
an address on your user account's whitelist. You cannot use your key to issue
a whitelisted API request from an address on another user's whitelist, unless,
of course, you've added that address to your own whitelist.

.. important::

   For |mms| users with a non-empty API whitelist, all API
   access must originate from a whitelisted IP address. Ensure your
   configured whitelist entries provide appropriate coverage for all
   clients which require API access. An empty API whitelist grants
   access to all API endpoints except those that explicitly require
   whitelisting.

   |mms| supports requiring API whitelisting at the organization
   level, such that any API activity for all projects within that
   organization must originate from an entry on each respective
   |mms| user's API whitelist. For organizations that require API
   whitelisting, |mms| users cannot access any API operations until
   they define at least one API whitelist entry.

   To require an API whitelist for an Organization:

   1. Log into |mms|.

   #. Access the Organization using the :guilabel:`Context` picker in the
      top-left hand corner of the |mms| UI.

   #. Click :guilabel:`Settings` from the left hand navigation.

   #. Toggle the :guilabel:`Require IP Whitelist for Public API` setting
      to :guilabel:`On`.

Access Control
++++++++++++++

Your |mms| :doc:`roles </reference/user-roles>` determine which :doc:`API
resources </reference/api>` you can use.

.. _generate-public-api-key:

Generate Public API Keys
------------------------

.. important::

   When you generate a key, |mms| displays it **one time only**. You must
   copy it. |mms| will never display the full key again.

A Public API key is like a password. Keep it secret.

.. include:: /includes/steps/generate-public-api-key.rst

.. _configure-access-to-whitelisted-ops:

Provide Access to Whitelisted Operations
----------------------------------------

.. include:: /includes/steps/configure-access-to-whitelisted-operations.rst

Delete an Address from the Whitelist
------------------------------------

.. include:: /includes/steps/delete-address-access-to-whitelisted-operations.rst

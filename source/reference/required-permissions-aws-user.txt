=================================
Required Permissions for AWS User
=================================

.. default-domain:: mongodb

When MMS deploys and manages MongoDB instances on AWS infrastructure, MMS
accesses AWS by way of a user's access keys. The user associated with the
keys must have an attached IAM policy with the following permissions. For
information on attaching the policy, see
:doc:`/tutorial/configure-aws-settings`.

.. code-block:: javascript

   {
     "Statement": [
       {
         "Sid": "<sid>",
         "Effect": "Allow",
         "Action": ["iam:*AccessKey*"],
         "Resource": ["arn:aws:iam::*:user/<user-name>"]
       },

       {
         "Sid": "<other-id>",
         "Effect": "Allow",
         "Action": [
           "ec2:AttachVolume",
           "ec2:AuthorizeSecurityGroupIngressRequest",
           "ec2:CreateKeyPair",
           "ec2:CreateSecurityGroup",
           "ec2:CreateTags",
           "ec2:CreateVolume",
           "ec2:DeleteKeyPair",
           "ec2:DeleteSecurityGroup",
           "ec2:DeleteTags",
           "ec2:DeleteVolume",
           "ec2:DescribeAccountAttributes",
           "ec2:DescribeAvailabilityZones",
           "ec2:DescribeInstanceAttribute",
           "ec2:DescribeInstanceStatus",
           "ec2:DescribeInstances",
           "ec2:DescribeKeyPairs",
           "ec2:DescribeRegions",
           "ec2:DescribeSecurityGroups",
           "ec2:DescribeSubnets",
           "ec2:DescribeTags",
           "ec2:DescribeVpcs",
           "ec2:DescribeVolumeAttribute",
           "ec2:DescribeVolumeStatus",
           "ec2:DescribeVolumes",
           "ec2:ImportKeyPair",
           "ec2:RunInstances",
           "ec2:StartInstances",
           "ec2:StopInstances",
           "ec2:RebootInstances",
           "ec2:TerminateInstances"
         ],
         "Resource": [
           "*"
         ]
       }
     ]
   }

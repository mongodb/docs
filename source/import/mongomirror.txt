============================
Migrate with ``mongomirror``
============================

.. default-domain:: mongodb


:program:`mongomirror` is a utility for migrating data from an existing
MongoDB replica set into MongoDB |service|. :program:`mongomirror` does
not require you to shut down your existing replica set or
applications.

.. important::

   :program:`mongomirror` does not import user/role data.

Download ``mongomirror``
------------------------

To download :program:`mongomirror`, go to |mongomirrorurl|.

Prerequisites
-------------

Source
~~~~~~

- The source MongoDB deployment must be a replica set. If the source is
  a standalone MongoDB deployment, convert to a replica set first.
  
- The source replica set must be version 3.0 or greater.

Target
~~~~~~

- The target |service| cluster should be empty or run
  :program:`mongomirror` with the :option:`--drop` option.

Procedure
---------

.. include:: /includes/steps/migrate-using-mongomirror.rst

When you start :program:`mongomirror`:

#. First, :program:`mongomirror` performs an initial sync, copying
   collections from the existing MongoDB replica set to the target cluster
   in |service|.

#. After the initial sync, :program:`mongomirror` continuously
   tails the replica set's oplog for incoming changes and replays
   them on the target cluster in MongoDB |service|.

Once started, :program:`mongomirror` runs continuously until you shut
down the process.

Additional Information
----------------------

For more information on :program:`mongomirror`, including behavior,
options, and examples, see the :program:`mongomirror reference page
<mongomirror>`.

.. class:: hidden

   .. toctree::
      :titlesonly:

      /reference/mongomirror

.. include:: /includes/replace-mongomirrorurl.rst

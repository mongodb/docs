---
title: "{{method}}"
level: 4
ref: upgrade-master-version
replacement:
  om: |
    a. Set :opsmgrkube:`spec.version` to the new |onprem| version. 

    #. If you upgraded your :ref:`application database <appdb-om-arch>`, set 
       :opsmgrkube:`spec.applicationDatabase.version` to the compatible MongoDB 
       version. 

    c. *(Optional)* If you might need to downgrade, set 
       :setting:`spec.featureCompatibilityVersion`.


    .. literalinclude:: /reference/k8s/example-ops-manager.yaml
      :language: yaml
      :linenos:
  
  mdb: |
    a. Set :setting:`spec.version` to the desired MongoDB version.

    #. Set :setting:`spec.featureCompatibilityVersion` to the current
       working MongoDB version:

    .. code-block:: yaml

       ---
       apiVersion: mongodb.com/v1
       kind: MongoDB
       metadata:
        name: my-standalone-downgrade
       spec:
        version: "4.2.2-ent"
        type: Standalone
        project: my-project
        credentials: my-credentials
        persistent: false
       ...

    The following example shows the result of this change:
    
    .. code-block:: yaml

      spec:
        version: "4.4.18-ent"
        featureCompatibilityVersion: "4.2"

---
title: Reapply the configuration to |k8s|.
level: 4
ref: apply-k8s-config
replacement: 
  om: | 
    .. code-block:: none

       kubectl apply -f <om-resource-specification>.yaml

    |k8s| automatically reconfigures your deployment with the new 
    specifications. You can see these changes reflected in your |mms| or 
    :cloudmgr:`Cloud Manager </>` application.

  mdb: |
    .. code-block:: none

       kubectl apply -f <standalone-config>.yaml

    |k8s| automatically reconfigures your deployment with the new 
    specifications. You can see these changes reflected in your |mms| or 
    :cloudmgr:`Cloud Manager </>` application.

...

# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2011-2015
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 3.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2015-03-30 14:28-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/tutorial/create-tailable-cursor.txt:3
# 0e463717c9d14b53a0c51fd9c35f9b49
msgid "Create Tailable Cursor"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:8
# ae616f16c4cf4ae690493752fef85108
msgid "Overview"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:10
# 2ce4af9105d94a248692b4093a20f515
msgid "By default, MongoDB will automatically close a cursor when the client has exhausted all results in the cursor. However, for :doc:`capped collections </core/capped-collections>` you may use a *Tailable Cursor* that remains open after the client exhausts the results in the initial cursor. Tailable cursors are conceptually equivalent to the ``tail`` Unix command with the ``-f`` option (i.e. with \"follow\" mode). After clients insert new additional documents into a capped collection, the tailable cursor will continue to retrieve documents."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:20
# 2723e3f910414e508387d913c8bee34a
msgid "Use tailable cursors on capped collections that have high write volumes where indexes aren't practical. For instance, MongoDB :doc:`replication </replication>` uses tailable cursors to tail the primary's :term:`oplog`."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:27
# a21ac77195cb4433a7e81dd34bd7cb80
msgid "If your query is on an indexed field, do not use tailable cursors, but instead, use a regular cursor. Keep track of the last value of the indexed field returned by the query. To retrieve the newly added documents, query the collection again using the last value of the indexed field in the query criteria, as in the following example:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:38
# c856fbab04e04fc39bfad5de584f7b6f
msgid "Consider the following behaviors related to tailable cursors:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:40
# c0dbc85fa5a34f85853317c1e536ebf3
msgid "Tailable cursors do not use indexes and return documents in :term:`natural order`."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:43
# 97d1f6ab0b3d4bee87ddac071b7e1670
msgid "Because tailable cursors do not use indexes, the initial scan for the query may be expensive; but, after initially exhausting the cursor, subsequent retrievals of the newly added documents are inexpensive."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:47
# 4d1546146b604b2e899b6ad2a6e5a9bf
msgid "Tailable cursors may become *dead*, or invalid, if either:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:49
# 4a9c8d554b7a4e50a8fa4cd73bb94897
msgid "the query returns no match."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:51
# 7940e0f016264a23b75b240fd0372e34
msgid "the cursor returns the document at the \"end\" of the collection and then the application deletes that document."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:54
# d63b346a9d98499f9b43dd9df771d53d
msgid "A *dead* cursor has an id of ``0``."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:56
# 0b8c4557450e4331921cc024ac1a887b
msgid "See your :doc:`driver documentation </applications/drivers>` for the driver-specific method to specify the tailable cursor."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:60
# b2013e51e0134529a93a8f6021308269
msgid "C++ Example"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:62
# 63ec4f593bc44994a6db967b9d9e852a
msgid "The ``tail`` function uses a tailable cursor to output the results from a query to a capped collection:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:65
# 883541acb6564b9994084b3924824b2d
msgid "The function handles the case of the dead cursor by having the query be inside a loop."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:68
# b067cd3864914199998823f4e9dc5b30
msgid "To periodically check for new data, the ``cursor->more()`` statement is also inside a loop."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:114
# e5b2fb7ebf054ba39eee77e13f05303f
msgid "The ``tail`` function performs the following actions:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:116
# 1f86f452283247c7a0d22655ca006eb1
msgid "Initialize the ``lastValue`` variable, which tracks the last accessed value. The function will use the ``lastValue`` if the cursor becomes *invalid* and ``tail`` needs to restart the query. Use :method:`~cursor.hint()` to ensure that the query uses the :operator:`$natural` order."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:122
# cca55d2984ec4fc9bf67188e8939016d
msgid "In an outer ``while(1)`` loop,"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:124
# 1431352fa4f544e9a176bca20fd6df53
msgid "Query the capped collection and return a tailable cursor that blocks for several seconds waiting for new documents"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:133
# 6044a836deec44ef874e8e1a89c99277
msgid "Specify the capped collection using ``ns`` as an argument to the function."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:136
# 7caa5ad20ecd424ba2937ed95c18e50d
msgid "Set the ``QueryOption_CursorTailable`` option to create a tailable cursor."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:139
# 5a900f730c2a42dbbc3ae05935bdb30b
msgid "Set the ``QueryOption_AwaitData`` option so that the returned cursor blocks for a few seconds to wait for data."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:142
# 7ae90abbaf944d4fa966aff31c6e793f
msgid "In an inner ``while (1)`` loop, read the documents from the cursor:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:144
# 5597a7f300d1482aac23819a180a12d5
msgid "If the cursor has no more documents and is not invalid, loop the inner ``while`` loop to recheck for more documents."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:147
# 5d1c20c73d794c3b841aac833373daba
msgid "If the cursor has no more documents and is dead, break the inner ``while`` loop."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:150
# 04c45f7a83fb4c21bb588137871976c4
msgid "If the cursor has documents:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:152
# a8b13a6c375b4017b6fbfef10f598135
msgid "output the document,"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:154
# 3f9b7c187ecb45e9893938a33e13a703
msgid "update the ``lastValue`` value,"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:156
# fff05a1f74bd47ad90ec929f14c10b40
msgid "and loop the inner ``while (1)`` loop to recheck for more documents."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:159
# 1764eb62ffee46fd8afa6d12083c6111
msgid "If the logic breaks out of the inner ``while (1)`` loop and the cursor is invalid:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:162
# 00c08fb69c8740d0921ac1f2addf1c1b
msgid "Use the ``lastValue`` value to create a new query condition that matches documents added after the ``lastValue``. Explicitly ensure ``$natural`` order with the ``hint()`` method:"
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:170
# 8b205fe4133c4dfaa61a5174b214c85c
msgid "Loop through the outer ``while (1)`` loop to re-query with the new query condition and repeat."
msgstr ""

#: ../source/tutorial/create-tailable-cursor.txt:173
# 181c4a8fe55141388d8cb07f519cbae1
msgid "`Detailed blog post on tailable cursor <http://shtylman.com/post/the-tail-of-mongodb>`_"
msgstr ""


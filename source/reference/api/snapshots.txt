=========
Snapshots
=========

.. default-domain:: mongodb

This resource allows you to view snapshot metadata and remove existing
snapshots. A snapshot is a complete copy of the data in a ``mongod``
instance at a point in time. To delete a resource, you must issue the request
from an IP address on your user account's :ref:`whitelist
<whitelist-for-api-operations>`.

You can retrieve snapshot metadata for the whole :term:`cluster <sharded
cluster>` or :term:`replica set`, or for a single :term:`config server` in
a cluster.

To restore the snapshot data, you must create a
:doc:`restore job </reference/api/restore-jobs>`.

.. include:: /includes/api/base-api-uri.rst

Endpoints
---------

The following lists the endpoints available for snapshots.

.. list-table::
   :header-rows: 1
   :widths: 10 50 40

   * - Method

     - Endpoint

     - Description

   * - ``GET``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/clusters/{CLUSTER-ID}/snapshots </reference/api/snapshots/get-all-snapshots-for-one-cluster>`

     - Get All Snapshots for a Cluster

       ``{CLUSTER-ID}`` must be the ID of either a replica set or a sharded cluster.

   * - ``GET``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/clusters/{CLUSTER-ID}/snapshots/{SNAPSHOT-ID} </reference/api/snapshots/get-one-snapshot-for-one-cluster>`

     - Get one snapshot for a cluster.

   * - ``PATCH``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/clusters/{CLUSTER-ID}/snapshots/{SNAPSHOT-ID} </reference/api/snapshots/change-expiry-for-one-snapshot>`

     - Change expiration date for one snapshot.

   * - ``DELETE``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/clusters/{CLUSTER-ID}/snapshots/{SNAPSHOT-ID} </reference/api/snapshots/remove-one-snapshot-from-one-cluster>`

     - Remove one snapshot. 

   * - ``GET``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/hosts/{HOST-ID}/snapshots </reference/api/snapshots/get-all-snapshots-for-config-server>`

     - Get all snapshots for a :term:`config server`. 

       ``HOST-ID`` must be the ID of a config server.

   * - ``GET``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/hosts/{HOST-ID}/snapshots/{SNAPSHOT-ID} </reference/api/snapshots/get-one-snapshot-for-config-server>`

     - Get one snapshot for a config server.

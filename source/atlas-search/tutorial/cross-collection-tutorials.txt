.. _fts-cross-collection-tutorials:

===========================================
How to Run |fts| Queries Across Collections
===========================================

.. default-domain:: mongodb

.. meta:: 
   :keywords: atlas search, query across multiple collections, combine collections, $lookup, $unionWith, queries across collections, queries on multiple collections, materialized views, app services, scheduled triggers
   :description: In this tutorial, learn how to use $lookup, or $unionWith to run Atlas Search queries on multiple collections.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The following tutorials take you through the steps for querying across 
multiple collections:

- The :ref:`query-materialized-views` tutorial demonstrates 
  how to index and query on multiple collections using a combination of 
  On-Demand Materialized Views and {+atlas-app-services+} Scheduled 
  Triggers.
- The :ref:`lookup-with-search-tutorial` tutorial demonstrates how to 
  perform cross-collection search by first joining collections in the 
  same database using :pipeline:`$lookup`, and then running a query in 
  the sub-pipeline using :pipeline:`$search`.
- The :ref:`search-with-unionwith-tutorial` tutorial demonstrates how 
  to search multiple collections using :pipeline:`$search` in the 
  :pipeline:`$unionWith` aggregation stage sub-pipeline.

.. toctree::
   :titlesonly:

   Run Queries Using Materialized Views </atlas-search/tutorial/query-materialized-views>
   Run $lookup With $search Queries </atlas-search/tutorial/lookup-with-search>
   Run $unionWith With $search Queries </atlas-search/tutorial/search-with-unionwith>

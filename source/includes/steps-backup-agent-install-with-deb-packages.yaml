title: "Login to |mms|."
stepnum: 1
ref: login
---
title: "Click :guilabel:`Deployment`, then :guilabel:`Agents`, and then :guilabel:`Downloads & Settings`."
stepnum: 2
ref: downloads-and-settings
---
title: "Select :guilabel:`Ubuntu<version> - DEB`."
stepnum: 3
ref: select-distribution
---
title: "Download the latest version of the Backup Agent package."
stepnum: 4
edition:
  - cloud
ref: download-saas
pre: |
  On a system shell, issue a ``curl`` command to download the ``deb``
  for the agent that works on your platform:
action:
  - heading: "For Ubuntu 15.04+ or 16.04+ on x64 architecture:"
    language: sh
    code: |
      curl -OL https://cloud.mongodb.com/download/agent/backup/mongodb-mms-backup-agent_latest_amd64.ubuntu1604.deb
  - heading: "For Ubuntu 16.X on PowerPC architecture:"
    language: sh
    code: |
      curl -OL https://cloud.mongodb.com/download/agent/backup/mongodb-mms-backup-agent_latest_ppc64e1.ubuntu1604.deb
  - heading: "For Ubuntu 14.04+ on x64 architecture:"
    language: sh
    code: |
      curl -OL https://cloud.mongodb.com/download/agent/backup/mongodb-mms-backup-agent_latest_amd64.deb
edition:
  - cloud
---
title: "Download the latest version of the Backup Agent package."
stepnum: 4
edition:
  - onprem
ref: download-hosted
pre: |
  On a system shell, issue a ``curl`` command to download the ``deb``
  for the agent that works on your platform:

  .. note::
     Replace ``<OpsManagerHost:Port>`` with the hostname and port of
     your |onprem| installation.

action:
  - heading: "For Ubuntu 15.04+ or 16.04+ on x64 architecture:"
    language: sh
    code: |
      curl -OL https://<OpsManagerHost:Port>/download/agent/backup/mongodb-mms-backup-agent_latest_amd64.ubuntu1604.deb
  - heading: "For Ubuntu 16.X on PowerPC architecture:"
    language: sh
    code: |
      curl -OL https://<OpsManagerHost:Port>/download/agent/backup/mongodb-mms-backup-agent_latest_ppc64e1.ubuntu1604.deb
  - heading: "For Ubuntu 14.04+ on x64 architecture:"
    language: sh
    code: |
      curl -OL https://<OpsManagerHost:Port>/download/agent/backup/mongodb-mms-backup-agent_latest_amd64.deb
edition:
  - onprem
---
title: "Install the Backup Agent package."
stepnum: 5
ref: install
pre: |
  To install the agent that works on your platform, issue the
  appropriate command to install the package:
action:
  - heading: "For Ubuntu 15.04+ or 16.04+ on x64 architecture:"
    language: sh
    code: |
      sudo dpkg -i mongodb-mms-backup-agent_latest_amd64.ubuntu1604.deb
  - heading: "For Ubuntu 14.04+ on x64 architecture:"
    language: sh
    code: |
      sudo dpkg -i mongodb-mms-backup-agent_latest_amd64.deb
  - heading: "For Ubuntu 14.04+ on x64 architecture:"
    language: sh
    code: |
      sudo dpkg -i mongodb-mms-backup-agent_latest_amd64.deb
---
title: "Edit the ``backup-agent.config`` file."
stepnum: 6
ref: configure
content: |
  Update the following configuration keys in the
  ``/etc/mongodb-mms/backup-agent.config`` file:
 
  .. list-table::
     :header-rows: 1
     :widths: 20 80

     * - Key
       - Change
     * - ``mmsGroupId``
       - Set to your ``ProjectID``.
     * - ``mmsApiKey``
       - Set to the project's :term:`agent API key`.
     * - ``mothership``
       - Set to the Backup Server |url| displayed in the modal.
---
stepnum: 7
source:
  file: steps-source-install-agent.yaml
  ref: proxy
replacement:
  agentname: "Backup"
  httpProxy: ":bsetting:`httpProxy`"
  configfile: "/etc/mongodb-mms/backup-agent.config"
---
title: "Start the Backup Agent."
stepnum: 8
ref: start
pre: |
  Issue the following command:
action:
  - heading: "For Ubuntu 15.X or later:"
    language: sh
    code: |
       sudo systemctl start mongodb-mms-backup-agent.service
  - heading: "For Ubuntu 14.04+ on x64 architecture:"
    language: sh
    code: |
      sudo start mongodb-mms-backup-agent
...

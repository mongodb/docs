======================================================
Configure LDAP Authentication Between Agents and Hosts
======================================================

.. default-domain:: mongodb

Overview
--------

LDAP is a standard protocol for accessing user credential data, and
MongoDB Enterprise provides an *LDAP (plain)* authentication mechanism
that allows clients to authenticate to MongoDB using LDAP.  Monitoring
Agents and Backup Agents support authenticating to MongoDB instances
using LDAP. This tutorial outlines procedures for configuring MMS
agents to use the LDAP authentication mechanisms to authenticate to
MongoDB deployments.

Considerations
--------------

You must configure LDAP authentication separately for the Monitoring
Agent and for the Backup Agent.

You can configure LDAP authentication when adding a host or syncing a
backup, or later by editing the host or the backup configuration.

Prerequisite
------------

The MongoDB deployment must run LDAP, and LDAP must include a user
that has the correct privileges for the Monitoring and Backup
agents. See :doc:`/reference/authentication` for more information.

Procedures
----------

Configure LDAP Authentication when Adding a Host
++++++++++++++++++++++++++++++++++++++++++++++++

.. include:: /includes/steps/add-host-enable-ldap

Configure LDAP Authentication on a Existing Host
++++++++++++++++++++++++++++++++++++++++++++++++

If |monitoring| is already configured for the host, configure LDAP
authentication using the following procedure:

.. include:: /includes/steps/enable-ldap

Configure LDAP Authentication when Initiating Backup
++++++++++++++++++++++++++++++++++++++++++++++++++++

Use this procedure to configure LDAP when activating backup and performing
an initial sync of a sharded cluster or replica set.

.. include:: /includes/steps/backup-activate-and-enable-ldap

Configure LDAP Authentication on a Existing Host
++++++++++++++++++++++++++++++++++++++++++++++++

If backup is already enabled for a sharded cluster or replica set,
configure LDAP authentication by doing the following:

.. include:: /includes/steps/backup-enable-ldap

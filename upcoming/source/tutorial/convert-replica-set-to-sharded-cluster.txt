.. _convert-replica-set-to-sharded-cluster:

==========================================
Convert a Replica Set to a Sharded Cluster
==========================================

.. meta::
   :description: Convert a replica set to a sharded cluster using Ops Manager by configuring cluster components and modifying application connections.

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

|mms| provides the ability to convert a :manual:`replica set </reference/glossary/#std-term-replica-set>` to
a :manual:`sharded cluster
</reference/glossary/#std-term-sharded-cluster>`.

.. note:: 

   You can't convert a replica set to a sharded cluster in a Kubernetes
   environment. 

.. include:: /includes/steps/convert-replica-set-to-sharded-cluster.rst

After you convert a replica set to a sharded cluster, you can enable
sharding for a database and shard collections.

To learn how to shard collections, see :manual:`Shard a Collection </tutorial/convert-replica-set-to-replicated-shard-cluster/#10.-shard-a-collection>`.

If you need to add additional shards to support greater capacity, click
on the wrench menu for the sharded cluster to create additional shards.

.. note:: Effects on Backup after Converting

   The converted shard (original replica set) has:

   - Backup enabled
   - Previous snapshots retained
   - Ability to restore snapshots to this shard only

   After converting, you should
   :doc:`enable Backup </tutorial/enable-backup>` for the entire
   sharded cluster. 

   If you enabled :ref:`deployment-regions-interface` for the replica
   set, you must select a deployment region for the new config server.
   Until you select a region, the sharded cluster is in
   :guilabel:`Misconfigured` state. To learn more, see
   :ref:`deployment-regions-assign`. 

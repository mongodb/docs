.. _stitch-sdk-tutorial:

======================================
Embed a Chart Authenticated with Realm
======================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. note::

   For the purposes of this tutorial, the names ``Realm`` and ``Stitch``
   are used interchangably. They both refer to the :stitch:`MongoDB platform
   as a service </>`.

:stitch:`MongoDB Realm </>` is a serverless platform that enables developers
to quickly build applications without having to set up server infrastructure.
Realm offers several authentication options, including `Google OAuth
<https://developers.google.com/identity/protocols/oauth2>`__, `Facebook Login
<https://developers.facebook.com/docs/facebook-login/>`__, and email/password.
You can use the authentication mechanism from a Realm app to control data
access for an embedded chart.

This tutorial shows you how to: 

- Enable authenticated embedding for a chart.
- Use the Embedding SDK to embed a chart authenticated by a custom
  :stitch:`Realm </>` provider.
- Use your Realm app to control the data in your embedded chart.

.. note::

   This tutorial does not cover creating a Realm app with authentication.
   See the :stitch:`Realm documentation </tutorials/>` for app creation
   tutorials.

Prerequisites
-------------

- You must be an |service|
  :atlas:`Project Owner </reference/user-roles/#project-roles>` to
  configure embedding authentication providers for your linked 
  |charts-short| instance.

- You must have a chart which uses your Realm app's backing database as
  its :ref:`data source <data-sources>`. For more information about creating
  a chart, see :ref:`Build Charts <build-charts>`.

Procedures
----------

Enable Authenticated Embedding for a Chart
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To embed an authenticated chart, see the 
**Authenticated Embedding** tab in :ref:`embedding-procedure`.

Configure |charts-short| to use your Custom Realm Provider
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/add-auth-stitch-tutorial.rst

Create a Web App to Display Your Chart
--------------------------------------

If you already have an app in which to display your chart, you're ready
to add an :ref:`embedded chart <embedding-charts-sdk>`.
If not, proceed with the remaining steps to create a new app.

MongoDB offers a pre-built example app that shows how to use the 
Embedding SDK to display an embedded chart using Realm authentication.

Clone the :gh:`GitHub repository
</mongodb-js/charts-embed-sdk/tree/master/examples/authenticated-realm>` and
follow the instructions in the ``Readme`` file to begin using the app. You can
run the app as-is, or you can customize it to use the chart you created
earlier.

.. note::

   The example app assumes that your Realm app uses email/password
   authentication. If your Realm app uses another authentication mechanism,
   the example app will require additional customization.

Customize the Node.js App
~~~~~~~~~~~~~~~~~~~~~~~~~

All the lines you need to edit are marked with a comment containing
``~REPLACE~``.

.. include:: /includes/steps/customize-realm-auth-app.rst

After you finish customizing the app, it's ready to run. 

.. _sql-getting-started:

===========
Get Started
===========

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/extracts/fact-adf-sql-preview-message.rst 

.. image:: /images/data-federation/atlas-sql-getting-started.png 
   :alt: MongoDB Atlas SQL setup diagram

This page guides you through setting up a {+fdi+} with 
sample data. You can then run SQL queries against the sample data using 
the MongoDB JDBC Driver.

Prerequisites
-------------

- A :ref:`MongoDB database user <mongodb-users>` with which 
  to connect.

Create a {+FDI+}
---------------------------------------

To create a {+fdi+} and map it to the sample data:

.. include:: /data-federation/query/sql/getting-started/create-fdi

To learn more about configuring {+adf+} with real data stores, see 
:ref:`config-adf`.

Install Client Software
-----------------------

Install the following client software to connect to and query your 
sample data with SQL.

DBeaver
~~~~~~~

DBeaver is a free, universal database tool. You can use it to 
explore your sample data in this tutorial.

Download and install 
`DBeaver (Community Edition) <https://dbeaver.io/download/>`__.

JDBC Driver
~~~~~~~~~~~

.. include:: /data-federation/query/sql/drivers/jdbc/download

Connect to Your {+FDI+}
--------------------------------------------

To connect to your {+fdi+} from DBeaver:

.. include:: /data-federation/query/sql/getting-started/connect-to-fdi

To learn more about the different methods you can use to connect to a 
{+fdi+}, see :ref:`sql-connect`.

Run SQL Queries
---------------

To run SQL queries in DBeaver:

.. procedure::
   :style:  normal

   .. step:: Expand your MongoDB connection. 

      The DBeaver :guilabel:`Database Navigator` displays your 
      virtual databases.

   .. step:: Open a SQL console.
     
      a. Right-click the virtual database you want to query.
      
      #. Select :guilabel:`SQL Editor`.

      #. Select :guilabel:`Open SQL console`.

         A new SQL console window opens connected to the virtual 
         database you selected.

   .. step:: Enter a SQL query in the console.

   .. step:: Click :guilabel:`Execute SQL Statement` to run your SQL query.
      
      If the query is successful, {+asql+} displays the results in a table 
      view below your query.

Example SQL Queries
~~~~~~~~~~~~~~~~~~~

Try running the following SQL queries against the sample data in 
your {+fdi+}. 

.. note::

   These examples reference data that we suggest that you add in this tutorial. If 
   you are using different data, modify these queries for your 
   namespaces.

SELECT Statement
~~~~~~~~~~~~~~~~

.. code-block:: sh
   :copyable: true
      
   SELECT * FROM Sessions

{+asql+} returns all documents from the ``Sessions`` collection.

LIMIT Statement
~~~~~~~~~~~~~~~

.. code-block:: sh
   :copyable: true
      
   SELECT * FROM Users LIMIT 2

{+asql+} returns two documents from the ``Users`` collection.

WHERE Statement
~~~~~~~~~~~~~~~

.. code-block:: sh
   :copyable: true
      
   SELECT * FROM Users WHERE name='Jon Snow'

{+asql+} returns documents from the ``Users`` collection where the user's ``name`` is ``Jon Snow``.

For an {+asql+} command reference, see :ref:`sql-reference`.

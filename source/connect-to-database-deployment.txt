.. _atlas-connect-to-deployment:

====================================
Connect to a {+Database-Deployment+}
====================================

.. default-domain:: mongodb

.. meta::
   :keywords: connect

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Considerations
--------------

.. include:: /includes/cluster-settings/node-type-topology-warning.rst

.. _optimized-connection-strings:

Improve Connection Performance for Sharded {+Clusters+} Behind a Private Endpoint 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/fact-optimized-connection-strings.rst

Prerequisites
-------------

.. include:: /includes/security/connection-prereq-access-list.rst

.. include:: /includes/fact-connection-prereq-user.rst

Open Ports 27015 to 27017 to Access |service| Databases
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/fact-open-network-ports.rst

.. _connect-to-database-deployment:

Connect to Your {+Database-Deployment+}
---------------------------------------

.. tabs::

   .. tab:: {+atlas-cli+}
      :tabid: atlascli

      Use the {+atlas-cli+} to retrieve your standard connection string.
      You can use the standard connection string to connect to a 
      {+database-deployment+} via your application, {+mongosh+}, or :compass:`Compass </>`.

      .. include:: /includes/extracts/atlas-clusters-connectionStrings-describe.rst

      .. note::

         You must add your username, database name, and, in some cases,
         your password to the standard connection string to
         successfully connect to |service|. See the following example to learn more.

      For example, if the {+atlas-cli+} returns the following connection string:

      .. code-block::

         mongodb+srv://mycluster.abcd1.mongodb.net

      Add your username and database name to the {+mongosh+} command to connect via {+mongosh+}:

      .. code-block::

         mongosh "mongodb+srv://mycluster.abcd1.mongodb.net/myFirstDatabase" --apiVersion 1 --username <username>

      {+mongosh+} prompts you for the password for the database user.

      For more information on connection strings, see
      :manual:`Connection Strings </reference/connection-string>`.

      To learn more about connecting via your application, see 
      :ref:`connect-via-driver`.

      To learn more about connecting via :compass:`Compass </>`, see 
      :ref:`atlas-connect-via-compass`.

      To learn more about connecting via VS Code, see 
      :ref:`mongodb-for-vscode`.

   .. tab:: {+atlas-ui+}
      :tabid: ui

      .. include:: /includes/steps/connect-to-database-deployment.rst

.. note::

   To connect using |mongodump| or |mongorestore|,
   use the :ref:`Command Line Tools <command-line-tools>` tab. The tab
   creates an auto-generated template for connecting to your |service|
   {+database-deployment+} with your preferred tool.

Troubleshooting
---------------

.. include:: /includes/fact-connection-troubleshooting.rst

.. seealso::

   - :doc:`/driver-connection`
   - :doc:`/compass-connection`
   - :doc:`/mongo-shell-connection`
   - :doc:`/bi-connection`
   - :doc:`Browse Data via the {+atlas-ui+} </atlas-ui>`
   - :doc:`/tutorial/test-failover-or-outage/test-failover`
   - :doc:`/manage-connections-aws-lambda`
   - :ref:`connection-limits`
   - :ref:`mongodb-for-vscode`

.. toctree::
   :titlesonly:

   /driver-connection
   /compass-connection
   /mongo-shell-connection
   /bi-connection
   Connect via Command Line Tools </command-line-tools>
   /mongodb-for-vscode

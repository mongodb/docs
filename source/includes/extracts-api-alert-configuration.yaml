ref: api-alert-configuration-elements
edition: cloud
content: |

   .. note:: 

      Alert configurations vary. An alert configuration may only
      include a subset of these elements.

   .. list-table::
      :widths: 10 10 80
      :header-rows: 1
      :stub-columns: 1

      * - Name
        - Type
        - Description

      * - created
        - date
        - When this alert configuration was created.

      * - enabled
        - boolean
        - Is this alert configuration enabled?

      * - eventTypeName
        - string
        - The type of event that triggers an alert.
          
          .. include:: /includes/extracts/possibleValues-api-eventTypeName.rst

      * - groupId
        - string
        - ID of the group that owns this alert configuration.

      * - id
        - string
        - Unique identifier.

      * - matchers.fieldName
        - string
        - The name of the field in the target object to match on.
          
          .. include:: /includes/possibleValues-api-matchers.fieldName.rst

      * - matchers.operator
        - string
        - The operator to test the field's value. Accepted values are:
          
          .. include:: /includes/possibleValues-api-matchers.operator.rst

      * - matchers.value
        - string
        - The value to test with the specified operator.
          
          .. include:: /includes/possibleValues-api-matchers.value.rst

      * - matchers
        - object array
        - Rules to apply when matching an object against this alert
          configuration. Only entities that match *all* these rules will
          be checked for an alert condition.
          You can filter using the **matchers** array only when the
            **eventTypeName** specifies an event for a host, replica set, 
            or sharded cluster.

      * - metricThreshold.metricName
        - string
        - The name of the metric to check. Supports the same values as 
          the **metricName** field of the **alerts** resource.

      * - metricThreshold.mode
        - string
        - This is set to ``AVERAGE`` and computes the current metric 
          value as an average.

      * - metricThreshold.operator
        - string
        - The operator to apply when checking the current metric value
          against the threshold value. Accepted values are:

          - ``GREATER_THAN``

          - ``LESS_THAN``

      * - metricThreshold.threshold
        - number
        - The threshold value outside of which an alert is triggered.

      * - metricThreshold.units
        - string
        - The units for the threshold value. Depends on the type of 
          metric. 
          
          .. example:: 

             A metric that measures memory consumption would have a 
             byte measurement, while a metric that measures time would 
             have a time unit.
          
          Accepted values are:
          
          .. include:: /includes/possibleValues-api-units.rst

      * - metricThreshold
        - object
        - The threshold that triggers an alert. Only present if 
          **eventTypeName** is set to ``OUTSIDE_METRIC_THRESHOLD``.

      * - notifications.apiToken
        - string
        - The Slack API token or Bot token. Only present for ``SLACK`` 
          notifications. If the token later becomes invalid, |mms| 
          sends an email to the group owner and eventually removes the 
          token.

      * - notifications.channelName
        - string
        - The Slack channel name. Only present for ``SLACK`` 
          notifications.

      * - notifications.datadogApiKey
        - string
        - DataDog API Key. Found in the DataDog dashboard. Only present 
          for notifications of type ``DATADOG``.

      * - notifications.delayMin
        - number
        - The number of minutes to wait after an alert condition is 
          detected before sending out the first notification.

      * - notifications.emailAddress
        - string
        - The email address to which to send notification. Only present 
          for notifications of type ``EMAIL``.

      * - notifications.emailEnabled
        - boolean
        - Should email notifications be sent? Only present for 
          notifications of type ``GROUP`` and ``USER``.

      * - notifications.flowdockApiToken
        - string
        - The Flowdock "personal API token." Only present for 
          ``FLOWDOCK`` notifications. If the token later becomes 
          invalid, |mms| sends an email to the group owner and 
          eventually removes the token.

      * - notifications.flowName
        - string
        - The flow name, in lower-case letters. Only present for 
          ``FLOWDOCK`` notifications. The flow name appears after the 
          organization name in the URL string:
          ``www.flowdock.com/app/<organization-name>/<flow-name>``.

      * - notifications.intervalMin
        - number
        - The number of minutes to wait between successive notifications 
          for unacknowledged alerts that are not resolved.

      * - notifications.mobileNumber
        - string
        - Mobile number to send SMS messages to. Only present for
          notifications of type ``SMS``.

      * - notifications.notificationToken
        - string
        - A HipChat API token. Only present for notifications of type 
          ``HIP_CHAT``. If the token later becomes invalid, |mms| sends 
          an email to the group owner and eventually removes the token.

      * - notifications.orgName
        - string
        - The Flowdock organization name in lower-case letters. This is 
          the name that appears after ``www.flowdock.com/app/`` in the 
          URL string. Only present for ``FLOWDOCK`` notifications.

      * - notifications.roomName
        - string
        - HipChat room name. Only present for notifications of type 
          ``HIP_CHAT``.

      * - notifications.serviceKey
        - string
        - PagerDuty service key. Only present for ``PAGER_DUTY`` 
          notifications. If the key later becomes invalid, |mms| sends 
          an email to the group owner and eventually removes the key.

      * - notifications.smsEnabled
        - boolean
        - Should SMS notifications be sent? Only present for 
          notifications of type ``GROUP`` and ``USER``.

      * - notifications.teamId
        - string
        - The unique identifier of a team.

      * - notifications.typeName
        - string
        - The type of alert notification. Accepted values are:
          
          .. include:: /includes/extracts/possibleValues-notification-typeName.rst

      * - notifications.username
        - string
        - The name of |a-mms| user to which to send notifications. Only
          a user in the group that owns the alert configuration is
          allowed here. Only present for notifications of type ``USER``.

      * - notifications
        - object array
        - Notifications to send when an alert condition is detected.

      * - threshold.operator
        - string
        - The operator to apply when checking the current metric value
          against the threshold value.

          - ``GREATER_THAN``

          - ``LESS_THAN``

      * - threshold.threshold
        - number
        - The threshold value outside of which an alert is triggered.

      * - threshold
        - object
        - The threshold that triggers an alert. Only presen
          if **eventTypeName** is set to one of the following:

          - ``TOO_FEW_HEALTHY_MEMBERS``

          - ``TOO_MANY_UNHEALTHY_MEMBERS``

      * - typeName
        - string
        - *This field is deprecated and is ignored.*

      * - updated
        - date
        - When this alert configuration was last updated.

---
ref: api-alert-configuration-elements
edition: onprem
content: |

   .. note:: 
      Alert configurations vary. An alert configuration may only
      include a subset of these elements.

   .. list-table::
      :widths: 10 10 80
      :header-rows: 1
      :stub-columns: 1

      * - Name
        - Type
        - Description

      * - created
        - date
        - When this alert configuration was created.

      * - enabled
        - boolean
        - Is this alert configuration enabled?

      * - eventTypeName
        - string
        - The type of event that triggers an alert.
          
          .. include:: /includes/extracts/possibleValues-api-eventTypeName.rst

      * - groupId
        - string
        - ID of the group that owns this alert configuration.

      * - id
        - string
        - Unique identifier.

      * - matchers.fieldName
        - string
        - The name of the field in the target object to match on.
          
          .. include:: /includes/possibleValues-api-matchers.fieldName.rst

      * - matchers.operator
        - string
        - The operator to test the field's value. Accepted values are:
          
          .. include:: /includes/possibleValues-api-matchers.operator.rst

      * - matchers.value
        - string
        - The value to test with the specified operator.
          
          .. include:: /includes/possibleValues-api-matchers.value.rst

      * - matchers
        - object array
        - Rules to apply when matching an object against this alert 
          configuration. Only entities that match *all* these rules are 
          checked for an alert condition.

          You can filter using the ``matchers`` array only when the
          **eventTypeName** specifies an event for a host, replica set, 
          or sharded cluster.

      * - metricThreshold.metricName
        - string
        - The name of the metric to check. Supports the same values as 
          the **metricName** field of the **alerts** resource.

      * - metricThreshold.mode
        - string
        - This is set to ``AVERAGE`` and computes the current metric 
          value as an average.

      * - metricThreshold.operator
        - string
        - The operator to apply when checking the current metric value
          against the threshold value. Accepted values are:

          - ``GREATER_THAN``

          - ``LESS_THAN``

      * - metricThreshold.threshold
        - number
        - The threshold value outside of which an alert is triggered.

      * - metricThreshold.units
        - string
        - The units for the threshold value. Depends on the type of 
          metric. 
          
          .. example:: 

             A metric that measures memory consumption would have a 
             byte measurement, while a metric that measures time would 
             have a time unit.
          
          Accepted values are:
          
          .. include:: /includes/possibleValues-api-units.rst

      * - metricThreshold
        - object
        - The threshold that will cause an alert to be triggered. Only 
          present if **eventTypeName** is set to 
          ``OUTSIDE_METRIC_THRESHOLD``.

      * - notifications.apiToken
        - string
        - The Slack API token or Bot token. Only present for ``SLACK``
          notifications. If the token later becomes invalid, |mms| sends
          an email to the group owner and eventually removes the token.

      * - notifications.channelName
        - string
        - The Slack channel name. Only present for ``SLACK`` 
          notifications.

      * - notifications.datadogApiKey
        - string
        - DataDog API Key. Found in the DataDog dashboard. Only present 
          for notifications of type ``DATADOG``.

      * - notifications.delayMin
        - number
        - The number of minutes to wait after an alert condition is 
          detected before sending out the first notification.

      * - notifications.emailAddress
        - string
        - The email address to which to send notification. Only present 
          for notifications of type ``EMAIL``.

      * - notifications.emailEnabled
        - boolean
        - Should email notifications be sent? Only present for 
          notifications of type ``GROUP`` and ``USER``.

      * - notifications.flowdockApiToken
        - string
        - The Flowdock "personal API token." Only present for 
          ``FLOWDOCK`` notifications. If the token later becomes 
          invalid, |mms| sends an email to the group owner and 
          eventually removes the token.

      * - notifications.flowName
        - string
        - The flow name, in lower-case letters. Only present for
          ``FLOWDOCK`` notifications. The flow name appears after the
          organization name in the URL string:
          ``www.flowdock.com/app/<organization-name>/<flow-name>``.

      * - notifications.intervalMin
        - number
        - The number of minutes to wait between successive notifications 
          for unacknowledged alerts that are not resolved.

      * - notifications.notificationToken
        - string
        - A HipChat API token. Only present for notifications of type 
          ``HIP_CHAT``. If the token later becomes invalid, |mms| sends 
          an email to the group owner and eventually removes the token.

      * - notifications.orgName
        - string
        - The Flowdock organization name in lower-case letters. This is
          the name that appears after ``www.flowdock.com/app/`` in the
          URL string. Only present for ``FLOWDOCK`` notifications.

      * - notifications.roomName
        - string
        - HipChat room name. Only present for notifications of type 
          ``HIP_CHAT``.

      * - notifications.serviceKey
        - string
        - PagerDuty service key. Only present for ``PAGER_DUTY`` 
          notifications. If the key later becomes invalid, |mms| sends 
          an email to the group owner and eventually removes the key.

      * - notifications.smsEnabled
        - boolean
        - Should SMS notifications be sent? Only present for 
          notifications of type ``GROUP`` and ``USER``.

      * - notifications.snmpAddress
        - string
        - Hostname and port to send SNMP traps to. At this time
          |onprem| is only able to send SNMP traps to the standard SNMP
          port (162). Only present for ``SNMP`` notifications. |onprem|
          uses SNMP v2c.

      * - notifications.typeName
        - string
        - The type of alert notification. Accepted values are:
          
          .. include:: /includes/extracts/possibleValues-notification-typeName.rst

      * - notifications.username
        - string
        - The name of |a-mms| user to which to send notifications. Only
          a user in the group that owns the alert configuration is
          allowed here. Only present for notifications of type ``USER``.

      * - notifications
        - object array
        - Notifications to send when an alert condition is detected.

      * - threshold.operator
        - string
        - The operator to apply when checking the current metric value
          against the threshold value.

          - ``GREATER_THAN``

          - ``LESS_THAN``

      * - threshold.threshold
        - number
        - The threshold value outside of which an alert is triggered.

      * - threshold
        - object
        - The threshold that will cause an alert to be triggered. Only
          present if **eventTypeName** is set to one of the following:

          - ``TOO_FEW_HEALTHY_MEMBERS``

          - ``TOO_MANY_UNHEALTHY_MEMBERS``

      * - typeName
        - string
        - *This field is deprecated and are ignored.*

      * - updated
        - date
        - When this alert configuration was last updated.

---
ref: api-alert-configuration-create
edition: cloud
content: |

   .. note:: 
      Alert configurations vary. An alert configuration may only
      include a subset of these elements.
      
   .. list-table::
      :widths: 10 10 80
      :header-rows: 1
      :stub-columns: 1

      * - Name
        - Type
        - Description

      * - enabled
        - boolean
        - If omitted, the configuration is disabled.

      * - eventTypeName
        - string
        - Required. The type of event that triggers an alert.
          
          .. include:: /includes/extracts/possibleValues-api-eventTypeName.rst

      * - matchers.fieldName
        - string
        - The name of the field in the target object to match on.
          
          .. include:: /includes/possibleValues-api-matchers.fieldName.rst

      * - matchers.operator
        - string
        - The operator to test the field's value. Accepted values are:
          
          .. include:: /includes/possibleValues-api-matchers.operator.rst

      * - matchers.value
        - string
        - The value to test with the specified operator.
          
          .. include:: /includes/possibleValues-api-matchers.value.rst

      * - matchers
        - object array
        - Rules to apply when matching an object against this alert 
          configuration. Only entities that match *all* these rules are 
          checked for an alert condition.

          You can filter using the ``matchers`` array only when the
          **eventTypeName** specifies an event for a host, replica set, 
          or sharded cluster.

      * - metricThreshold.metricName
        - string
        - The name of the metric to check. Supports the same values as 
          the **metricName** field of the **alerts** resource.

      * - metricThreshold.mode
        - string
        - Set to ``AVERAGE`` to compute the current metric value as an 
          average.

      * - metricThreshold.operator
        - string
        - The operator to apply when checking the current metric value
          against the threshold value. Accepted values are:

          - ``GREATER_THAN``

          - ``LESS_THAN``

      * - metricThreshold.threshold
        - number
        - The threshold value outside of which an alert is triggered.

      * - metricThreshold.units
        - string
        - The units for the threshold value. Depends on the type of 
          metric. 
          
          .. example:: 

             A metric that measures memory consumption would have a 
             byte measurement, while a metric that measures time would 
             have a time unit.
          
          Accepted values are:
          
          .. include:: /includes/possibleValues-api-units.rst

      * - metricThreshold
        - object
        - The threshold that will cause an alert to be triggered.
          Required if **eventTypeName** is ``OUTSIDE_METRIC_THRESHOLD``.

      * - notifications.apiToken
        - string
        - The Slack API token or Bot token. For ``SLACK`` notifications.
          If the token later becomes invalid, |mms| sends an email to 
          the group owner and eventually removes the token.

      * - notifications.channelName
        - string
        - The Slack channel name. For ``SLACK`` notifications.

      * - notifications.datadogApiKey
        - string
        - DataDog API Key. Found in the DataDog dashboard. Only present 
          for notifications of type ``DATADOG``.

      * - notifications.delayMin
        - number
        - The number of minutes to wait after an alert condition is 
          detected before sending out the first notification.

      * - notifications.emailAddress
        - string
        - The email address to which to send notification. For
          notifications of type ``EMAIL``.

      * - notifications.emailEnabled
        - boolean
        - Determines if email notifications should be sent. For 
          notifications of type ``GROUP`` and ``USER``.

      * - notifications.flowdockApiToken
        - string
        - The Flowdock "personal API token." For ``FLOWDOCK``
          notifications. If the token later becomes invalid, |mms| sends 
          an email to the group owner and eventually removes the token.

      * - notifications.flowName
        - string
        - The flow name, in lower-case letters. For ``FLOWDOCK``
          notifications. The flow name appears after the organization 
          name in the URL string:
          ``www.flowdock.com/app/<organization-name>/<flow-name>``.

      * - notifications.intervalMin
        - number
        - The number of minutes to wait between successive notifications 
          for unacknowledged alerts that are not resolved.

      * - notifications.mobileNumber
        - string
        - Mobile number to send SMS messages to. For
          notifications of type ``SMS``.

      * - notifications.notificationToken
        - string
        - A HipChat API token. For notifications of type ``HIP_CHAT``.
          If the token later becomes invalid, |mms| sends an email to 
          the group owner and eventually removes the token.

      * - notifications.orgName
        - string
        - The Flowdock organization name in lower-case letters. This is 
          the name that appears after ``www.flowdock.com/app/`` in the 
          URL string. For ``FLOWDOCK`` notifications.

      * - notifications.roomName
        - string
        - HipChat room name. For notifications of type ``HIP_CHAT``.

      * - notifications.serviceKey
        - string
        - PagerDuty service key.

      * - notifications.smsEnabled
        - boolean
        - Determines if SMS notifications should be sent. For 
          notifications of type ``GROUP`` and ``USER``.

      * - notifications.teamId
        - string
        - The unique identifier of a team.

      * - notifications.typeName
        - string
        - The type of alert notification. Accepted values are:
          
          .. include:: /includes/extracts/possibleValues-notification-typeName.rst

      * - notifications.username
        - string
        - The name of |a-mms| user to which to send notifications. 
          Specify a user in the group that owns the alert configuration. 
          For notifications of type ``USER``.

      * - notifications
        - object array
        - Required. Notifications to send when an alert condition is 
          detected.

      * - threshold.operator
        - string
        - The operator to apply when checking the current metric value
          against the threshold value.

          - ``GREATER_THAN``

          - ``LESS_THAN``

      * - threshold.threshold
        - number
        - The threshold value outside of which an alert is triggered.

      * - threshold
        - object
        - The threshold that will cause an alert to be triggered.
          Required if **eventTypeName** is set to one of the following:

          - ``TOO_FEW_HEALTHY_MEMBERS``

          - ``TOO_MANY_UNHEALTHY_MEMBERS``

---
ref: api-alert-configuration-create
edition: onprem
content: |

   .. note:: 
      Alert configurations vary. An alert configuration may only
      include a subset of these elements.

   .. list-table::
      :widths: 10 10 80
      :header-rows: 1
      :stub-columns: 1

      * - Name
        - Type
        - Description

      * - enabled
        - boolean
        - If omitted, the configuration is disabled.

      * - eventTypeName
        - string
        - Required. The type of event that triggers an alert.
          
          .. include:: /includes/extracts/possibleValues-api-eventTypeName.rst

      * - matchers.fieldName
        - string
        - The name of the field in the target object to match on.
          
          .. include:: /includes/possibleValues-api-matchers.fieldName.rst

      * - matchers.operator
        - string
        - The operator to test the field's value. Accepted values are:
          
          .. include:: /includes/possibleValues-api-matchers.operator.rst

      * - matchers.value
        - string
        - The value to test with the specified operator.
          
          .. include:: /includes/possibleValues-api-matchers.value.rst

      * - matchers
        - object array
        - Rules to apply when matching an object against this alert 
          configuration. Only entities that match *all* these rules are 
          checked for an alert condition.

          You can filter using the ``matchers`` array only when the
          **eventTypeName** specifies an event for a host, replica set, 
          or sharded cluster.

      * - metricThreshold.metricName
        - string
        - The name of the metric to check. Supports the same values as 
          the **metricName** field of the **alerts** resource.

      * - metricThreshold.mode
        - string
        - Set to ``AVERAGE`` to compute the current metric value as an 
          average.

      * - metricThreshold.operator
        - string
        - The operator to apply when checking the current metric value
          against the threshold value. Accepted values are:

          - ``GREATER_THAN``

          - ``LESS_THAN``

      * - metricThreshold.threshold
        - number
        - The threshold value outside of which an alert is triggered.

      * - metricThreshold.units
        - string
        - The units for the threshold value. Depends on the type of 
          metric. 
          
          .. example:: 

             A metric that measures memory consumption would have a 
             byte measurement, while a metric that measures time would 
             have a time unit.
          
          Accepted values are:
          
          .. include:: /includes/possibleValues-api-units.rst

      * - metricThreshold
        - object
        - The threshold that will cause an alert to be triggered. 
          Required if **eventTypeName** is set to 
          ``OUTSIDE_METRIC_THRESHOLD``.

      * - notifications.apiToken
        - string
        - The Slack API token or Bot token. For ``SLACK`` notifications.
          If the token later becomes invalid, |mms| sends an email to 
          the group owner and eventually removes the token.

      * - notifications.channelName
        - string
        - The Slack channel name.For ``SLACK`` notifications.

      * - notifications.datadogApiKey
        - string
        - DataDog API Key. Found in the DataDog dashboard. Only present 
          for notifications of type ``DATADOG``.

      * - notifications.delayMin
        - number
        - The number of minutes to wait after an alert condition is 
          detected before sending out the first notification.

      * - notifications.emailAddress
        - string
        - The email address to which to send notification. For
          notifications of type ``EMAIL``.

      * - notifications.emailEnabled
        - boolean
        - Determines if email notifications should be sent. For 
          notifications of type ``GROUP`` and ``USER``.

      * - notifications.flowdockApiToken
        - string
        - The Flowdock "personal API token." For ``FLOWDOCK``
          notifications. If the token later becomes invalid, |mms| sends 
          an email to the group owner and eventually removes the token.

      * - notifications.flowName
        - string
        - The flow name, in lower-case letters.For ``FLOWDOCK``
          notifications. The flow name appears after the organization 
          name in the URL string:
          ``www.flowdock.com/app/<organization-name>/<flow-name>``.

      * - notifications.intervalMin
        - number
        - The number of minutes to wait between successive notifications 
          for unacknowledged alerts that are not resolved.

      * - notifications.notificationToken
        - string
        - A HipChat API token. For notifications of type ``HIP_CHAT``.
          If the token later becomes invalid, |mms| sends an email to 
          the group owner and eventually removes the token.

      * - notifications.orgName
        - string
        - The Flowdock organization name in lower-case letters. This is 
          the name that appears after ``www.flowdock.com/app/`` in the 
          URL string. For ``FLOWDOCK`` notifications.

      * - notifications.roomName
        - string
        - HipChat room name. For notifications of type ``HIP_CHAT``.

      * - notifications.serviceKey
        - string
        - PagerDuty service key. For ``PAGER_DUTY`` notifications.
          If the key later becomes invalid, |mms| sends an email to the 
          group owner and eventually removes the key.

      * - notifications.smsEnabled
        - boolean
        - Determines if SMS notifications should be sent. For 
          notifications of type ``GROUP`` and ``USER``.

      * - notifications.snmpAddress
        - string
        - Hostname and port to send SNMP traps to. At this time
          |onprem| is only able to send SNMP traps to the standard SNMP
          port (162). For ``SNMP`` notifications. |onprem|
          uses SNMP v2c.

      * - notifications.typeName
        - string
        - The type of alert notification. Accepted values are:
          
          .. include:: /includes/extracts/possibleValues-notification-typeName.rst

      * - notifications.username
        - string
        - The name of |a-mms| user to which to send notifications. 
          Specify a user in the group that owns the alert configuration. 
          For notifications of type ``USER``.

      * - notifications
        - object array
        - Required. Notifications to send when an alert condition is 
          detected.

      * - threshold.operator
        - string
        - The operator to apply when checking the current metric value
          against the threshold value.

          - ``GREATER_THAN``

          - ``LESS_THAN``

      * - threshold.threshold
        - number
        - The threshold value outside of which an alert is triggered.

      * - threshold
        - object
        - The threshold that will cause an alert to be triggered.
          Required if **eventTypeName** is set to one of the following:

          - ``TOO_FEW_HEALTHY_MEMBERS``

          - ``TOO_MANY_UNHEALTHY_MEMBERS``

...

title: "Increase each server's default ``ulimit`` settings."
stepnum: 1
ref: ulimits
pre: |
  First, check whether the ``/etc/security/limits.d`` directory contains
  the ``90-nproc.conf`` file. If the file exists, remove it. The
  ``90-nproc.conf`` file overrides ``limits.conf``. Issue the following
  command to remove the file:
action:
  language: sh
  code: |
    sudo rm /etc/security/limits.d/90-nproc.conf
# Note: Per Cory, users no longer need to edit /etc/security/limits.conf.
# They only need remove 90-nproc.conf.
---
title: Install MongoDB on each server.
stepnum: 2
ref: install-mongodb
action:
  - pre: |
      First, set up a repository definition by issuing the following command:
    language: sh
    code: |
      echo "[MongoDB]
      name=MongoDB Repository
      baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/x86_64
      gpgcheck=0
      enabled=1" | sudo tee -a /etc/yum.repos.d/mongodb.repo
  - pre: |
      Second, install MongoDB by issuing the following command:
    language: sh
    code: |
      sudo yum install -y mongodb-org mongodb-org-shell
...

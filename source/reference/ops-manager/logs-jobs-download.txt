.. _mcli-om-logs-jobs-download-cmd:

=======================================
mongocli ops-manager logs jobs download
=======================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``logs jobs download`` command downloads logs collected from a log 
collection job on the specified |onprem| project to a ``.tar.gz`` file. 
You can also download logs collected from an |mms| project through the 
|mms|
:opsmgr:`API </reference/api/log-collections/log-collections-download-job/>`.

You can download logs from both successful and failed log collection 
jobs. If the job failed, all successful components are downloaded.

.. _om-logs-jobs-download-syntax:

Syntax
------

.. code-block:: text

   mongocli ops-manager|om logs|log jobs|job download <log-collection-job-id>
        [ --out <file-destination> ]
        [ --projectId <id-of-project> ]
        [ --profile|-P <profile-name> ]

.. _om-logs-jobs-download-options:

Options 
-------

.. list-table:: 
   :header-rows: 1 
   :widths: 35 10 50 5

   * - Option 
     - Type 
     - Description 
     - Required?

   * - ``<log-collection-job-id>``
     - string
     - Unique identifier of the log collection job from which to 
       download logs.

       You can retrieve a list of log collection jobs for a project 
       with the ``mongocli logs jobs list`` command.
     - yes

   * - ``--out, -o``
     - string
     - Output filename or path to filename. If omitted, logs are 
       downloaded to your current directory as ``<log-name>.tar.gz``.
     - no

   * - ``--profile``, ``-P``
     - string
     - Name of the profile where the public and private 
       keys for the project are saved. If omitted, uses the ``default`` 
       profile. To learn more about creating a 
       profile, see :ref:`mcli-configure`.
     - no

   * - ``--projectId``
     - string
     - Unique identifier of the project containing the log collection 
       job you want to download.

       .. include:: /includes/admonitions/note-get-project-id.rst
     - no

.. _om-logs-jobs-download-output:

Output
------

The command downloads the logs of the specified log collection job to:

- The current directory as a file named ``<log-name>.tar.gz``, or 

- A directory and filename you specify with the ``--out`` option.

If the command returns an error,
see :ref:`Troubleshooting <troubleshooting>` for recommended solutions.

Example
-------

The following example uses the 
``mongocli ops-manager logs jobs download`` command to download the 
logs from log collection job ``5ec1cac4ac1a63007120b4ef``. The command
uses the {+default-profile+} where the project ID 
and the |svc-api-key|\s are stored.

.. code-block:: json

   mongocli ops-manager logs jobs download 5ec1cac4ac1a63007120b4ef --out myLogs

The previous command downloads the log file ``myLogs.tar.gz`` to the 
current directory.

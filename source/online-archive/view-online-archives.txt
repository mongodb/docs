.. _view-online-archive:

================================
View the List of Online Archives
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/fact-online-archive-beta-message.rst

You can view the list of online archives for a cluster through the 
|service| UI and |api|. 

.. _view-online-archive-ui:

View List of Online Archives Using the UI 
-----------------------------------------

To view the list of Online Archives:

.. include:: /includes/steps/view-online-archive.rst

The page displays the online archives for the cluster. For each 
online archive, you can see the following information: 

.. list-table:: 
   :header-rows: 1
   :widths: 30 70 

   * - Column Name 
     - Description

   * - :guilabel:`Archive Field` 
     - The date field based on which documents are archived. 

   * - :guilabel:`Archive Last Updated` 
     - The date when the archive was last modified.

   * - :guilabel:`Age Limit` 
     - The number of days used to qualify documents for archiving.

   * - :guilabel:`Partition Fields` 
     - The other commonly used query fields used for partitioning data on 
       the cloud object storage.

   * - :guilabel:`Status`
     - The status of the :guilabel:`Online Archive`. Value can be one of the 
       following: 

       - Pending - Indicates documents are queued for archive, but archiving 
         has not yet started. In this state, documents queued for archiving are 
         still on your active |service| cluster, but cannot be modified.
       - Active - Indicates archiving has started. In this state, the documents 
         that meet the criteria for archiving are archived or are being 
         archived. 
       - Paused - Indicates archiving has been temporarily stopped. In this 
         state, previously archived documents continue to be available on the 
         cloud object storage, but the specified archiving operation on active 
         cluster is put on hold. You can resume archiving for paused archives 
         at any time.
       - Orphaned - Indicates collection associated with an active or paused 
         online archive was deleted. |service| will not automatically delete the archived data. You must manually delete the online archives associated with the deleted collection.
       - Deleted - Indicates online archive was deleted. When you delete an 
         online archive, associated archived documents are removed from the 
         cloud object storage.

   * - :guilabel:`Actions` 
     - The operations that you can perform on the :guilabel:`Online Archive`.

.. _view-online-archive-api:

Retrieve an Online Archive Using the API 
----------------------------------------

To retrieve an online archive through the |api|, send a ``GET`` request to 
the :ref:`onlineArchives <api-online-archive>` endpoint with the unique 
ID of the online archive to retrieve. To learn more about the |api| syntax 
and options, see :ref:`api-online-archive-get-one`.

.. _view-online-archives-get-api:

Retrieve All Online Archives for a Cluster Using the API 
--------------------------------------------------------

To retrieve all the online archives configured for a cluster using the |api|, 
send a ``GET`` request to the :ref:`onlineArchives <api-online-archive>` endpoint 
for the cluster. To learn more about the syntax and options, see 
:ref:`api-online-archive-get-all-for-clstr`.

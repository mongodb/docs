===
FAQ
===

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Can I bring an existing MongoDB deployment into |service-fullname| for management?
----------------------------------------------------------------------------------

No. However, you can upload data from existing MongoDB deployment into
an |service| cluster, e.g. via :program:`mongodump <bin.mongodump>` and
:program:`mongorestore <bin.mongorestore>`.

For example, you can use :program:`mongodump <bin.mongodump>` and
:program:`mongorestore <bin.mongorestore>` to stream data over a
network device via a pipe to upload data from an existing deployment to
an |service| cluster:

.. code-block:: sh

   mongodump --host <hostSource> --archive --ssl -u <user2> -p <pwd2> --authenticationDatabase <authdb> |  mongorestore --host <hostDestination> --ssl -u <user2> -p <pwd2> --authenticationDatabase admin --archive

- If the host is a replica set, specify the replica set name and the
  host of the members; i.e.
  ``<replicaSetName>/<host1:port1>,<host2:port2>,<host3:port3>``.

- Add/edit the :program:`mongodump <bin.mongodump>` command line
  options as appropriate for your deployment.

Considerations
   - :program:`mongodump` excludes the content of the ``local`` database in its output.

   - :program:`mongodump` does not include index data in its output.

   - If you are performing a switch-over from a non-|service|
     deployment to an |service| cluster, you should consider your
     downtime tolerance and the required state of the data (e.g. being
     fully up to date) at the time of the switch-over.

   - If the data must be fully in sync with the non-|service|
     deployment before switching over, after uploading via
     :program:`mongorestore`, additional steps must be taken to bring
     the |service| cluster in sync with an existing cluster.

You can also write scripts using official MongoDB supported drivers to
upload data.

Which versions of MongoDB does |service| use for the clusters?
--------------------------------------------------------------

.. include:: /includes/fact-mongodb-version.rst

.. include:: /includes/note-enterprise-not-supported.rst

Can I migrate between regions?
------------------------------

You cannot migrate between regions automatically; however, you can
create different |service| groups that are associated with different
regions and perform manual migration.

Do you support cross-region deployments?
----------------------------------------

No. However, |service| continues to evaluate various deployment
strategies that ensure that a cluster deployment spans at least three
availability zones, including potentially the use of cross-region
deployments of clusters.

Until that time, if a cluster must span multiple regions, see MongoDB
Cloud Manager.

Will you support more regions in the future?
--------------------------------------------

|service| continues to evaluate various strategies that ensure that a
cluster deployment spans at least three availability zones, including
the use of new regions, infrastructure, and deployment strategies.

Until that time, if a cluster must exist in non-supported regions, see
MongoDB Cloud Manager.

Do you handle OS patches?
-------------------------

Yes. |service| will automatically and transparently upgrade the OS
patches in a rolling fashion to maintain cluster availability.

How can I pay for |service-fullname| without a credit card?
-----------------------------------------------------------

For alternative ways of purchasing |service|, please `contact MongoDB
Inc. <https://www.mongodb.com/contact?jmp=docs>`_.

Can I specify my own VPC for my |service-fullname| group?
---------------------------------------------------------

No. An |service| group, and its clusters, are associated with a
region-specific Virtual Private Cloud (VPC).

To use a different VPC (e.g. on the customer's own cloud infrastructure
accounts), then the customer would need to use MongoDB Cloud Manager or
Ops Manager.

|service-fullname| or Cloud Manager?
------------------------------------

|service| offers a managed experience, but without all of the
configurations and infrastructure flexibility that some MongoDB users
require. For example, you cannot configure which version of MongoDB to
use, which storage engine; nor can you customize the configuration for
the replica set or sharded cluster.

MongoDB Cloud Manager offers users more control, exposing numerous
MongoDB configuration options such as MongoDB version, storage engine,
startup paramaters, access control options, etc, and the ability to
manage MongoDB on the infrastructure of your choice. MongoDB Cloud
Manager is better suited for advanced operations users who require this
higher level of control, but Cloud Manager requires users to manage the
full lifecycle of their infrastructure.

.. _cm-create-atlas-group:

As an existing |mms-full| account holder, how do I create a new |service-fullname| group?
-----------------------------------------------------------------------------------------

.. include:: /includes/extracts/add-atlas-group-cm-version.rst

The :guilabel:`Create a New Group` screen provides you the choice to
create either an |service| group or a |mms| group. Select
:guilabel:`MongoDB Atlas` to create a new |service| group and switch to
the :guilabel:`Clusters` view in |service|. To add clusters to the new
group, continue to :doc:`/create-new-cluster`.

.. _how-do-i-remove-my-company-group:

How do I remove a my group?
---------------------------

You can remove a group if:

- You have the Owner role for the group.

- The group has no outstanding invoices.

- The group has no active clusters.

To remove a group, go to :guilabel:`Settings`,
:guilabel:`Billing/Subscriptions` and click the :guilabel:`Close Group
<groupName>` link.

.. _can-i-pause-or-stop-cluster:

Can I pause or stop my |service| clusters?
------------------------------------------

No. You can only create and terminate |service| clusters.

.. _how-do-i-modify-my-alert-settings:

How do I modify alerts?
-----------------------

To modify an existing alert settings, go to :guilabel:`Alerts` and
select :guilabel:`Alert Settings`. Click the ellipsis ``...`` to modify
(edit, clone, disable, delete) the setting for an active Alerts.

Does MongoDB |service| expose the oplog?
----------------------------------------

Yes. To access the :term:`oplog`, a database user must have read access on the
``local`` database. To create a user with read access on ``local``:

1. Click :guilabel:`Clusters`, then :guilabel:`Security`.

2. Click :guilabel:`Add New User` and enter a user name. For example, "oploguser".

3. Click :guilabel:`Show Advanced Options` and select the ``read`` role and
   the ``local`` database. This restricts the user to read operations on the
   ``local`` database.

4. Enter a password and click :guilabel:`Add User`.

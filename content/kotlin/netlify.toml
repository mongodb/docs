[build]
publish = "dist"
base = "content/kotlin"

[build.environment]
REPO_NAME = "docs-kotlin"
SECRETS_SCAN_ENABLED = "false"
MUT_COMMANDS_ENABLED = "false"

[context.production.environment]
ENV = "dotcomprd"

[context.preprd.environment]
ENV = "dotcomstg"

[context.deploy-preview.environment]
ENV = "prd"

[context.branch-deploy.environment]
ENV = "prd"

[context.preview-server.environment]
ENV = "prd"

[context.dev.environment]
ENV = "stg"


### OFFLINE REDIRECTS
### ALIAS REDIRECTS
### PAGE-SPECIFIC REDIRECTS
### WILDCARD REDIRECTS
### CATCH ALLS
## redirects any pages not at any of the active versions to current (makes eols technically unnecessary)


### OFFLINE REDIRECTS 
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v4.11/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v4.10/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"


### ALIAS REDIRECTS
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/master/*"
to = "/docs/drivers/kotlin/coroutine/upcoming/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.6/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"
status = 302


### PAGE-LEVEL REDIRECTS


### WILDCARD REDIRECTS
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/change-a-document/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/modify/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/quick-start/"
to = "/docs/drivers/kotlin/coroutine/:version/getting-started/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/whats-new/"
to = "/docs/drivers/kotlin/coroutine/:version/reference/release-notes"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/migrate-kmongo/"
to = "/docs/drivers/kotlin/coroutine/:version/reference/migrate-kmongo/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/compatibility/"
to = "https://www.mongodb.com/docs/drivers/compatibility/?driver-language=kotlin&kotlin-driver-framework=kotlin-async"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/connection-guide/*"
to = "/docs/drivers/kotlin/coroutine/:version/connect/:splat"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/connection/connect/"
to = "/docs/drivers/kotlin/coroutine/:version/connect/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/connection/csot/"
to = "/docs/drivers/kotlin/coroutine/:version/connect/connection-options/csot/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/connection/network-compression/"
to = "/docs/drivers/kotlin/coroutine/:version/connect/connection-options/network-compression/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/crud/query-document/"
to = "/docs/drivers/kotlin/coroutine/:version/crud/query-document/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/crud/usage-examples/count/"
to = "/docs/drivers/kotlin/coroutine/:version/crud/read-operations/count/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/crud/usage-examples/command/"
to = "/docs/drivers/kotlin/coroutine/:version/command/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/crud/write-operations/modify/"
to = "/docs/drivers/kotlin/coroutine/:version/crud/update/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/builders/vector-search/"
to = "/docs/drivers/kotlin/coroutine/:version/vector-search/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/logging/"
to = "/docs/drivers/kotlin/coroutine/:version/logging-monitoring/logging/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/monitoring/"
to = "/docs/drivers/kotlin/coroutine/:version/logging-monitoring/monitoring/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/read-operations/change-streams/"
to = "/docs/drivers/kotlin/coroutine/:version/logging-monitoring/change-streams/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/time-series/"
to = "/docs/drivers/kotlin/coroutine/:version/data-formats/time-series/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/collations/"
to = "/docs/drivers/kotlin/coroutine/:version/data-formats/collations/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/connection/tls/"
to = "/docs/drivers/kotlin/coroutine/:version/security/tls/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/connection/socks5/"
to = "/docs/drivers/kotlin/coroutine/:version/security/socks5/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/auth/"
to = "/docs/drivers/kotlin/coroutine/:version/security/auth/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/enterprise-auth/"
to = "/docs/drivers/kotlin/coroutine/:version/security/auth/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/encrypt-fields/"
to = "/docs/drivers/kotlin/coroutine/:version/security/encrypt-fields/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/stable-api/"
to = "/docs/drivers/kotlin/coroutine/:version/connect/connection-options/stable-api/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/databases-collections/"
to = "/docs/drivers/kotlin/coroutine/:version/databases-collections/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/connection-troubleshooting/"
to = "/docs/drivers/kotlin/coroutine/:version/connect/connection-troubleshooting/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/validate-signatures/"
to = "/docs/drivers/kotlin/coroutine/:version/security/validate-signatures/"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/*"
to = "/docs/drivers/kotlin/coroutine/:version/crud/:splat"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/builders/*"
to = "/docs/drivers/kotlin/coroutine/:version/builders/:splat"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/*"
to = "/docs/drivers/kotlin/coroutine/:version/crud/:splat"

[[redirects]] 
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/data-formats/*"
to = "/docs/drivers/kotlin/coroutine/:version/data-formats/:splat"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/usage-examples/insert-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/usage-examples/insertOne/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/usage-examples/delete-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/usage-examples/deleteOne/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/data-formats/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/data-formats/document-data-format-data-class/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/read-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/read-operations/retrieve/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/insert/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/read-operations/retrieve/"

[[redirects]]
from = "/docs/languages/kotlin/kotlin-sync-driver/:version/compatibility/"
to = "/docs/drivers/compatibility/?driver-language=kotlin&kotlin-driver-framework=kotlin-sync"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/usage-examples/command/"
to = "/docs/drivers/kotlin/coroutine/:version/command/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/aggregation/"
to = "/docs/drivers/kotlin/coroutine/:version/aggregation/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/aggregation-expression-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/aggregation/aggregation-expression-operations/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/indexes/"
to = "/docs/drivers/kotlin/coroutine/:version/indexes/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/connection/"
to = "/docs/drivers/kotlin/coroutine/:version/connect/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/connection/mongoclientsettings/"
to = "/docs/drivers/kotlin/coroutine/:version/connect/mongoclientsettings/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/usage-examples/count/"
to = "/docs/drivers/kotlin/coroutine/:version/crud/read-operations/count/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/usage-examples/distinct/"
to = "/docs/drivers/kotlin/coroutine/:version/crud/read-operations/distinct/"

#Online versions: dict_keys(['upcoming', 'current', 'v5.5', 'v5.4', 'v5.3', 'v5.2', 'v5.1', 'v5.0'])

### CATCH ALLS (add slug to paths without slug)
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/upcoming/*"
to = "/docs/drivers/kotlin/coroutine/upcoming/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/current/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.5/*"
to = "/docs/drivers/kotlin/coroutine/v5.5/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.4/*"
to = "/docs/drivers/kotlin/coroutine/v5.4/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.3/*"
to = "/docs/drivers/kotlin/coroutine/v5.3/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.2/*"
to = "/docs/drivers/kotlin/coroutine/v5.2/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.1/*"
to = "/docs/drivers/kotlin/coroutine/v5.1/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.0/*"
to = "/docs/drivers/kotlin/coroutine/v5.0/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"

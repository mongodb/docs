.. _mcli-om-server-usage-list-project-hosts-command:

===================================================
mongocli ops-manager serverUsage project hosts list
===================================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``serverUsage projects hosts list`` command retrieves all host 
assignments for one project. You can also retrieve this information 
using the |mms| :opsmgr:`UI </admin/general/mongodb-usage-page/>` or 
:opsmgr:`API 
</reference/api/usage/list-all-host-assignments-in-one-project/>`.

.. _om-server-usage-list-all-project-hosts-syntax:

Syntax 
------

.. code-block:: text

   mongocli ops-manager|om serverUsage project|s host|s list|ls
        [--projectId <project-ID>]
        [--startDate <start-date>]
        [--endDate <end-date>]

.. include:: /includes/fact-command-line-help.rst

.. _om-server-usage-list-all-project-hosts-options:

Options
-------

.. list-table:: 
   :header-rows: 1
   :widths: 20 10 60 10 

   * - Option 
     - Type 
     - Description 
     - Required?

   * - ``--projectId``
     - string
     - Unique identifier of the project associated with the
       desired hosts. If omitted, uses the project ID in 
       the profile or :ref:`environment variable <mcli-env-var>`.
     - no

   * - ``--startDate``
     - string
     - |iso8601| formatted date when the list of host assignments 
       starts.
     - yes

   * - ``--endDate``
     - string
     - |iso8601| formatted date when the list of host assignments ends.
     - yes

.. _om-server-usage-list-all-project-hosts-output:

Output
------

If the command succeeds, it returns the following output in the default
format. If the command returns errors, see
:ref:`Troubleshooting <troubleshooting>` for recommended solutions.

.. code-block:: sh
   :copyable: false

   HOSTNAME        SERVER TYPE          MEM SIZE MB     CHARGEABLE
   <domain-name>   <host-server-type>   <memory-size>   <true-or-false>

.. include:: /includes/fact-default-output.rst

- :opsmgr:`Ops Manager API </reference/api/usage/list-all-host-assignments-in-one-project/>`

Example
-------

.. tabs::

   .. tab:: Default Output
      :tabid: default-output

      The following command retrieves the retrieves all host 
      assignments for one project using the {+default-profile+}, which 
      contains credentials to access the project and the project ID. 
      The output is returned in the default format.

      .. code-block:: sh

         mongocli om serverUsage projects hosts list --startDate 2020-01-01 --endDate 2021-01-01

      The previous command prints the following to the terminal.

      .. code-block:: sh
         :copyable: false

         HOSTNAME            SERVER TYPE        MEM SIZE MB  CHARGEABLE
         repl-0.example.com  PRODUCTION_SERVER  178          true
         repl-1.example.com  PRODUCTION_SERVER  178          true
         repl-2.example.com  RAM_POOL           178          true
         
   .. tab:: JSON Output
      :tabid: json-output

      The following command retrieves the retrieves all host 
      assignments for one project using the {+default-profile+}, which 
      contains credentials to access the project and the project ID. 
      The output is returned in |json| format.

      .. code-block:: sh

         mongocli om serverUsage projects hosts list --startDate 2021-01-01 --endDate 2020-01-01 --output json

      The previous command prints the following to the terminal in
      |json| format.

      .. code-block:: json
         :copyable: false

         {
           "links": [
             {
               "rel": "self",
               "href": "http://om.example.com/api/public/v1.0/usage/groups/5f1f39ffc902201990f53873/hosts?endDate=2020-01-01\u0026startDate=2021-01-01\u0026pageNum=1\u0026itemsPerPage=100"
             },
           ],
           "results":[{
             "hostname":"repl-0.example.com",
             },
             "serverType": {
               "name": "PRODUCTION_SERVER",
               "label": "Production Server"
             },
             "isChargeable": true,
             "memSizeMB": 178
             },
             {
             "hostname":"repl-2.example.com",
             },
             "serverType": {
               "name": "PRODUCTION_SERVER",
               "label": "Production Server"
             },
             "isChargeable": true,
             "memSizeMB": 178
             },
             "hostname":"repl-3.example.com",
             },
             "serverType": {
               "name": "RAM_POOL",
               "label": "RAM Pool"
             },
             "isChargeable": true,
             "memSizeMB": 178
             },
           ]
           "totalCount": 3,
         }

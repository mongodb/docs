:noprevnext:

=====================
Manage Database Users
=====================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can create and delete |service| :atlas:`database users
<tutorial/manage-users>` through the {+osb+}.

Prerequisites
-------------

Before managing database users, you must deploy a
:doc:`replica set <deploy-replica-set>`.

Add a Database User
-------------------

To create a database user, you first define a `ServiceBinding resource
<https://svc-cat.io/docs/resources/#servicebinding>`__ in |k8s|. Then,
the {+osb+} creates a corresponding database user in |service|.

.. include:: /includes/steps/add-database-user.rst

Delete a Database User
----------------------

To delete a database user, pass the ``metadata.name`` from the
``ServiceBinding`` resource to one of the following commands:

.. code-block:: sh

   kubectl delete servicebindings <METADATA.NAME> -n <METADATA.NAMESPACE>

To confirm that the user has been deleted, pass the
``metadata.name`` from the cluster resource into the following
command:

.. code-block:: sh

   svcat describe instance <METADATA.NAME> -n <METADATA.NAMESPACE>

The command returns ``No bindings defined`` under ``Bindings``.

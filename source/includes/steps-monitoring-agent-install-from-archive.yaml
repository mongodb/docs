title: Download the latest version of the Monitoring Agent archive.
stepnum: 1
ref: download
pre: |
  On a system shell, issue one of the following commands, depending on your operating system:
# Is there a preferred directory to which to download and install the Monitoring Agent ???
action:
  - pre: |
      On Linux:
    language: sh
    code: |
      curl -OL https://mms.mongodb.com/download/agent/monitoring/mongodb-mms-monitoring-agent-latest.linux_x86_64.tar.gz
  - pre: |
      On Mac OSX:
    language: sh
    code: |
      curl -OL https://mms.mongodb.com/download/agent/monitoring/mongodb-mms-monitoring-agent-latest.osx_x86_64.tar.gz
---
title: Install the Monitoring Agent.
stepnum: 2
ref: extract
pre: |
  To install the agent, extract the archive by issuing one of the
  following commands, depending on your operating system:
action:
  - pre: |
      On Linux:
    language: sh
    code: |
      tar -xf mongodb-mms-monitoring-agent-latest.linux_x86_64.tar.gz
  - pre: |
      On Mac OSX:
    language: sh
    code: |
      tar -xf mongodb-mms-monitoring-agent-latest.osx_x86_64.tar.gz
post: |
  The Monitoring Agent is installed.
---
stepnum: 3
source:
  ref: retrieve
  file: steps-shared-agent-install.yaml
---
stepnum: 4
source:
  ref: configure
  file: steps-shared-agent-install.yaml
---
stepnum: 5
source:
  ref: proxy
  file: steps-shared-agent-install.yaml
post: |
   To connect through a proxy, you must install the agent from a
   ``.tar.gz`` file, *not* from a ``.deb`` or ``.rpm`` file.
---
title: Start the Monitoring Agent.
stepnum: 6
ref: start
action:
  pre: |
    Issue the following command:
  language: sh
  code: |
    nohup ./mongodb-mms-monitoring-agent >> monitoring-agent.log 2>&1 &
...

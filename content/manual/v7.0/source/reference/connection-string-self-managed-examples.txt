.. _connections-connection-examples-self-managed:

==================================================
Self-Managed Deployment Connection String Examples
==================================================

.. meta:: 
   :description: Examples of connection strings to establish connections between self-managed MongoDB instances, tools, and applications that use drivers. 

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can use connection strings to define connections between
MongoDB instances and the following destinations:

- Your applications when you connect using :driver:`drivers </>`.
- Tools such as :compass:`MongoDB Compass </>` and 
  :mongosh:`the MongoDB Shell (mongosh) </>`.

This page provides example URI strings for common connection targets.

Cluster that Authenticates with a Username and Password
-------------------------------------------------------

.. tabs::

   .. tab:: SRV Connection String
      :tabid: srv

      .. include:: /includes/srv-connection-examples-onprem.rst

   .. tab:: Standard Connection String
      :tabid: standard

      .. include:: /includes/standard-connection-examples-onprem.rst

Database Server Running Locally
-------------------------------

The following example connects to a database server running locally on
the default port:

.. include:: /includes/connection-examples-by-language-local.rst

``admin`` Database Running Locally
----------------------------------

The following example connects and logs in to the ``admin`` database as
user ``myDatabaseUser`` with the password ``D1fficultP%40ssw0rd``:

.. include:: /includes/connection-examples-by-language-admin-local.rst

``records`` Database Running Locally
-------------------------------------

The following example connects and logs in to the ``records`` database
as user ``myDatabaseUser`` with the password ``D1fficultP%40ssw0rd``:

.. include:: /includes/connection-examples-by-language-records-local.rst

UNIX Domain Socket
------------------

When you connect to a UNIX domain socket, use a URL-encoded connection
string.

The following example connects to a UNIX domain socket with file path
``/tmp/mongodb-27017.sock`` as user ``myDatabaseUser`` with the password
``D1fficultP%40ssw0rd``:

.. include:: /includes/connection-examples-by-language-unix.rst

.. note:: Not all drivers support UNIX domain sockets. For information
   on your driver, see the :driver:`Drivers </>`
   documentation.

Replica Set with Members on Different Hosts
-------------------------------------------

The following example connects to a :term:`replica set` with two
members, one on ``db1.example.net`` and the other on
``db2.example.net``, as user ``myDatabaseUser`` with the password
``D1fficultP%40ssw0rd``:

.. note::

   .. include:: /includes/fact-uri-rs-hostnames.rst

.. include:: /includes/connection-examples-by-language-rs-different-machines.rst

Replica Set with Members on ``localhost``
-----------------------------------------

The following example connects to a replica set with three members
running on ``localhost`` on ports ``27017``, ``27018``, and ``27019`` as
user ``myDatabaseUser`` with the password ``D1fficultP%40ssw0rd``:

.. note::

   .. include:: /includes/fact-uri-rs-hostnames.rst

.. include:: /includes/connection-examples-by-language-rs-local.rst

Replica Set with Read Distribution
----------------------------------

The following example connects to a replica set with three members and
distributes reads to the :term:`secondaries <secondary>` as user
``myDatabaseUser`` with the password ``D1fficultP%40ssw0rd``:

.. note::

   .. include:: /includes/fact-uri-rs-hostnames.rst

.. include:: /includes/connection-examples-by-language-read-distribution.rst

Replica Set with a High Level of Write Concern
----------------------------------------------

The following example connects to a replica set with write concern
configured to wait for replication to succeed across a majority of the
data-bearing voting members, with a two-second timeout. It authenticates
as user ``myDatabaseUser`` with the password ``D1fficultP%40ssw0rd``.

.. note::

   .. include:: /includes/fact-uri-rs-hostnames.rst

.. include:: /includes/connection-examples-by-language-write-concern.rst

Sharded Cluster
---------------

The following example connects to a sharded cluster with three
:binary:`~bin.mongos` instances as user ``myDatabaseUser`` with the
password ``D1fficultP%40ssw0rd``:

.. include:: /includes/connection-examples-by-language-sharded.rst

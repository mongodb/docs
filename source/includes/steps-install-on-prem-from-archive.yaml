# This file lends content to other files.
#
title: "Download |monitoring|."
stepnum: 1
ref: download
content: |
  Download the latest On Prem Monitoring releases from `the downloads page
  <http://www.mongodb.com/commercialsupport/downloads>`_.
---
title: "Install |monitoring|."
stepnum: 2
ref: install
action:
  pre: |
    You can install |monitoring| from the provided ``tar.gz`` or ``zip``
    archive without making any changes to the underlying system
    (i.e. without creating users).  To install, extract the package, as in
    the following command:
  language: sh
  code: |
    tar -zxf mongodb-mms-<version>.x86_64.tar.gz
post: |
  When complete, |mms| is installed in the ``/opt/mongodb/mms``
  directory.
---
title: "Create a symlink (optional)."
stepnum: 3
ref: symlink
action:
  pre: |
    Optionally create a symlink in ``/etc/init.d`` to the included control
    script for convenience, as in the following:
  language: sh
  code: |
    sudo ln -s <install_dir>/bin/mongodb-mms /etc/init.d/
post: |
  Note, when the app is first started, it will create and store an encryption
  key in ``$HOME/.mongodb-mms`` for the app user.
---
title: "Configure |monitoring|."
stepnum: 4
ref: configure
action:
  pre: |
    In the ``conf-mms.properties`` file, ensure that the following required
    :doc:`configuration settings </reference/configuration>` are correct:

    - :setting:`mms.centralUrl`

    - :setting:`mms.backupCentralUrl`

    - :setting:`mms.fromEmailAddr`

    - :setting:`mms.replyToEmailAddr`

    - :setting:`mms.adminFromEmailAddr`

    - :setting:`mms.adminEmailAddr`

    - :setting:`mms.bounceEmailAddr`

    - :setting:`mongo.mongoUri`

    - :setting:`mongo.replicaSet`

    Consider the following example configuration:
  language: cfg
  code: |
    mms.centralUrl=http://<public_ip>:8080
    mms.backupCentralUrl=http://<public_ip>:8081

    mms.fromEmailAddr=mms-admin@example.net
    mms.replyToEmailAddr=mms-admin@example.net
    mms.adminFromEmailAddr=mms-admin@example.net
    mms.adminEmailAddr=mms-admin@example.net
    mms.bounceEmailAddr=mms-admin@example.net

    mongo.mongoUri=mongodb://<mms_mongod_ip>:27017/
    mongo.replicaSet=rs0
  post: |
    At this point, you can also configure authentication, email, and
    optional Kerberos integration, as described in the
    :doc:`/reference/configuration`.

    If you would like to run the MMS application in a highly available
    configuration, please consider
    :doc:`/tutorial/configure-application-high-availability`.
---
title: "Start |monitoring|."
stepnum: 5
ref: start
action:
  pre: |
    To start MMS, issue the following command:
  language: sh
  code: |
    /etc/init.d/mongodb-mms start
...

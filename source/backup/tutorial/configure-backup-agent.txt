============================
|backup| Agent Configuration
============================

.. _backup-ssl:

.. start-content

Using SSL with |backup|
~~~~~~~~~~~~~~~~~~~~~~~

|backup| can backup MongoDB instances running with SSL. To use SSL with
``mongod`` and ``mongos``, you must enable it at compile time, or use
one of the `subscriber builds <http://www.mongodb.com/mongodb-subscriber-edition-download>`_.
MongoDB added SSL support in version 2.0.

The backup agent must be configured with the trusted CA certificates used to
sign the certificates used by any MongoDB instances running with SSL. Edit the ``settings.py``
file in your agent installation to set ``sslTrustedServerCertificates`` to the path of
a file containing one or more certificates in PEM format.

By default, the agent will only connect to MongoDB instances using a trusted certificate. For
testing purposes the ``sslRequireValidServerCertificates`` setting can be set to ``False`` to
bypass this check. This configuration is NOT recommended for production use as it makes the
connection insecure.

Backup of a replica set or sharded cluster with SSL enabled is done in the MMS console at
the time of starting backup. After clicking the Start button next to a replica set or
shared cluster click the check-box to enabled SSL.

.. end-content

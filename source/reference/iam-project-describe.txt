.. _mcli-iam-project-describe:

=============================
mongocli iam project describe
=============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``mongocli iam project describe`` command retrieves the details
of a project in your |service|, |com| instance.

You can also describe projects through the |api| for each service:

- :atlas:`Atlas </reference/api/project-get-one/>`
- :cloudmgr:`Cloud Manager </reference/api/groups/get-one-group-by-id/>`
- :opsmgr:`Ops Manager </reference/api/groups/get-one-group-by-id/>`

.. _mcli-iam-project-describe-syntax:

Syntax 
------

.. code-block:: text 

   mongocli iam project|projects describe|show 
        <project-id>
        [ --output|-o json ]
        [ --profile|-P <profile-name> ]

.. include:: /includes/fact-command-line-help.rst

.. _mcli-iam-project-describe-arguments:

Arguments
---------

.. list-table:: 
   :header-rows: 1
   :widths: 20 10 60 10

   * - Argument
     - Type 
     - Description 
     - Required? 

   * - ``<project-id>``
     - string
     - Unique identifier of the project you want to describe.
     - yes

.. _mcli-iam-project-describe-options:

Options 
-------

.. list-table:: 
   :header-rows: 1
   :widths: 20 10 60 10

   * - Option
     - Type 
     - Description 
     - Required? 

   * - ``--output``, ``-o``
     - string 
     - .. include:: /includes/extracts/fact-basic-options-output.rst
     - no

   * - ``--profile``, ``-P`` 
     - string 
     - Name of the profile where your credentials are saved.

       If omitted, uses the {+default-profile+}. To learn more about 
       creating a profile, see :ref:`mcli-configure`.

     - no

.. _mcli-iam-project-describe-output:

Output
------

If the command succeeds, it prints the following fields in JSON format.
The fields returned depend on your MongoDB service. If the command
returns errors, see :ref:`Troubleshooting <troubleshooting>` for
recommended solutions.

.. tabs::

   .. tab:: Atlas
      :tabid: atlas

      .. list-table::
         :widths: 20 80
         :header-rows: 1

         * - Field
           - Description

         * - ``clusterCount``
           - The number of |service| clusters deployed in the project.

         * - ``created``
           - The ISO-8601-formatted timestamp of when |service| created 
             the project.

         * - ``id``
           - The unique identifier of the project. 

         * - ``links``
           - Array of one or more links to sub-resources
             and/or related resources. The relations between |url|\s are
             explained in the :rfc:`Web Linking Specification <5988>`.

         * - ``name``
           - The name of the project.

         * - ``orgId``
           - The unique identifier of the organization to which
             the project belongs.

   .. tab:: Cloud Manager
      :tabid: cloud-mgr

      .. list-table::
         :widths: 10 10 80
         :header-rows: 1

         * - Name
           - Type
           - Description

         * - ``activeAgentCount``
           - integer
           - Number of active agents sending regular pings to 
             |cloud-short|.

             The value is refreshed about every 24 hours and cached. If
             you start a new agent or stop an existing one, the change
             can take up to 30 minutes to show up in the
             ``activeAgentCount`` field.

         * - ``hostCounts``
           - object
           - Total number of hosts by type. The embedded fields
             should be self-explanatory.

         * - ``id``
           - string
           - Unique identifier for the group.

         * - ``lastActiveAgent``
           - string
           - Time |cloud-short| last updated the ``activeAgentCount`` 
             total for the project. |cloud-short| refreshes this value
             every 24 hours and caches it to record the number of active
             {+mdbagent+}s.

         * - ``links``
           - object array
           - .. include:: /includes/links-explanation.rst

         * - ``name``
           - string
           - Display name for the project.

         * - ``orgId``
           - string
           - Unique identifier for the organization to which the project
             belongs.

         * - ``publicApiEnabled``
           - boolean
           - Flag indicating that the |api| is enabled for this project.
             This is a read-only field that is always ``true``.

         * - ``replicaSetCount``
           - integer
           - Total number of replica sets for this project.

         * - ``shardCount``
           - integer
           - Total number of shards for this project.

   .. tab:: Ops Manager
      :tabid: ops-mgr

      .. list-table::
         :widths: 10 10 80
         :header-rows: 1

         * - Name
           - Type
           - Description

         * - ``activeAgentCount``
           - integer
           - Number of active agents sending regular pings to |onprem|.

             The value is refreshed about every 24 hours and cached. If
             you start a new agent or stop an existing one, the change
             can take up to 30 minutes to show up in the
             ``activeAgentCount`` field.

         * - ``hostCounts``
           - object
           - Total number of hosts by type. The embedded fields
             should be self-explanatory.

         * - ``id``
           - string
           - Unique identifier for the project.

         * - ``lastActiveAgent``
           - string
           - Time |mms| last updated the ``activeAgentCount`` total for
             the project. |mms| refreshes this value every 24 hours and
             caches it to record the number of active {+mdbagent+}s.

         * - ``ldapGroupMappings``
           - object array
           - For LDAP-backed |onprem|, the mappings of
             :opsmgr:`LDAP groups </tutorial/enable-ldap-authentication-for-group>`
             to |onprem| project roles. Only present for LDAP-backed
             |onprem|.

         * - | ``ldapGroupMappings``
             | ``.roleName``
           - string
           - |onprem| user role. The mapping of
             :opsmgr:`Project Role </reference/user-roles>` to ``roleName``
             follows:

             .. list-table::
                :widths: 50 50
                :header-rows: 1

                * - User Role
                  - ``roleName`` Value
                * - :authrole:`Project Owner` (required)
                  - ``GROUP_OWNER``
                * - :authrole:`Project Automation Admin`
                  - ``GROUP_AUTOMATION_ADMIN``
                * - :authrole:`Project Backup Admin`
                  - ``GROUP_BACKUP_ADMIN``
                * - :authrole:`Project Monitoring Admin`
                  - ``GROUP_MONITORING_ADMIN``
                * - :authrole:`Project Data Access Admin`
                  - ``GROUP_DATA_ACCESS_ADMIN``
                * - :authrole:`Project Data Access Read/Write`
                  - ``GROUP_DATA_ACCESS_READ_WRITE``
                * - :authrole:`Project Data Access Read Only`
                  - ``GROUP_DATA_ACCESS_READ_ONLY``
                * - :authrole:`Project Read Only`
                  - ``GROUP_READ_ONLY``

         * - | ``ldapGroupMappings``
             | ``.ldapGroups``
           - string array
           - LDAP project(s) that map to the |onprem| role.

         * - ``links``
           - object array
           - .. include:: /includes/links-explanation.rst

         * - ``name``
           - string
           - Display name for the project.

         * - ``orgId``
           - string
           - Unique identifier for the organization to which the project
             belongs.

         * - ``publicApiEnabled``
           - boolean
           - Flag indicating that the |api| is enabled for this project.
             This is a read-only field that is always ``true``.

         * - ``replicaSetCount``
           - integer
           - Total number of replica sets for this project.

         * - ``shardCount``
           - integer
           - Total number of shards for this project.

         * - ``tags``
           - string array
           - Tags assigned to the project for use in programmatically
             identifying the project.

             - To *view* tags you must have the
               :authrole:`Project Read Only`
               :opsmgr:`role </reference/user-roles>`.

             - To *create* or *edit* tags you must have the
               :authrole:`Project Automation Admin` :opsmgr:`role
               </reference/user-roles>`.


.. _mcli-iam-project-describe-examples:

Examples
--------

.. tabs:: 

   .. tab:: Atlas
      :tabid: atlas

      Describe an |service| Project
      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

      The following ``mongocli iam project describe`` command describes an
      |service| project using the {+default-profile+}.

      .. code-block:: sh

         mongocli iam project describe 5e2f04abc10fab99c7d4072e

      The command returns the following |json| document:

      .. code-block:: json
         :copyable: false

         {
          "id": "5e2f04abc10fab99c7d4072e",
          "orgId": "5df27c15f10fab55fc6c1234",
          "name": "Project1",
          "clusterCount": 1,
          "created": "2020-01-27T15:42:39Z",
          "links": [
           {
            "rel": "self",
            "href": "https://example.mongodb.com/api/atlas/v1.0/groups/5e2f04ecf10fab66c7d4072e"
           },
           {
            "rel": "http://mms.mongodb.com/containers",
            "href": "https://example.mongodb.com/api/atlas/v1.0/groups/5e2f04ecf10fab66c7d4072e/containers"
           },
           {
            "rel": "http://mms.mongodb.com/clusters",
            "href": "https://example.mongodb.com/api/atlas/v1.0/groups/5e2f04ecf10fab66c7d4072e/clusters"
           },
           {
            "rel": "http://mms.mongodb.com/databaseUsers",
            "href": "https://example.mongodb.com/api/atlas/v1.0/groups/5e2f04ecf10fab66c7d4072e/databaseUsers"
           },
           {
            "rel": "http://mms.mongodb.com/peers",
            "href": "https://example.mongodb.com/api/atlas/v1.0/groups/5e2f04ecf10fab66c7d4072e/peers"
           },
           {
            "rel": "http://mms.mongodb.com/processes",
            "href": "https://example.mongodb.com/api/atlas/v1.0/groups/5e2f04ecf10fab66c7d4072e/processes"
           },
           {
            "rel": "http://mms.mongodb.com/whitelist",
            "href": "https://example.mongodb.com/api/atlas/v1.0/groups/5e2f04ecf10fab66c7d4072e/whitelist"
           }
          ]
         }

   .. tab:: Cloud Manager
      :tabid: cloud-mgr

      Describe a |cloud-short| Project
      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

      The following ``mongocli iam project describe`` command describes
      a |cloud-short| project using the {+default-profile+}.

      .. code-block:: sh

         mongocli iam project describe 5f0cb75408382616071076b0

      The command returns the following |json| document:

      .. code-block:: json
         :copyable: false

         {
          "activeAgentCount": 1,
          "agentApiKey": "abc728abd6a6d6c6b6d7826345dbcff0e",
          "hostCounts": {
           "arbiter": 2,
           "config": 1,
           "master": 0,
           "mongos": 2,
           "primary": 4,
           "secondary": 8,
           "slave": 0
          },
          "id": "5f0cb75408382616071076b0",
          "lastActiveAgent": ISODate("2016-08-05T07:23:34Z"),
          "links": [
           {
            "rel": "self",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0"
           },
           {
            "rel": "http://mms.mongodb.com/hosts",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/hosts"
           },
           {
            "rel": "http://mms.mongodb.com/users",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/users"
           },
           {
            "rel": "http://mms.mongodb.com/clusters",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/clusters"
           },
           {
            "rel": "http://mms.mongodb.com/alertConfigs",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/alertConfigs"
           },
           {
            "rel": "http://mms.mongodb.com/alerts",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/alerts"
           },
           {
            "rel": "http://mms.mongodb.com/backupConfigs",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/backupConfigs"
           },
           {
            "rel": "http://mms.mongodb.com/agents",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/agents"
           }
          ],
          "name": "Project1",
          "orgId": "5e34440f08381234070df022",
          "publicApiEnabled": true,
          "replicaSetCount": 3,
          "shardCount": 2
         }

   .. tab:: Ops Manager
      :tabid: ops-mgr
      
      Describe an |onprem| Project
      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

      The following ``mongocli iam project describe`` command describes
      an |onprem| project using the {+default-profile+}.

      .. code-block:: sh

         mongocli iam project describe 5f0cb75408382616012346b0

      The command returns the following |json| document:

      .. code-block:: json
         :copyable: false

         {
          "activeAgentCount": 1,
          "agentApiKey": "cbd728abd6a6d6c6b6d7826345dbcff0e",
          "hostCounts": {
           "arbiter": 2,
           "config": 1,
           "master": 0,
           "mongos": 2,
           "primary": 4,
           "secondary": 8,
           "slave": 0
          },
          "id": "5f0cb75408382616012346b0",
          "lastActiveAgent": ISODate("2016-08-05T07:23:34Z"),
          "ldapGroupMappings" : [ {
           "roleName": "GROUP_OWNER",
           "ldapGroups": [  project-owner" ]
           }, ... ],
          "links": [
           {
            "rel": "self",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0"
           },
           {
            "rel": "http://mms.mongodb.com/hosts",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/hosts"
           },
           {
            "rel": "http://mms.mongodb.com/users",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/users"
           },
           {
            "rel": "http://mms.mongodb.com/clusters",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/clusters"
           },
           {
            "rel": "http://mms.mongodb.com/alertConfigs",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/alertConfigs"
           },
           {
            "rel": "http://mms.mongodb.com/alerts",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/alerts"
           },
           {
            "rel": "http://mms.mongodb.com/backupConfigs",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/backupConfigs"
           },
           {
            "rel": "http://mms.mongodb.com/agents",
            "href": "http://example.mongodb.com/api/public/v1.0/groups/5f0cb75408382616071076b0/agents"
           }
          ],
          "name": "Project1",
          "orgId": "5f07740f08381234070df033",
          "publicApiEnabled": true,
          "replicaSetCount": 3,
          "shardCount": 2,
          "tags": [ "DEV", "PRODUCT" ]
         }

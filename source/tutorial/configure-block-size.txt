==================================================
Configure the Size of the Blocks in the Blockstore
==================================================

.. default-domain:: mongodb

Overview
--------

If you use the :term:`Backup Blockstore Database` for snapshot storage, then
when you back up a replica set, the Backup Daemon takes a snapshot of the data
directory for the backed-up deployment, breaks it into blocks, and
transfers the blocks to the Backup Blockstore Database.

By default, each block in the Backup Blockstore is 64KB, but you can
configure the blocksize to suit your use case.

Considerations
--------------

In general, increasing blocksize results in faster snapshots and
restores, but requires more disk space. These competing factors should
be considered when determining if you wish to tune the blocksize.

For users with update and delete-intensive workloads, and thus with a
poor de-duplication rate, increasing the blocksize provides performance
improvements **without** requiring extra disk space. With update and
delete-intensive workloads, no matter how small you make the blocksize
the entire block file will need to be rewritten. Since the entire file
is always being rewritten there isn't any difference in storage space if
you change the blocksize.

Users with insert-only workloads will also see the performance benefits
of increasing blocksize without requiring additional disk space. With an
insert-only workflow, the existing blocks never change: increasing
blocksize then enables easier block management and the best possible
performance on snapshot and restore.

Procedure
---------

.. include:: /includes/steps/adjust-block-size.rst

.. _create-new-database-deployment:

================================
Create a {+Database-Deployment+}
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Use these resources to choose and create {+clusters+} and 
{+serverless-instances+}.

.. _ref-deployment-types:

Choose a {+Database-Deployment+} Type
-------------------------------------

|service-fullname| can deploy two types of cloud databases: 
{+serverless-instances+}
and {+clusters+}. You can use both {+clusters+} and {+serverless-instances+} in
the same |service| project. 

{+Clusters+}
~~~~~~~~~~~~

:doc:`Create a {+cluster+} </tutorial/create-new-cluster>` if you want to:

- Choose a specific database configuration based on your workload requirements.
- Define database :doc:`scaling behavior </cluster-autoscaling>`.
- Run high-throughput production workloads.
- Always have capacity available.
  
You can:


- Set the :ref:`cluster tier <create-cluster-instance>`.
- Use advanced capabilities such as :manual:`sharding </sharding>`.
- Distribute your data to 
  :doc:`multiple regions and cloud providers </cluster-config/multi-cloud-distribution>`.
- :doc:`Scale your {+cluster+} </scale-cluster>` on-demand.
- Enable :doc:`autoscaling </cluster-autoscaling>`. Unlike
  {+serverless-instances+}, autoscaling for {+clusters+} requires
  preconfiguration.

MongoDB bills {+clusters+} based on the deployment
configuration and :ref:`cluster tier <create-cluster-instance>`.

.. _atlas-choose-serverless:

{+Serverless-Instances+}
~~~~~~~~~~~~~~~~~~~~~~~~

:doc:`Create a {+serverless-instance+} </tutorial/create-serverless-instance>`
if you want to:
  
- Get started quickly with minimal database configuration.
- Have your database scale automatically and dynamically to meet your workload.
- Run infrequent or sparse workloads.
- Develop or test in a cloud environment.

|service| automatically scales the storage capacity,
storage throughput, and computing power for a {+serverless-instance+} seamlessly
to meet your workload requirements. {+Serverless-instances+} always run the latest 
:manual:`MongoDB version </reference/versioning>`, and
you :ref:`only pay for the operations that you run 
<serverless-instance-costs>`.

Global {+Clusters+}
~~~~~~~~~~~~~~~~~~~

:ref:`Create a global {+cluster+} <create-new-global-write-cluster>`
if you want to support location-aware read and write operations. 
Location-aware read and write operations are ideal for globally-distributed
application instances and clients. 

|global-write-clusters| are a highly-curated implementation 
of a sharded {+cluster+} that offer:

- Low-latency read and write operations for globally distributed
  clients.
- Uptime protection during partial or full regional outages.
- Location-aware data storage in specific geographic regions.
- Workload isolation based on cluster member types.

You can enable |global-write| in |service| when deploying an ``M30`` or
greater sharded cluster. For replica sets,
:doc:`scale </scale-cluster>` the cluster to at least an ``M30``
tier and enable |global-write|. All shard nodes deploy with the 
selected cluster.

.. important::

   You can't disable |global-write| for a cluster once it is deployed.

.. _ref-serverless-unsupported-features:

Feature Support and Comparison
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following table indicates whether {+clusters+} or {+serverless-instances+} 
support the listed configuration or capability in |service-fullname|.

.. note::
   
   MongoDB plans to add support for more configurations and
   capabilities on {+serverless-instances+} over time. To see
   the current {+serverless-instance+} limitations and learn
   about planned support, see
   :doc:`Serverless Instance Limitations 
   </reference/serverless-instance-limitations>`.

   For the latest product updates, see the 
   :doc:`Atlas Changelog </release-notes/atlas/>`.
 
Configurations
``````````````

.. list-table::
   :header-rows: 1
   :widths: 75 10 10

   * - Configuration
     - {+Clusters+}
     - {+Serverless-instances+}

   * - :manual:`Rapid releases </reference/versioning>`
     - :icon:`check-square`
     - :icon:`check-square`
  
   * - :doc:`AWS </reference/amazon-aws>` regions
     - :icon:`check-square`
     - :doc:`Select regions only </reference/amazon-aws>`

   * - :doc:`Google Cloud </reference/google-gcp>` regions
     - :icon:`check-square`
     - :doc:`Select regions only </reference/google-gcp>`

   * - :doc:`Microsoft Azure </reference/microsoft-azure>` regions
     - :icon:`check-square`
     - :doc:`Select regions only </reference/microsoft-azure>`

   * - Multi-region deployments
     - :icon:`check-square`
     - 

   * - Multi-cloud deployments
     - :icon:`check-square`
     - 

   * - :manual:`Sharded </sharding>` deployments
     - :icon:`check-square`
     - 

   * - :doc:`Global {+clusters+} </global-clusters>`
     - :icon:`check-square`
     - 
   
   * - :doc:`IP access list </security/ip-access-list>`
     - :icon:`check-square`
     - :icon:`check-square`
  
   * - :doc:`Network peering </security-vpc-peering>`
     - :icon:`check-square`
     - 
     
   * - :doc:`Private endpoints </security-private-endpoint>`
     - :icon:`check-square`
     - :ref:`AWS and Azure only <serverless-instance-limitations>`

   * - Advanced enterprise security features (including 
       :doc:`LDAP </security-ldaps>` 
       and :doc:`database auditing </database-auditing>`)
     - :icon:`check-square`
     - 

Capabilities
````````````

.. list-table::
   :header-rows: 1
   :widths: 75 10 10

   * - Capability
     - {+Clusters+}
     - {+Serverless-instances+}
  
   * - Use the |service| :doc:`API </api>`
     - :icon:`check-square`
     - :icon:`check-square`

   * - :doc:`Monitor </monitoring-alerts>` metrics
     - :icon:`check-square`
     - :icon:`check-square`

   * - :doc:`Configure alerts </alerts>` on available metrics or billing
     - :icon:`check-square`
     - :icon:`check-square`

   * - Configure :doc:`backups </backup/cloud-backup/overview>`
     - :icon:`check-square`
     - :icon:`check-square`
   
   * - Perform 
       :doc:`point-in-time or automated restores </backup-restore-cluster>`
       from backup snapshots
     - :icon:`check-square`
     - :icon:`check-square`

   * - Use the :doc:`{+atlas-ui+} </atlas-ui>` (Find, Indexes, Schema
       Advisor and Aggregation Pipeline Builder)
     - :icon:`check-square`
     - :icon:`check-square`

   * - Get on-demand :doc:`index </performance-advisor>` and :doc:`schema
       suggestions </performance-advisor/schema-suggestions>`
     - :icon:`check-square`
     - 
  
   * - :doc:`Load sample data </sample-data>`
     - :icon:`check-square`
     - :icon:`check-square`

   * - Use :doc:`triggers </triggers>`
     - :icon:`check-square`
     - 

   * - Use :doc:`Atlas Search </atlas-search>`
     - :icon:`check-square`
     - 

   * - Use :doc:`Online Archive </online-archive/manage-online-archive>`
     - :icon:`check-square`
     - 

   * - Run :doc:`federated queries </security/federated-authentication>`
     - :icon:`check-square`
     - :icon:`check-square`

   * - Use |bic-short|
     - :icon:`check-square`
     - 
     
   * - Use :charts:`MongoDB Charts </>`
     - :icon:`check-square`
     - 
     
   * - Use :ref:`{+atlas-app-services+} <realm-cloud>`
     - :icon:`check-square`
     - Selective Support
  
.. important::

   You canâ€™t migrate into {+clusters+} from {+serverless-instances+}.

   For a full list of {+serverless-instance+} limitations, see 
   :doc:`{+Serverless-Instance+} Limitations 
   </reference/serverless-instance-limitations/>`.


Take the Next Steps
-------------------

Once you select a {+database-deployment+} type, you can:

- :doc:`Create a {+cluster+} </tutorial/create-new-cluster>`.
- :doc:`Create a {+serverless-instance+} 
  </tutorial/create-serverless-instance>`.
- :ref:`Create a global {+cluster+} <create-new-global-write-cluster>`.

.. toctree::
   :titlesonly:
      
   /tutorial/create-new-cluster
   /tutorial/create-serverless-instance
   /tutorial/create-global-cluster

==============
$geoIntersects
==============

.. default-domain:: mongodb

.. operator:: $geoIntersects

   .. versionadded:: 2.4

   The :operator:`$geoIntersects` operator selects all indexed points
   that intersect with a
   `GeoJSON object <http://geojson.org/geojson-spec.html>`_.
   The :operator:`$geoIntersects` operator uses spherical geometry. The
   ``2dsphere`` geospatial index supports :operator:`$geoIntersects`.

   Pass the GeoJSON object to :operator:`$geoIntersects` through the
   :operator:`$geometry` operator. Use the following syntax:

   .. code-block:: javascript

      db.<collection>.find( { <location field> :
                               { $geoIntersects :
                                  { $geometry :
                                     { type : "Point|LineString|Polygon" ,
                                       coordinates : [ <coordinates> ]
                            } } } } )

   .. important:: Specify coordinates in this order: **"longitude, latitude."**

   The following example uses :operator:`$geoIntersects` to select all
   indexed points and shapes that intersect with the polygon defined by
   the ``coordinates`` array.

   .. code-block:: javascript

      db.places.find( { loc :
                        { $geoIntersects :
                          { $geometry :
                            { type : "Polygon" ,
                              coordinates: [ [ [ 0 , 0 ] , [ 3 , 6 ] , [ 6 , 1 ] , [ 0 , 0 ] ] ] }
                      } } } } )

   The query returns true if the intersection between shapes is
   non-empty. This includes documents that have a shared edge.

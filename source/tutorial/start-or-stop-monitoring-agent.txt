==================================
Start or Stop the Monitoring Agent
==================================

.. default-domain:: mongodb

Overview
--------

Your MMS group must have at least one Monitoring Agent running to collect data
for your MongoDB deployments. The group needs only one Monitoring Agent running.

Procedures
----------

Start the Monitoring Agent
++++++++++++++++++++++++++

The procedure to :doc:`Install the Monitoring Agent
</tutorial/nav/install-monitoring-agent>` includes a step to start the agent.
If you must restart the agent, use the following procedure.

Start an Agent Installed with an ``rpm`` Package
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you installed the Monitoring Agent using an ``rpm`` package, such as on
RHEL, CentOS, or SUSE, issue the following command to start the agent:

.. code-block:: none

   sudo service mongodb-mms-monitoring-agent start

Start an Agent Installed with a ``deb`` Package
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you installed the Monitoring Agent using a ``deb`` package, as on Ubuntu,
issue the following command to start the agent:

.. code-block:: none

   sudo start mongodb-mms-monitoring-agent

Start an Agent Installed with a ``tar`` File
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Use this command if you installed to Linux or OSX using a ``tar`` file. Issue
the following command **from the Monitoring Agent's directory**:

.. code-block:: none

   nohup ./mongodb-mms-monitoring-agent- >> monitoring-agent.log 2>&1 &

Start an Agent on Windows
~~~~~~~~~~~~~~~~~~~~~~~~~

In Windows ``Control Panel``, open ``Administrative Tools`` and then
``Services``. In the list of services, select ``MMS Monitoring Agent``. Select
the ``Action`` menu and select ``Start``.

.. _stop-monitoring-agent:

Stop the Monitoring Agent
+++++++++++++++++++++++++

MMS requires a running Monitoring Agent.

Stop an Agent Installed with an ``rpm`` Package
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you installed the Monitoring Agent using an ``rpm`` package, such as on
RHEL, CentOS, or SUSE, issue the following command to stop the agent:

.. code-block:: none

   sudo service mongodb-mms-monitoring-agent stop

Stop an Agent Installed with a ``deb`` Package
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you installed the Monitoring Agent using a ``deb`` package, as on Ubuntu,
issue the following command to stop the agent:

.. code-block:: none

   sudo stop mongodb-mms-monitoring-agent

Stop an Agent Installed with a ``tar`` File
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you installed to Linux or OSX using a ``tar`` file, issue the following
command to stop the Monitoring Agent:

.. code-block:: none

   pkill -f mongodb-mms-monitoring-agent

Stop on Windows
~~~~~~~~~~~~~~~

In Windows ``Control Panel``, open ``Administrative Tools`` and then
``Services``. In the list of services, select ``MMS Monitoring Agent``. Select
the ``Action`` menu and select ``Stop``.

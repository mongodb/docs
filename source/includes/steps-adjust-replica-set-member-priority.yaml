title: Copy the replica set configuration to a variable.
stepnum: 1
ref: copy-configration-object
action:
  - pre: |
      In the :program:`mongo` shell,
      use :method:`rs.conf()` to retrieve the replica set configuration and
      assign it to a variable. For example:
    language: javascript
    code: |
      cfg = rs.conf()
---
title: Change each member's priority value.
stepnum: 2
ref: change-priority-values
action:
  - pre: |
      Change each
      member's :data:`~local.system.replset.members[n].priority` value, as
      configured in the :data:`~local.system.replset.members`
      array.
post: |
  The following example uses the ``cfg`` variable to change the
  priority for the first three members configured in the array.
language: javascript
code: |
  cfg.members[0].priority = 0.5
  cfg.members[1].priority = 2
  cfg.members[2].priority = 2
---
title: Assign the replica set the new configuration.
stepnum: 3
ref: assign-new-config
action:
  - pre: |
      Use :method:`rs.reconfig()` to apply the new configuration.
post: |
  For example, to assign the replica set the new
  configuration in from the ``cfg`` variable, issue the following:
language: javascript
code: |
  rs.reconfig(cfg)
...

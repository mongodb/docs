ref: create-geo-query-node
stepnum: 1
title: "Create a file named ``run-geo-query.js``."

---

ref: copy-geo-query-node
stepnum: 2
title: "Copy and paste the following code into the ``run-geo-query.js`` file."
content: |

  The following code example:

  - Imports ``mongodb``, MongoDB's Node.js driver. 

  - Creates an instance of the ``MongoClient`` class to establish a 
    connection to your |service| cluster.

    .. include:: /includes/fts/facts/fact-fts-tutorial-run-geo-query-results.rst

  - Iterates over the cursor to print the documents that match the 
    query.

    .. literalinclude:: /includes/fts/geo/run-geo-query.js
      :language: javascript
      :linenos:
      :dedent:
      :emphasize-lines: 4

---

ref: replace-connection-string-node
stepnum: 3
title: "Replace the ``<connection-string>`` with your Atlas connection string."
content: |

  .. include:: /includes/fts/facts/fact-fts-driver-connection-string.rst
---

ref: run-geo-query-node
stepnum: 1
title: "Query your collection."
content: |

  Run the following command to query your collection: 
  
  .. io-code-block::
     :copyable: true

     .. input::
        :language: bash
     
        node run-geo-query.js
        
     .. output::
        :language: javascript
        :visible: true

        {
          name: 'Ocean View Waikiki Marina w/prkg',
          property_type: 'Condominium',
          address: {
            street: 'Honolulu, HI, United States',
            suburb: 'Oʻahu',
            government_area: 'Primary Urban Center',
            market: 'Oahu',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -157.83919, 21.28634 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: 'LAHAINA, MAUI! RESORT/CONDO BEACHFRONT!! SLEEPS 4!',
          property_type: 'Condominium',
          address: {
            street: 'Lahaina, HI, United States',
            suburb: 'Maui',
            government_area: 'Lahaina',
            market: 'Maui',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -156.68012, 20.96996 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: 'Makaha Valley Paradise with OceanView',
          property_type: 'Condominium',
          address: {
            street: 'Waianae, HI, United States',
            suburb: 'Leeward Side',
            government_area: 'Waianae',
               market: 'Oahu',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -158.20291, 21.4818 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: 'March 2019 availability! Oceanview on Sugar Beach!',
          property_type: 'Condominium',
          address: {
            street: 'Kihei, HI, United States',
            suburb: 'Maui',
            government_area: 'Kihei-Makena',
            market: 'Maui',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -156.46881, 20.78621 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: 'Tropical Jungle Oasis',
          property_type: 'Condominium',
          address: {
            street: 'Hilo, HI, United States',
            suburb: 'Island of Hawaiʻi',
            government_area: 'South Hilo',
            market: 'The Big Island',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -155.09259, 19.73108 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: '2 Bdrm/2 Bath  Family Suite Ocean View',
          property_type: 'Condominium',
          address: {
            street: 'Honolulu, HI, United States',
            suburb: 'Waikiki',
            government_area: 'Primary Urban Center',
            market: 'Oahu',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -157.82696, 21.27971 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: '302 Kanai A Nalu Ocean front/view',
          property_type: 'Condominium',
          address: {
            street: 'Wailuku, HI, United States',
            suburb: 'Maui',
            government_area: 'Kihei-Makena',
            market: 'Maui',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -156.5039, 20.79664 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: 'Sugar Beach Resort 1BR Ground Floor Condo !',
          property_type: 'Condominium',
          address: {
            street: 'Kihei, HI, United States',
            suburb: 'Maui',
            government_area: 'Kihei-Makena',
            market: 'Maui',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -156.46697, 20.78484 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: '2 BR Oceanview - Great Location!',
          property_type: 'Condominium',
          address: {
            street: 'Kihei, HI, United States',
            suburb: 'Kihei/Wailea',
            government_area: 'Kihei-Makena',
            market: 'Maui',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -156.44917, 20.73013 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        },
        {
          name: 'PALMS AT WAILEA #905-2BR-REMODELED-LARGE LANAI-AC',
          property_type: 'Condominium',
          address: {
            street: 'Kihei, HI, United States',
            suburb: 'Maui',
            government_area: 'Kihei-Makena',
            market: 'Maui',
            country: 'United States',
            country_code: 'US',
            location: {
              type: 'Point',
              coordinates: [ -156.4409, 20.69735 ],
              is_location_exact: true
            }
          },
          score: 2.238388776779175
        }

...

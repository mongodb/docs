=======
Pricing
=======

.. default-domain:: mongodb

.. _pricing-information:

View Pricing Information
------------------------

Pricing for Monitoring and Automation is based on the number of servers
you have. Pricing for Backup is based on the size of your backed-up
snapshots and on your settings for :ref:`snapshot frequency and retention
<snapshot-frequency-and-retention>`. For information on how Backup
determines snapshot size, see :ref:`backup-pricing` lower down on this
page.

To view pricing information, do one of the following:

- If **logged in** to |mms|, select the :guilabel:`Administration` tab,
  then :guilabel:`Billing/Subscriptions`, and then
  :guilabel:`Understanding Your Bill`.

- If **not** logged into |mms|, go to `https://mms.mongodb.com/pricing
  <https://mms.mongodb.com/pricing>`_. This link does not work if you are
  logged into |mms|.

.. _view-your-costs:

View Your Current Costs
-----------------------

To view your current running costs, select the :guilabel:`Administration`
tab and then select :guilabel:`Billing/Subscriptions`. The
:guilabel:`Billing and Usage Summary` section displays your current total.

To view details about current costs, including the price charged per unit,
click the :guilabel:`Usage Details` link on the
:guilabel:`Billing/Subscriptions` page.

To view an estimate of your monthly bill, click :guilabel:`Understanding
Your Bill` and scroll to the :guilabel:`Monthly Estimates` section.

.. _view-past-charges:

View Your Past Charges
----------------------

To view past charges, select the :guilabel:`Administration` tab and then
select :guilabel:`Payment History`. Click a date to view charges and
payments for that period.

.. _reopen-after-lock-out:

Reopen an Account that is Locked Out
------------------------------------

If you have received a message that your account is locked out for failure
to pay, please update your credit card information on the
:guilabel:`Administration` tab's :guilabel:`Billing/Subscriptions` page.

.. _backup-pricing:

Determine Backup Costs
----------------------

Backup costs are affected by snapshot size and by your settings for
snapshot frequency and retention.

Snapshot Size
+++++++++++++

The per-gigabyte charge for Backup is applied to the size of your most
recent snapshot. A snapshot is roughly equivalent to the size of all
documents and all indexes for all the databases backed up.

To retrieve the size of the documents and indexes in a given database,
issue the :manual:`dbStats </reference/command/dbStats>` command and sum
the ``dataSize`` and ``indexSize`` fields. In the following example output
of a :manual:`dbStats </reference/command/dbStats>` command that was
issued to return gigabytes, the size of the database's documents and
indexes is roughly 79.07GB, as found by adding the ``dataSize`` and
``indexSize`` fields:

.. code-block:: javascript

   {
       "db" : "mmsdbconfig",
       "collections" : 88,
       "objects" : 115153078,
       "avgObjSize" : 551.9170146368124,
       "dataSize" : 59.1901531778276,
       "storageSize" : 64.05994385480881,
       "numExtents" : 553,
       "indexes" : 235,
       "indexSize" : 19.876188188791275,
       "fileSize" : 89.89453125,
       "nsSizeMB" : 16,
       "extentFreeList" : {
           "num" : 19,
           "totalSize" : 0
       },
       "dataFileVersion" : {
           "major" : 4,
           "minor" : 22
       },
       "ok" : 1
   }

Settings for Frequency and Retention
++++++++++++++++++++++++++++++++++++

The cost per gigabyte on the :ref:`pricing information
<pricing-information>` page assumes an installation that uses the default
settings for :ref:`snapshot frequency and retention
<snapshot-frequency-and-retention>`. Lowering snapshot frequency or
retaining fewer snapshots lowers the rate. Retaining an increased number
of snapshots increases the rate. To view your rate, click the
:guilabel:`Usage Details` link on the :guilabel:`Billing/Subscriptions`
page.

Administrators can change frequency and retention through the
:doc:`snapshotSchedule resource </reference/api/snapshot-schedule>` in the
API. Lowering snapshot frequency increases how long it takes to build a
:ref:`point-in-time restore <point-in-time-restore>`.

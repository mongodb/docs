.. _mcli-om-owner-create-command:

=================================
mongocli ops-manager owner create
=================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``owner create`` command creates the first user with the 
:opsmgr:`Global Owner </reference/user-roles/#global-owner-role>` 
role for an |mms| installation. You can also create the user through 
the |mms| :opsmgr:`API </reference/api/user-create-first/>` or the 
first time that you open the |mms| UI. 

.. _om-owner-create-syntax:

Syntax 
------ 

.. code-block:: text 

   mongocli ops-manager owner create 
        --email <user-email-address>
        --firstName <user-first-name>
        --lastName <user-last-name> 
        [ --password|-p <user-password> ]
        [ --profile|-P <profile-name> ]
        [ --whitelistIps <user-connection-IP-addresses> ]

.. include:: /includes/fact-command-line-help.rst

.. _om-owner-create-options:

Options 
------- 

.. list-table:: 
   :header-rows: 1 
   :widths: 20 10 60 10 

   * - Option 
     - Type 
     - Description 
     - Required? 

   * - ``--email``
     - string
     - Email address of the user.
     - yes

   * - ``--firstName``
     - string
     - First name of the user.
     - yes

   * - ``--lastName``
     - string
     - Last name of the user.
     - yes

   * - ``--password``, ``-p``
     - string
     - Password for the user. If omitted, prompts for password. 
     - no

   * - ``--profile``, ``-P``
     - string
     - Name of the profile where the |mms| base URL is set. If 
       omitted, uses the ``default`` profile.
     - no

   * - ``--whitelistIps``
     - string
     - Comma-separated list of IP addresses to add to the API 
       key.
     - no

.. _om-owner-create-output:

Output 
------

The command prints the following fields in |json| format to the terminal 
if the command succeeds. If the command prints errors, see 
:ref:`troubleshooting` for recommended solutions.

.. list-table:: 
   :header-rows: 1
   :widths: 20 10 70 

   * - Field 
     - Type 
     - Description 

   * - ``apiKey``
     - string
     - The :opsmgr:`personal API key </reference/api/api-key/index.html>` 
       for the user. Save the key in a secure file.

   * - ``user``
     - object
     - The user attributes that are set in |mms|. See 
       :ref:`om-org-owner-user-attrs` for more information.

.. _om-org-owner-user-attrs:

User Attributes 
~~~~~~~~~~~~~~~

.. list-table:: 
   :header-rows: 1 
   :widths: 30 70 

   * - Attribute 
     - Description 

   * - ``username``
     - Username of the user. This is same as the 
       email address of the user.

   * - ``firstName``
     - First name of the user.

   * - ``lastName``
     - Last name of the user.

   * - ``emailAddress``
     - Email address of the user.

   * - ``id``
     - ID of the user.

   * - ``links``
     - Array of objects with one or more links to sub-resources 
       and/or related resources. The relations between |url|\s are 
       explained in the :rfc:`Web Linking Specification <5988>`.

.. _om-owner-create-examples:

Examples 
--------

The following examples show two ways to run the command. In 
:ref:`om-owner-create-example1`, the command is run 
with all the required and optional options. In 
:ref:`om-owner-create-example2`, the command is run without the 
``--profile`` and ``--password`` options. The command uses the 
``default`` profile for |mms| base URL and prompts for 
password. 

.. _om-owner-create-example1:

Example 1 
~~~~~~~~~

The following ``mongocli ops-manager owner create`` command creates the 
first user for |mms| with the following attributes:

- First name: ``Jane``
- Last name: ``Doe``
- Password: ``p@s$w0rD``
- Email address: ``jane.doe@example.com``
- IP address for whitelist: ``123.456.78.9``

It uses the profile named ``omProfile`` for the |mms| base URL.

.. code-block:: sh 
   :copyable: false
   
   ~ mongocli ops-manager owner create --firstName Jane --lastName Doe --password p@ssw0rD --email jane.doe@example.com --whitelistIps 123.456.78.9 --profile ``omProfile``

.. _om-owner-create-example2:

Example 2 
~~~~~~~~~

The following ``mongocli ops-manager owner create`` commands show two
ways to create the first user for |mms| with the following attributes:

- First name: ``Jane``
- Last name: ``Doe``
- Email address: ``jane.doe@example.com``
- IP addresses to whitelist: ``123.456.78.9`` and ``987.654.32.1``

It uses the default profile where the |mms| base URL is set. When the 
command is run, it prompts you for a password.

The following command shows the ``--whitelistIps`` option with 
two IP addresses separated by a comma. 

.. code-block:: sh 
   :copyable: false
   
   ~ mongocli ops-manager owner create --firstName Jane --lastName Doe --email jane.doe@example.com --whitelistIps 123.456.78.9,987.654.32.1
   Password: **********

The followibg command specifies the ``--whitelistIps`` option twice, 
once for each IP address.

.. code-block:: sh 
   :copyable: false
   
   ~ mongocli ops-manager owner create --firstName Jane --lastName Doe --email jane.doe@example.com --whitelistIps 123.456.78.9 --whitelistIps 987.654.32.1 
   Password: **********

Output 
~~~~~~

The :ref:`om-owner-create-example1` and :ref:`om-owner-create-example2` 
commands print the following fileds in |json| format to the terminal. To
learn more about these fields, see :ref:`om-owner-create-output`.

.. code-block:: json 
   :copyable: false

   {
	  "apiKey": "34a93114-ec2b-4125-992e-1dd87c4148e4",
	  "user": {
		"username": "jane.doe@example.com",
		"firstName": "Jane",
		"lastName": "Doe",
		"emailAddress": "jane.doe@example.com",
		"id": "5e39bd5c31cd7c0078867c03",
		"links": [
			{
				"rel": "self",
				"href": "http://om-svc.mongodb.svc.cluster.local:8080/api/public/v1.0/users/5e39bd5c31cd7c0078867c03"
			},
			{
				"rel": "http://mms.mongodb.com/whitelist",
				"href": "http://om-svc.mongodb.svc.cluster.local:8080/api/public/v1.0/users/5e39bd5c31cd7c0078867c03/whitelist"
			}
		]
	  }
   }

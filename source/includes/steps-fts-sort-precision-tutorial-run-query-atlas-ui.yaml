stepnum: 1
ref: go-to-search-tester-fts-sort-precision
inherit:
  file: steps-fts-tutorial-run-query-atlas-ui.yaml
  ref: go-to-search-tester-fts

---
stepnum: 2
ref: query-syntax-search-tester-fts-sort-precision
inherit:
  file: steps-fts-tutorial-run-query-atlas-ui.yaml
  ref: query-syntax-search-tester-fts

---
stepnum: 3
ref: run-query-search-tester-fts-compound-sort-precision
title: "Run an |fts| query against the indexed field and sort for precision."
content: |
  .. include:: /includes/extracts/fts-sort-for-precision-desc.rst
  
  Copy and paste the following query into the :guilabel:`Query Editor`, 
  and then click the :guilabel:`Search` button in the 
  :guilabel:`Query Editor`.
  
  .. io-code-block::
     :copyable: true 

     .. input::
        :language: json

        [
          { 
            $search: { 
              "index": "sort-tutorial",
              "compound": {
                "should": [{
                  "wildcard": {
                    "query": ["Prance*"],
                    "path": "title",
                    "score": {
                      "constant": {
                        "value": 99
                      }
                    },
                    "allowAnalyzedField": true
                  }
                },
                {
                  "wildcard": {
                    "query": ["Prince*"],
                    "path": "title",
                    "score": {
                      "constant": {
                        "value": 95
                      }
                    }
                  }
                }]
              },
            }
          }
        ]
        
     .. output::
        :visible: true
        
        SCORE: 99  _id:  "573a1398f29313caabceb98e"
          plot: "A farm girl nurses a wounded reindeer she believes is one of Santa's, …"
          genres: Array
          runtime: 103
          title: "Prancer"

        SCORE: 99  _id:  "573a13a5f29313caabd14f54"
          plot: "Preteen brothers from a broken marriage live with their mother, Denise…"
          genres: Array
          runtime: 91
          title: "Prince of Foxes"

        SCORE: 95  _id:  "573a1397f29313caabce8081"
          plot: "A New York City narcotics detective reluctantly agrees to cooperate wi…"
          genres: Array
          runtime: 167
          title: "Prince of the City"

        SCORE: 95  _id:  "573a1398f29313caabcea967"
          fullplot: "A sinister secret has been kept in the basement of an abandoned Los An…"
          imdb: Object
          year: 1987
          title: "Prince of Darkness"

        SCORE: 95  _id:  "573a139af29313caabcf0b34"
          fullplot: "While protecting his village from rampaging boar-god/demon, a confiden…"
          imdb: Object
          year: 1997
          title: "Princess Mononoke"

        SCORE: 95  _id:  "573a13a0f29313caabd0618e"
          fullplot: "While protecting his village from rampaging boar-god/demon, a confiden…"
          imdb: Object
          year: 1997
          title: "Princess Mononoke"

        SCORE: 95  _id:  "573a13a2f29313caabd0a767"
          plot: "Six old-style funny silhouetted fairy tales for not so-old-style peopl…"
          genres: Array
          runtime: 70
          title: "Princes and Princesses"

        SCORE: 95  _id:  "573a13a5f29313caabd14adf"
          plot: "When her father is captured by The Sheriff of Nottingham and Prince Jo…"
          genres: Array
          runtime: 88
          title: "Princess of Thieves"

        SCORE: 95  _id:  "573a13a6f29313caabd16a30"
          plot: "Fernando, a.k.a. Fernanda, a 19-year-old Brazilian transvestite, trave…"
          genres: Array
          runtime: 94
          title: "Princesa"

  .. include:: /includes/extracts/fts-sort-for-precision-results.rst

---
stepnum: 4
ref: expand-query-results-search-tester-fts-sort-precision
inherit:
  file: steps-fts-tutorial-run-query-atlas-ui.yaml
  ref: expand-query-results-search-tester-fts

...

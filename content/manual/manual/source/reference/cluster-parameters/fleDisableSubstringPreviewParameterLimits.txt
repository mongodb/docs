.. _fleDisableSubstringPreviewParameterLimits:

=========================================
fleDisableSubstringPreviewParameterLimits
=========================================

.. meta:: 
   :keywords: on-prem

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. |both| replace:: Available for both :binary:`~bin.mongod` and :binary:`~bin.mongos`.

Definition
----------

.. parameter:: fleDisableSubstringPreviewParameterLimits
   
   .. versionadded:: 8.2
      
   |both|
   
   Overrides the string length limitations for :ref:`substring queries 
   <qe-substring-parameters>` on {+qe+} enabled collections. 
   
   You can only set ``fleDisableSubstringPreviewParameterLimits`` on 
   :binary:`~bin.mongos` or a replica set primary. The value is set 
   cluster-wide.

Syntax 
------

To set ``fleDisableSubstringPreviewParameterLimits`` for your deployment, run
the following command on the ``admin`` database:

.. code-block:: javascript

   db.adminCommand(
      {
         setClusterParameter: {
            fleDisableSubstringPreviewParameterLimits: { shouldOverride: true }
         }
      }
   )

To view the current value, run the following command on the ``admin`` database: 

.. code-block:: javascript

   db.adminCommand( { getClusterParameter: "fleDisableSubstringPreviewParameterLimits" } )

Behavior
--------

By default, MongoDB enforces soft limits for {+qe+} encrypted string fields
with :ref:`substring queries <qe-substring-parameters>` enabled:

- ``strMaxLength`` is limited to 60 characters
- ``strMaxQueryLength`` is limited to 10 characters
- ``strMinQueryLength`` must be 2 or higher

This parameter overrides these restrictions.

.. important::

   Querying long encrypted strings strongly impacts performance. Limit
   string length and query length whenever possible.

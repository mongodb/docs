.. _manage-existing-data-sources:
.. _charts-modify-data-source:

============================
Manage Existing Data Sources
============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Users who are :data:`Owners <Owner>` of a data source can
modify certain properties of that data source. This page outlines the
modifications data source ``Owners`` can make.

.. _mod-data-source-alias:

Rename a Data Source
--------------------

By default, the name of a data source is its corresponding database
and collection name. A data source ``Owner`` can rename that
data source.

To rename a data source:

1. Navigate to your :ref:`Data Sources List <data-sources-view>`.

#. Hover over the desired data source's :guilabel:`Name` field.

#. Click the appearing :icon-fa5:`pencil-alt` icon.

#. Click the check mark to save the new name.

.. _data-source-embedding:

Modify Embedding Settings
-------------------------

A data source ``Owner`` can allow other people to
:ref:`embed charts <embedding-charts>` which use the data source
in external web pages. In order to allow a chart to be embedded
in an external web page, you must enable embedding both on the
data source and the individual chart.

Embedding is disabled by default for all data sources. To enable
embedding for a data source:

1. Navigate to your :ref:`Data Sources List <data-sources-view>`.

#. Click the ellipsis (:guilabel:`...`) button on the far right side
   of the desired data source.

#. Select :guilabel:`Embedding Options` from the dropdown menu.

#. Toggle the switch in the top right corner to :guilabel:`On`.

#. Select either:

   a. :guilabel:`Verified Signature only`. This option requires
      embedded charts to include a :ref:`verified signature
      <embedding-charts>` with each request sent to the data source.
      Without a verified signature, the chart will not render. This
      option allows the chart owner to ensure that the chart is used
      only in its intended context.

      Generating a verified signature for authorized users to include
      with their embedded charts requires some server-side code.
      Examples in several languages and platforms are available with
      the :ref:`verified signature documentation <embedding-charts>`.

   #. :guilabel:`Unauthenticated or Verified Signature`. This option
      allows the chart to be viewed either with or without a verified
      signature, so that anyone with the link may view the embedded
      chart. It is simpler to implement than the verified signature
      only option, but it is less secure. It should only be used for
      charts which display non-sensitive data.

After enabling embedding for a data source, you can enable embedding
for individual charts which use that data source.

.. note::

   If you change the embedding option for a data source from
   :guilabel:`On` to :guilabel:`Off`, all embedded charts which use
   that data source will stop rendering immediately.

.. _mod-data-source-permissions:

Modify Data Source Permissions
------------------------------

A data source ``Owner`` can modify
:ref:`user permissions <permission-model>` on that data source. To
modify user permissions:

1. Navigate to your :ref:`Data Sources List <data-sources-view>`.

#. Click the :guilabel:`Access` button in the :guilabel:`Permissions`
   column for the data source you want to modify permissions.

#. Perform the desired permission changes for the data source. Refer
   to the :ref:`Data Source Permissions <permission-model>` page for
   details on the permissions available and instructions on
   :ref:`setting the permissions <data-source-set-permissions>`.

#. Click :guilabel:`Apply Changes`.

.. _modify-data-source-read-preference:

Modify Data Source Read Preference
----------------------------------

A data source ``Owner`` can modify the read preference of a data
source. A data source's read preference determines which
:manual:`replica set member </core/replica-set-members>` the data
source reads data from.

Read preference options are:

- :manual:`Secondary </core/replica-set-members/#secondaries>`
- :atlas:`Analytics Node </faq/#analytics-nodes-overview>`
- :manual:`Nearest </reference/read-preference/#nearest>`
- :manual:`Primary </core/replica-set-members/#replica-set-primary-member>`

If your Atlas cluster includes one or more :atlas:`analytics nodes
</faq/#analytics-nodes-overview>`, they are the best choice for your
data source read preference. Analytics nodes provide :manual:`workload
isolation </core/workload-isolation>` and reduce strain on your
cluster's data-bearing nodes.

.. important::

   Not all Atlas clusters include analytics nodes, and the
   :guilabel:`Analytics Node` option appears in the read preference
   selection UI whether analytics nodes are available or not. Consult
   your :atlas:`cluster configuration </scale-cluster/>` and ensure
   that your cluster has analytics nodes available before choosing
   :guilabel:`Analytics Node` for your data source's read preference.

   If you select :guilabel:`Analytics Node` for your data source's
   read preference when no analytics nodes are available, any charts
   which use the data source will produce an error the next time they
   read from the data source.

If your Atlas cluster does not have analytics nodes available, the next
best choice is :guilabel:`Secondary`. Reading from a secondary node
reduces strain on your primary node.

To modify the read preference for a data source:

1. Navigate to your :ref:`Data Sources List <data-sources-view>`.

#. Click the ellipsis (:guilabel:`...`) button on the right-hand side
   of the data source you want to modify.

#. Click :guilabel:`Edit Read Preference`.

#. Select your desired setting from the dropdown menu.

#. Click the :guilabel:`Save` button.

.. note::

   After changing a data source's read preference, it takes a few minutes
   for the change to take effect. All data sources which read from the
   same Atlas cluster will use the selected read preference setting.

.. _charts-remove-data-source:

Remove a Data Source
--------------------

A data source ``Owner`` can remove that data source. To remove a data
source:

1. Navigate to your :ref:`Data Sources List <data-sources-view>`.

#. Click the ellipsis (:guilabel:`...`) button on the right-hand side
   of the data source you want to delete.

#. Click :guilabel:`Delete Data Source`.

#. Click :guilabel:`Delete Data Source` again in the dialog to confirm
   deletion.

.. important::

   Any charts using the deleted data source will need to be
   reconfigured using a different data source or deleted.

.. _autocomplete-tutorial:

==================================
How to Use Autocomplete with |fts|
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

This tutorial describes how to create an |fts| index that enables 
autocomplete queries. We will create an |fts| index for indexing 
values of the ``title`` field in the ``sample_mflix.movies`` 
collection. The index enables ``autocomplete`` operators to query the 
``title`` field. Then we will run a search for a sequence of 
characters against the ``title`` field for movie title suggestions that 
match the incomplete input string. It takes you through the following 
steps:

1. Set up an |fts| index with autocomplete data type for the 
   ``sample_mflix.movies`` collection.

#. Run |fts| queries against the ``title`` field in the 
   ``sample_mflix.movies`` collection for a sequence of characters that 
   appear in the movie titles.

Before you begin, ensure that your Atlas cluster meets the requirements 
described in the :ref:`Prerequisites <fts-tutorials-prereqs>`.

Define an Index with Autocomplete
---------------------------------

.. include:: /includes/fact-autocomplete-field-type.rst

In this section, you will create an |fts| index that indexes the 
``title`` field for autocompletion using the ``edgeGram`` tokenization 
strategy. 

.. include:: /includes/steps/fts-autocomplete-tutorial-create-index.rst

Run an Autocomplete Query
-------------------------

.. include:: /includes/fact-autocomplete-operator.rst

In this section, you will connect to your |service| cluster and the run 
the sample queries against the ``title`` field in the 
``sample_mflix.movies`` collection using the ``autocomplete`` operator. 
The sample queries use a sequence of characters to find movie titles 
that begin with the input character string. |fts| returns results that 
begin with the specified query string because the ``title`` field is 
indexed using the ``edgeGram`` tokenization strategy.

.. include:: /includes/steps/fts-autocomplete-tutorial-run-query.rst

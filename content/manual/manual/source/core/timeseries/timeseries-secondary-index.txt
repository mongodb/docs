.. _timeseries-add-secondary-index:

================================================
Add Secondary Indexes to Time Series Collections
================================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. meta::
   :keywords: IOT
   :description: Improve query performance for time series collections by adding secondary indexes, including compound indexes on `metaField` and `timeField`.

To improve query performance for :term:`time series collections <time
series collection>`, add one or more :term:`secondary indexes <secondary
index>` to support common time series query patterns. Starting in
MongoDB 6.3, MongoDB automatically creates a :ref:`compound index
<index-type-compound>` on the ``metaField`` and ``timeField`` fields for
new collections.

.. note::

   Not all index types are supported. For a list of unsupported index
   types, see :ref:`Limitations for Secondary Indexes on Time Series
   Collections <timeseries-limitations-secondary-indexes>`.

.. composable-tutorial::
   :options: interface, language
   :defaults: mongosh, None

   .. selected-content::
      :selections: driver, csharp

      .. include:: /includes/time-series/timeseries-secondary-index-csharp.rst

   .. selected-content::
      :selections: driver, java-sync

      .. include:: /includes/time-series/timeseries-secondary-index-java.rst

   .. selected-content::
      :selections: mongosh, None

      .. include:: /includes/time-series/timeseries-secondary-index-mongosh.rst

   .. selected-content::
      :selections: driver, nodejs

      .. include:: /includes/time-series/timeseries-secondary-index-nodejs.rst

   .. selected-content::
      :selections: driver, python

      .. include:: /includes/time-series/timeseries-secondary-index-python.rst


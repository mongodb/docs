title: "Click :guilabel:`Deployment`."
stepnum: 1
level: 4
ref: select-the-deployment-page
---
title: "Click :guilabel:`Deployment`, then the :guilabel:`Security` tab, and then :guilabel:`Authentication & SSL`."
stepnum: 1
level: 4
ref: select-deployment-security
---
title: "Click :guilabel:`Deployment`, then click the :guilabel:`Processes` tab, and then the :guilabel:`Topology` view."
stepnum: 1
level: 4
ref: select-deployment-topology
---
stepnum: 2
level: 4
title: "Check {{mechanism}}, then click :guilabel:`Next`."
replacement:
  mechanism: "the authentication mechanism"
ref: select-auth-type
---
stepnum: 3
level: 4
title: "Configure SSL if desired."
content: |
  a. Toggle the :guilabel:`Enable SSL` slider to :guilabel:`Yes`.

  b. Click :guilabel:`Next`

  .. note::
     See :doc:`/tutorial/enable-ssl-for-a-deployment` for SSL setup
     instructions. 
ref: optional-configure-ssl
---
stepnum: 4
level: 4
title: "Configure the Authentication Mechanism for the Agents."
replacement:
  mechanism: "the authentication mechanism"
pre: |

  If you enable more than one authentication mechanism, you must specify which
  one of the authentication mechanisms the |mms| agents should use to connect
  to your deployment.

  a. Select {{mechanism}} from the :guilabel:`Agent Auth Mechanism` drop-down menu.
content: |

  b. |mms| automatically generates the Agents' usernames and passwords.
  
     |mms| creates users for the agents with the required user roles in the
     admin database for each existing deployment in |mms|. When you add a new
     deployment, |mms| creates the required users in the new deployment. 

  c. Click :guilabel:`Save`.

post: |
  You do not need to configure all of the agents, only the ones you installed.

  .. example::
     If you did not install the Backup agent, you do not need to configure the Backup
     agent.

ref: select-configure-auth-mechanism
---
stepnum: 0
level: 4
title: "Configure the LDAP Authorization Settings. (Optional)"
content: |

  .. note:: 
     This is optional. You can choose to enter nothing and click
     :guilabel:`Skip`.

  .. important::
     This feature is available only for MongoDB 3.4 or later. 

  a. Provide the following setting values:

     .. list-table::
        :header-rows: 1
        :widths: 30 70

        * - Setting
          - Value

        * - :guilabel:`Authorization Query Template`
          - Specify the LDAP query to get the list of LDAP groups for an
            LDAP user.

        * - :guilabel:`User to Distinguished Name Mapping`
          - Specify the LDAP transformation to map a MongoDB username to an
            LDAP Distinguished Name to search for an LDAP user's groups in 
            your LDAP implementation. 

  b. Click :guilabel:`Use LDAP Authorization`.

  c. Provide the following setting values:

     .. list-table::
        :header-rows: 1
        :widths: 30 70

        * - Setting
          - Value

        * - Servers
          - Specify the ``hostname:port`` combination of one or more LDAP servers.
        * - Transport Security 
          - Specify ``None`` or ``TLS`` for TLS/SSL encryption of your LDAP queries.
        * - Timeout (ms)  
          - Specify how long an authentication request should wait before timing out.
        * - Bind Method  
          - Specify either ``Simple`` or ``SASL``. SSL is recommended with the 
            ``Simple`` bind method as it passes a password in clear text.
        * - SASL Mechanisms  
          - Specify which SASL mechanism MongoDB should use to authenticate with 
            the LDAP server.
        * - Query User  
          - Specify the LDAP Distinguished Name to which MongoDB binds when 
            connecting to an LDAP server.
        * - Query Password  
          - Specify the password with which MongoDB binds when connecting to an 
            LDAP server.
        * - LDAP User Cache Invalidation Interval (s)  
          - Specify how long MongoDB waits to flush the LDAP user cache. Defaults to `30`.

  d. Click :guilabel:`Next`.

ref: set-ldap-authorization-settings
...

.. The published page has additional FAQs in a nested include.

==========================
Frequently Asked Questions
==========================

.. default-domain:: mongodb

This document addresses common questions about |mms| and its use.

.. only:: cloud

   .. _faq-automation:

   Management FAQs
   ---------------

   Can |mms| Manage an Existing MongoDB Deployment?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   Yes. See :doc:`/tutorial/nav/manage-hosts`.

   How does |mms| Manage MongoDB deployments?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   After you provision servers in |mms| or deploy the Automation Agent in
   the environment of the MongoDB deployment, each agent periodically
   communicates with |mms| and performs any required the work.

   Agents constantly reassess their environment to adapt their work as
   necessary. If an agent encounters an issue, such as
   network connectivity problems, |mms| failure, or server failure, the agents adjust
   their work to compensate and safely arrive at their goal state.

   Agents create plans to move from their current state to a goal state. Plans
   execute in steps, where each step is autonomous and independent of
   other steps.

   For example, for an installation, the plan involves downloading
   MongoDB, starting the process with the appropriate command line
   options, initializing the replica set, waiting for a healthy
   majority. The configuration reaches goal state when the replica set is
   active and has a healthy majority.

   What versions of MongoDB can |mms| Manage?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   Automation supports all versions of MongoDB after 2.4.

   How many Automation Agents do I need?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   To use Automation, you must have an agent running on every host where
   a managed MongoDB instance runs.

   Is any MongoDB data transferred by the Automation Agent?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   Agents do *not* transmit any data from a MongoDB deployment. The
   agents only communicate deployment configuration information.

   Will |mms| handle failures during an upgrade, such as |mms| going down or a network partition?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   Generally speaking, yes. The design of the management and automation
   components of |mms| do not account for *all* possible failures; however
   the architecture of the system can work around many types of failures.

   What types of deployment can I create in |mms|?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   You can configure all MongoDB deployment types, including standalones,
   replica sets, and sharded clusters. You can also configure replica
   set-member types, such as arbiter, hidden, and delayed secondary, and can
   configure replica set options, such as priority level.

   Can I deploy MongoDB to a cloud provider with |mms|?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   .. **BUILD WARNINGS**::

      This content below is nested in an "only:: cloud" directive (way above), but "make html-onprem"
      still throws errors for the links to "/tutorial/configure-aws-settings" and "security-group."

   You can deploy MongoDB to Amazon Web Services (AWS). For more
   information, see :doc:`/tutorial/configure-aws-settings`.

   How does an AWS security group affect access to MongoDB instances?
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   The AWS security group affects whether MongoDB instances can
   communicate with each other within the deployment and affects access to
   the deployment from MongoDB clients, such as the :program:`mongo` shell
   or a :manual:`driver </applications/drivers>`. At minimum the security
   group must have the inbound rules described in the
   :ref:`security-group` section of this manual.

.. _faq-monitoring:

Monitoring FAQs
---------------

Host Configuration
~~~~~~~~~~~~~~~~~~

How do I add a new host or server?
++++++++++++++++++++++++++++++++++

See :doc:`/tutorial/add-hosts-to-monitoring`.

Can I monitor Kerberos-enabled instances?
+++++++++++++++++++++++++++++++++++++++++

Yes. |monitoring| does support monitoring for
Kerberos-enabled MongoDB instances. See
:doc:`/tutorial/configure-monitoring-agent-for-kerberos`
for more information.

.. _db-stats-warning:

How does |mms| gather database statistics?
++++++++++++++++++++++++++++++++++++++++++

In most instances, |monitoring| will scale its request cycle to limit more
expensive statistics gathering. The DB Stats information updates every 10
minutes, and the agent will throttle the frequency to reduce the impact on
the database. [#dbstats]_ Even so, the "DB stats" operation impacts the
performance of your database, as is possible when installations have a
large number of databases and collections.

If the collection of database statistics impacts database performance,
disable database stats collection before starting your agent. Select the
:guilabel:`Administration` tab, then the :guilabel:`Group Settings` page,
and then set :guilabel:`Collect Database Specific Statistics` to ``NO``.

.. [#dbstats] DB Stats will not appear until 30 minutes
   after you add the host to |monitoring|

.. include:: /includes/faq-agents.rst

Data Presentation
~~~~~~~~~~~~~~~~~

What are all those vertical bars in my charts?
++++++++++++++++++++++++++++++++++++++++++++++

A *red bar* indicates a server restart.

A *orange bar* indicates the server is now a primary.

A *brown bar* indicates the server is now a secondary.

Why is my Monitoring Agent highlighted in red?
++++++++++++++++++++++++++++++++++++++++++++++

.. The agent can be viewed from either the Administration/Agent page or
   the Deployment/Deployment/SERVER VIEW page.

Your agent is out of date.

You can update the Monitoring Agent from the :guilabel:`Agents` page on the |mms|
`Administration tab`_.

.. _`Administration tab`: https://mms.mongodb.com/settings

Data Retention
~~~~~~~~~~~~~~

What is the data retention policy for |mms|?
++++++++++++++++++++++++++++++++++++++++++++

|mms| retains two distinct types of data: metrics, which describe usage;
and snapshots, which back up your data.

Data-retention policies, as defined in the `Terms of Service`_, are always
subject to change.

As of this writing, |mms| preserves:

- Minute-level metrics for 48 hours.

- Hourly metrics for 94 days.

- Snapshots according to their :ref:`retention policy
  <snapshot-frequency-and-retention>`.

.. _`Terms of Service`: https://mms.mongodb.com/links/terms-of-service

.. _faq-backup:

Backup FAQs
-----------

|mms| Backup creates backups of MongoDB replica sets and sharded
clusters. After an initial sync to MongoDB's datacenters, |mms| Backup
tails the operation log (:manual:`oplog </core/replica-set-oplog/>`)
to provide a continuous backup with point-in-time recovery of replica
sets and consistent snapshots of sharded clusters. For more
information, please review these frequently asked questions or create
an |mms| Backup account.

Requirements
~~~~~~~~~~~~

What version of MongoDB does |backup| require?
++++++++++++++++++++++++++++++++++++++++++++++

To back up a sharded cluster, |backup|
requires version 2.4.3 or later.

To back up a replica set, |backup| requires
version 2.2 or later.

.. only:: classic or cloud

   What MongoDB permissions does the Backup Agent require?
   +++++++++++++++++++++++++++++++++++++++++++++++++++++++

   If you are backing up a MongoDB instance that has authentication enabled,
   the Backup Agent requires elevated privileges, as described in
   :ref:`required-permissions-mms-backup`.

   .. seealso:: :manual:`User Privilege Roles in MongoDB </reference/user-privileges/>`.

Are there any limits to the types of deployments |backup| supports?
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Yes. |backup| does not currently support standalone deployments.
|backup| has full support for replica sets and sharded clusters.

Why doesn't |backup| support standalone deployments?
++++++++++++++++++++++++++++++++++++++++++++++++++++

After an initial sync of your data to |mms|, |backup| copies
data from the :term:`oplog` to provide a continuous backup with
point-in-time recovery. |backup| does not support standalone servers,
which do not have an oplog. To support backup with a single
:program:`mongod` instance, you can run a one-member
replica set.

.. seealso:: :manual:`Convert a Standalone to a Replica Set </tutorial/convert-standalone-to-replica-set/>`.

How Does |mms| Measure Data Size?
+++++++++++++++++++++++++++++++++

|mms| uses the following conversions to measure snapshot size and to measure
how much oplog data has been processed:

- 1 MB = 1024\ :sup:`2` bytes

- 1 GB = 1024\ :sup:`3` bytes

- 1 TB = 1024\ :sup:`4` bytes

Interface
~~~~~~~~~

How can I verify that I'm running the latest version of the Backup Agent?
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

If your Backup Agent is out of date, it will be highlighted in red on
the :guilabel:`Agents` page of the :guilabel:`Administration` tab.

Why is my Backup Agent highlighted in red?
++++++++++++++++++++++++++++++++++++++++++

If your agent is highlighted in red on the :guilabel:`Agents` page of
the :guilabel:`Administration` tab, your agent is out of date. For instructions on
updating the agent, see :doc:`/tutorial/nav/install-backup-agent`.

Operations
~~~~~~~~~~

How does |backup| work?
+++++++++++++++++++++++

You install the Backup Agent on a server in the same deployment with
your MongoDB infrastructure. The agent conducts an initial sync of
your data to |mms|. After the initial sync, the agent tails the
:manual:`oplog </manual/core/replica-set-oplog/>` to provide a
continuous backup of your deployment.

Where should I run the Backup Agent?
++++++++++++++++++++++++++++++++++++

The Backup Agent can run anywhere in your infrastructure that has access
to your ``mongod`` instances. To avoid contention for network and CPU
resources, *do not* run the Backup Agent on the same hosts that provide
your ``mongod`` instances.

The Backup Agent has the same performance profile impact as a secondary.
For the initial backup, the load scales with the size of your data set.
Once an initial backup exists, the load scales with oplog gigabytes used
per hour.

Can I run the Backup and Monitoring Agents on a Single System?
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

.. include:: /includes/faq-backup-and-monitoring-agent-on-one-server.rst

Can I run multiple Backup Agents to achieve high availability?
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

You can run multiple Backup Agents for high availability. If you do, the
Backup Agents must run on different hosts.

When you run multiple Backup Agents, only one agent per group or
environment is the **primary agent**. The primary agent performs the
backups. The remaining agents are completely idle, except to log their
status as standbys and to periodically ask |mms| whether they should
become the primary.

Does the Backup Agent modify my database?
+++++++++++++++++++++++++++++++++++++++++

The Backup Agent writes a small token into the oplog of the source
database every hour. These tokens provide a heartbeat for |backup| and
have no effect on the source deployment. Each token is less than 100
bytes.

Will the MongoDB Backup Service impact my production databases?
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

|backup| will typically have minimal impact on
production MongoDB deployments. This impact will be similar to that of
adding a new :term:`secondary` to a :term:`replica set`.

By default, the Backup Agent will perform its initial sync,
the most resource intensive operation for |backup|, against
a secondary member of the replica set to limit its impact.
You may optionally configure the Backup Agent to
perform the initial sync against the replica set's :term:`primary`,
although this will increase the impact of the initial sync operation.

.. only:: classic or cloud

   Is my data safe?
   ++++++++++++++++

   Yes, |mms| uses enterprise-grade hardware co-located in secure data centers to
   store all user data. The Backup Agent transmits all data using SSL. The data
   is not encrypted at rest. |backup| requires two-factor authentication to
   provide any data for restores.

   Is there a limit to Backup size?
   ++++++++++++++++++++++++++++++++

   |backup| works optimally for deployments in which each replica set has
   a data size of less than 2 TB. Within a sharded cluster, this means
   that |backup| is optimized for clusters where each shard has a data
   size of less than 2 TB.

   There is currently no limit on the total size of snapshot storage.

   If you wish to use |backup| for a larger deployment, please
   `contact us <https://mms.mongodb.com/links/support>`_ for more information.

What is the load on the database during the initial Backup sync?
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

The impact of the initial backup synchronization should be similar to
syncing a new secondary replica set member. The Backup Agent does not
throttle its activity, and attempts to perform the sync as quickly as
possible.

Can I backup my standalone deployment?
++++++++++++++++++++++++++++++++++++++

No. |backup| does not currently support standalone
deployments. To convert to a replica set, consult MongoDB's `replication
documentation <http://docs.mongodb.org/manual/replication/>`_.

How do I perform maintenance on a Replica Set with Backup enabled?
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Most operations in a replica set are replicated via the oplog and are
thus captured by the backup process. Some operations, however, make
changes that are *not* replicated: for these operations you *must*
:doc:`have the Backup service resync from your current replica set
</tutorial/resync-backup>` to include the changes.

The following operations are not replicated and therefore require
resync:

- Renaming or deleting a database by deleting the data files in the data
  directory. As an alternative, remove databases using an operation
  that MongoDB will replicate, such as :method:`db.dropDatabase()` from
  the :program:`mongo` shell.

- Changing any data while the instance is running as a :term:`standalone`.

- Using :dbcommand:`compact` or :dbcommand:`repairDatabase` to reclaim a
  significant amount of space. This is not strictly necessary but will
  ensure that the |mms| copy of the data is resized, which means quicker
  restores and lower costs.

.. seealso:: :manual:`Maintenance Operations for Replica Set Members </tutorial/perform-maintence-on-replica-set-members>`.

.. only:: classic or cloud

   Does the Backup Agent Support SSL?
   ++++++++++++++++++++++++++++++++++

   The Backup Agent *always* connects to the |mms| servers using an SSL (HTTPS)
   connection.

   The Backup Agent can connect to replica sets and shared clusters
   configured with SSL. See the :doc:`/tutorial/configure-backup-agent-for-ssl`
   documentation for more information.

How Do I Delete a Backup Snapshot?
++++++++++++++++++++++++++++++++++

You can delete replica set backup snapshots and snapshots for replica sets in a
sharded cluster set if the snapshots are not needed for point-in-time restores.
See :doc:`/tutorial/delete-backup-snapshots` for details.

Configuration
~~~~~~~~~~~~~

What are "excluded namespaces"?
+++++++++++++++++++++++++++++++

Excluded namespaces are databases and collections that |mms| will not
back up. This is useful for large databases or collections that
contain data that you will not need to restore: caches and logs, for example.

How can I prevent |backup| from backing up a collection?
++++++++++++++++++++++++++++++++++++++++++++++++++++++++

|backup| allows you to specify "excluded namespaces", which are
collections or databases that you do not want |mms| to back up.

You can specify the namespaces to exclude when you initially enable
backup on a replica set or sharded cluster, or can edit the list at
any time by selecting the ":guilabel:`gear icon`" in the
:guilabel:`Sharded Cluster Status` or :guilabel:`Replcia Set Status`
tables in |mms|.

How can I change which namespaces are on the "excluded namespaces" list?
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Click on the ":guilabel:`gear icon`" next to the name of the replica
set or sharded cluster whose excluded namespaces you want to modify in the
:guilabel:`Sharded Cluster Status` or :guilabel:`Replcia Set Status`
tables in |mms|. A modal window will open, where you can add
databases or collections to the list, or remove list items by clicking
on the red :guilabel:`x` icon.

Removing a namespace from the excluded namespaces list necessitates a
re-sync. |backup| handles this re-sync.

.. only:: onprem

   How can I use backup if Backup Jobs Fail to Bind?
   +++++++++++++++++++++++++++++++++++++++++++++++++

   The most common reason that jobs fail to bind to a Backup daemon is
   when no daemon has space for local copy of the backed up replica
   set.

   To increase capacity so that the backup job can bind, you can:

   - add an additional backup daemon.

   - increase the size of the file system that holds the
     :setting:`rootDirectory` directory.

   - move the :setting:`rootDirectory` data to a new volume with more
     space, and create a symlink or configure the file system mount
     points so that the daemon can access the data using the original
     path.

   How do I resolve ``applyOps`` Errors During Backups?
   ++++++++++++++++++++++++++++++++++++++++++++++++++++

   If you notice *consistent* errors in ``applyOps`` commands in your
   Backup logs, it *may* indicate that the daemon has run out of space.

   To increase space on a daemon to support continued operations, you
   can:

   - increase the size of the file system that holds the
     :setting:`rootDirectory` directory.

   - move the :setting:`rootDirectory` data to a new volume with more
     space, and create a symlink or configure the file system mount
     points so that the daemon can access the data using the original
     path.

.. only:: cloud

   Can I convert a replica set to a sharded cluster?
   +++++++++++++++++++++++++++++++++++++++++++++++++

   |mms| does not support the conversion of one type of deployment to
   another.  To convert a replica set to a sharded cluster, see
   :manual:`Convert Replica Set to Sharded Cluster
   </tutorial/convert-replica-set-to-replicated-shard-cluster>`
   in the MongoDB manual.

   Can I convert a standalone to a replica set?
   ++++++++++++++++++++++++++++++++++++++++++++

   |mms| does not support the conversion of one type of deployment to
   another.  To convert a standalone deployment to a replica set, see
   :manual:`Convert Standalone to Replica Set
   </tutorial/convert-standalone-to-replica-set>` in the
   MongoDB manual.

Restoration
~~~~~~~~~~~

|mms| Backup produces a copy of your data files that you can use to seed a
new deployment.

How can |mms| provide point-in-time restores for any point in time?
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Although it is faster to provide a restore for the time at which a
snapshot was actually stored, this might not be ideal when restoring a
replica set or sharded cluster. In consequence, the Backup service
can build a restore to any point in time within a 24-hour period by
replaying the oplog to the desired time.

For details, see the :doc:`procedures for restoring replica sets and sharded clusters
</tutorial/nav/backup-use-restore>`.

Can I take snapshots more frequently than every 6 hours?
++++++++++++++++++++++++++++++++++++++++++++++++++++++++

No, |mms| does not support a snapshot schedule more frequent than every 6
hours. For more information, see :ref:`snapshot-frequency-and-retention`.

Can I set my own snapshot retention policy?
+++++++++++++++++++++++++++++++++++++++++++

Yes. Administrators can change the :ref:`snapshot frequency and retention
policy <snapshot-frequency-and-retention>` through the
:doc:`snapshotSchedule resource </reference/api/snapshot-schedule>` in the API.

For example, you may choose to capture more frequent snapshots for the
most mission critical data, and capture snapshots less frequently for less
critical data.

.. only:: classic or cloud

   Customizing snapshot frequency and retention policies give you greater
   control over your :ref:`backup costs <backup-pricing>`.

.. only:: classic or cloud

   How many copies of my data does the Backup Service store?
   ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

   Although we only charge you for only one copy of the data, |backup| stores
   at least 3 copies of your data in at least 2 geographic locations to ensure
   redundancy.

How long does it take to create a restore?
++++++++++++++++++++++++++++++++++++++++++

|mms| transmits all backups in a compressed form from the |mms| server
to your infrastructure.

.. only:: classic or cloud

   Within the US, |backup| sends snapshots at 50-100 Mbps. Assuming a
   compression factor of 4x and transmission speeds of 50 Mbps, a 250 GB
   snapshot will take 2.5 hours.

In addition, point-in-time restores that require creating a new
snapshot take additional time, which depends on the size of the
scheduled snapshot and the amount the oplog entries that |backup| must
apply to the preceding snapshot to roll forward to the requested
point-in-time of the backup.

Does |backup| perform any data validation?
++++++++++++++++++++++++++++++++++++++++++

|backup| conducts basic corruption checks and provides an alert if any
component (e.g., the agent) is down or broken, but does not perform
explicit data validation. When it detects corruption, |backup| errs on
the side of caution and invalidates the current backup and sends an
alert.

How do I restore? What do I get when I restore?
+++++++++++++++++++++++++++++++++++++++++++++++

You can request a restore via |mms|, where you can then choose which
snapshot to restore and how you want |backup| to deliver the
restore. All restores require
2-factor authentication. |mms| will send an authorization code via SMS
code to your administrator. You must enter the authorization code into
the backup interface to begin the restore process.

.. include:: /includes/fact-two-factor-auth-India-limit.rst

|backup| delivers restores as ``tar.gz`` archives of
MongoDB data files.

Restore delivery options are:

- **SCP to your Infrastructure**: |backup| will transmit the
  backup to your infrastructure over a secure channel.  You must
  provide connection information for a host in your deployment.

- **Download**: |backup| will make your restore data
  available using a custom, one-time-use URL.

.. _backup-faq-scp-validation:

How do I know an SCP restore push has completed and is correct?
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

When you receive restoration files through an SCP push, |mms| sends SHA-1
hash files, also called checksum files, along with the restore files. The
hash files have the ``.sha1`` extension,

To ensure the restore files are complete and correct, use the Unix shasum
utility:

.. code-block:: sh

   shasum -c <checksum file>

What is the SCP public key for |mms|?
+++++++++++++++++++++++++++++++++++++

|mms| generates an SSH public key on a per user basis to
use when delivering backups via SCP. To generate a public key, select the
:guilabel:`Administration` tab and then the :guilabel:`Group Settings`
page. In the :guilabel:`Public Key for SCP Restores` section, type in a
:guilabel:`Passphrase` and click :guilabel:`GENERATE A NEW PUBLIC KEY`.
The public key will generate an SSH key and display it. Add this key
to your authorized hosts file.

See the :guilabel:`Public Key for SCP Restores` setting on the
:ref:`Group Settings page <group-settings-page>`
for more information about granting access via SSH public key.

How does Backup handle Rollbacks?
+++++++++++++++++++++++++++++++++

If your MongoDB deployment experiences a :manual:`rollback
</core/replica-set-rollbacks>`, then |mms| Backup also rolls back.

Backup detects the rollback when a :term:`tailing cursor <tailable
cursor>` finds a mismatch in timestamps or hashes of write operations.
Backup enters a rollback state and tests three points in the oplog of your
replica set's :term:`primary` to locate a common point in history. |mms| rollback differs
from MongoDB :term:`secondary` rollback in that the common point does not
necessarily have to be the most *recent* common point.

When Backup finds a common point, the service invalidates oplog entries
and snapshots beyond that point and rolls back to the most recent snapshot
before the common point. Backup then resumes normal operations.

If |mms| cannot find a common point, a :doc:`resync
</tutorial/resync-backup>` is required.

What conditions will require a resync?
++++++++++++++++++++++++++++++++++++++

If the Backup Agent's :term:`tailing cursor <tailable cursor>` cannot keep up
with your deployment's :term:`oplog`, then you must :doc:`resync the Backup
Service </tutorial/resync-backup>`.

This scenario might occur, for example, if:

- Your application periodically generates a lot of data, shrinking the
  primary's oplog window to the point that data is written to the oplog faster
  than Backup can consume it.

- If the Backup Agent is running on an under-provisioned or over-used machine
  and cannot keep up with the oplog activity.

- If the Backup Agent is down for a period of time longer than the oplog size
  allows. If you bring down your agents, such as for maintenance, restart them
  in a timely manner. For more information on oplog size, see :manual:`Replica
  Set Oplog </core/replica-set-oplog>` in the MongoDB manual.

- If all you delete all replica set data and deploy a new replica set with the
  same name, as might happen in a test environment where deployments are
  regularly torn down and rebuilt.

- If there is a rollback, and Backup cannot find a common point in the oplog.

- If an oplog event tries to update a document that does not exist in the
  Backup replica set, as might happen if syncing from a secondary that has
  inconsistent data with respect to the primary.

.. only:: cloud or classic

   How much does it cost to use |mms| Backup?
   ++++++++++++++++++++++++++++++++++++++++++

   The pricing for |mms| Backup is based on snapshot size, schedule, and
   retention policy. See :ref:`backup-pricing`.

.. _faq-administration:

Administration FAQs
-------------------

User and Group Management
~~~~~~~~~~~~~~~~~~~~~~~~~

.. **BUILD WARNINGS**:: The above is getting a "SEVERE: Title level inconsistent" error.

How do I reset my password?
+++++++++++++++++++++++++++

You can reset your password using the `password reset form
<https://mms.mongodb.com/user/resetPassword>`_.

How do I change my password?
++++++++++++++++++++++++++++

You can change your password by `resetting your password
<https://mms.mongodb.com/user/resetPassword>`_.

.. _password-requirements:

What are the password requirements?
+++++++++++++++++++++++++++++++++++

.. include:: /includes/faq-mms-password-requirement.rst

.. only:: classic or cloud

   Passwords for the `MongoDB Jira`_ instance and |mms| are the same,
   although the length and character requirements are different for Jira
   and |mms|.

How do I add a user to my company/group?
++++++++++++++++++++++++++++++++++++++++

.. only:: classic or cloud

   If the user already has a `MongoDB Jira`_ or |mms| account, you can add
   their username to your group on the admin page.

   If the user does not have a Jira account then they can create a new
   account through `<https://mms.mongodb.com/>`_

.. only:: onprem

   Instruct the user to create a new account through the URL for your
   |onprem| installation.

After they have created an account, you can add their username to the
company/group on the admin page.

How do I remove my company/group?
+++++++++++++++++++++++++++++++++

.. include:: /includes/fact-remove-group.rst

How can I configure multiple Google Authenticator apps to use the same account?
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

By selecting the :guilabel:`Can't scan the barcode?` option during the
procedure to :ref:`two-factor-google-authenticator`. The option provides a
common key that multiple Google Authenticator apps can use.

Activity
~~~~~~~~

.. _exposed-hosts-alert:

My alert email says my host(s) are exposed to the public Internet. What does that mean?
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

.. todo: is that the email subject going forward?

.. only:: classic or cloud

   Any alerts set to check if your host is exposed to the public internet will
   attempt to connect to your servers occasionally as part of a vulnerability
   check to help test your firewall configuration. This is a weak
   security validation and should not replace other auditing or intrusion
   detection system procedures.

   If you configured a setting called :guilabel:`Exposed Db Host Check`, it is now
   an alert you can edit or disable. Newly created groups have an exposed host
   alert created and activated automatically, along with a Monitoring Agent down alert.
   Existing groups must set the exposed host alert manually.

   When enabled, this alert runs twice a month, on the first and fifteenth. Once
   |mms| finds an exposed host, the service will try to connect to the exposed host
   every five minutes until the host is no longer accessible. The exposed host
   alert email looks the same as other alert emails.

   |mms| attempts to connect with both the IP address and the non-canonical host
   identifier.

   .. Re above: Is there still a non-canonical host identifier? The Deployment page has no Name field.

.. only:: onprem

   This alert indicates only that the |mms| server can connect to the
   :program:`mongod` that it is monitoring. It does not
   diagnose whether your host is exposed to the public, despite the alert
   message. This alert occurs if you configured a setting called :guilabel:`Exposed
   DB Host Check`, which is a setting used with the Cloud version of |mms|.

See :doc:`/tutorial/manage-alerts-and-events` to disable or modify the
exposed host alerts.

How do I modify my alert settings?
++++++++++++++++++++++++++++++++++

To enable, disable, or modify alerts, select the :guilabel:`Activity` tab
and then the :guilabel:`Alert Settings` page. For more information, see
:doc:`/tutorial/manage-alert-configurations`.

How frequently can alerts be set?
+++++++++++++++++++++++++++++++++

|mms| processes alerts on a 5-minute interval. Therefore, the minimum frequency
for an alert is 5 minutes. The default frequency for new alert configurations
is 60 minutes.

.. seealso::`Activity: Alerts and Events
   <http://mms.mongodb.com/help/management/activity/>`_.

Operations
~~~~~~~~~~

Do Web or Database Hosting Companies Integrate with |mms|?
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Web hosting companies can offer the ability to use |mms| with their hosted
MongoDB databases, for example, to set up software agents to monitor and backup
databases hosted on their servers. MongoDB has confirmed compatability with
MongoHQ, MongoLab, and Heroku. Implementation details depend on each
hosting company.

`MongoHQ`_ offers |mms| upon request as part of their Database as a Service
(DaaS) business.

`MongoLab`_ offers |mms| as part of their Database as a Service (DaaS) business.
MongoLab offers the service on their dedicated plans and shared replica set
plan. They also provide `instructions to tune MongoDB performance`_ with |mms| on
their servers.

MongoHQ and MongoLab are MongoDB Advanced Partners.

`Heroku`_ offers web hosting with a `MongoHQ add-on`_ and `MongoLab add-on`_ to
use MongoDB databases from these database hosting companies. Heroku also offers
|mms| monitoring of those databases with `detailed setup instructions`_.

.. _`Heroku`: http://www.heroku.com
.. _`MongoHQ add-on`: https://devcenter.heroku.com/articles/mongohq
.. _`MongoLab add-on`: https://devcenter.heroku.com/articles/mongolab
.. _`detailed setup instructions`: https://devcenter.heroku.com/articles/mongolab#setting-up-mongodb-monitoring-system-mms
.. _`MongoHQ`: http://www.mongohq.com
.. _`MongoLab`: http://www.mongolab.com
.. _`instructions to tune MongoDB performance`: http://blog.mongolab.com/2013/12/tuning-mongodb-performance-with-mms/

About |mms|
~~~~~~~~~~~

What open source projects does |mms| use?
+++++++++++++++++++++++++++++++++++++++++

- Database: `MongoDB <http://mongodb.org>`_
- App framework: `Google Guice <http://code.google.com/p/google-guice/>`_
- Http server: `Jetty <http://jetty.codehaus.org/jetty/>`_
- Web framework: `Jersey <http://jersey.java.net/>`_
- Misc server libs: `Apache Commons <http://commons.apache.org/>`_
- UI lib: `jQuery <http://jquery.com/>`_ , `Bootstrap <http://twitter.github.io/bootstrap/>`_
- Charts: `dygraphs <http://dygraphs.com/>`_
- Graphics: `Font-Awesome <http://fortawesome.github.io/Font-Awesome/>`_

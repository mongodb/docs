.. _iam-org-user-list:

============================
mongocli iam orgs users list
============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``mongocli iam orgs users list`` command lists users in your 
MongoDB service organization. You can also list the users in 
your MongoDB service organization using the: 

- |service| :atlas:`UI </access/manage-org-users/#view-active-users-and-outgoing-invitations-in-an-organization>` or 
  :atlas:`API </reference/api/organization-users-get-all-users/>`
- |cloud-short| :cloudmgr:`UI </tutorial/manage-users/#view-active-users-and-pending-invitations-in-an-organization>` 
  or :cloudmgr:`API </reference/api/organizations/organization-get-all-users/>`
- |onprem| :opsmgr:`UI </tutorial/manage-users/#view-active-users-and-pending-invitations-in-an-organization>` 
  or :opsmgr:`API </reference/api/organizations/organization-get-all-users/>`

.. _mcli-iam-org-user-list-cmd-permissions:

Permissions Required 
--------------------

The following table lists the roles you must have to retrieve the 
users in your MongoDB service organization. 

.. list-table::
   :header-rows: 1 
   :widths: 40 60 

   * - MongoDB Service
     - Role

   * - |service|
     - :atlas:`Organization Owner </reference/user-roles/#Organization-Owner>`

   * - |cloud-short|
     - :cloudmgr:`Organization Owner 
       </reference/user-roles/#Organization-Owner>`

   * - |onprem|
     - :opsmgr:`Organization Owner </reference/user-roles/#Organization-Owner>`

.. _mcli-iam-org-user-list-syntax:

Syntax 
------

.. code-block:: text 

   mongocli iam orgs users list
        [ --limit <integer> ]
        [ --orgId <organization-ID> ]
        [ --output|-o <output-format> ]
        [ --page <integer> ]
        [ --profile|-P <profile-name> ]

.. include:: /includes/fact-command-line-help.rst

.. _mcli-iam-org-user-list-options:

Options 
-------

.. list-table:: 
   :header-rows: 1
   :widths: 20 10 60 10

   * - Option 
     - Type 
     - Description 
     - Required? 

   * - ``--limit``
     - integer
     - Number of projects to return from the result set.

       - If omitted, returns all projects.
       - If this value exceeds the number of projects, ``mongocli``
         returns all projects.
     - no

   * - ``--orgId`` 
     - string 
     - Unique identifier of the organization for which you want to 
       retrieve the users. If omitted, uses the specified profile 
       to access the MongoDB service organization.
     - no

   * - ``--output``, ``-o``
     - string 
     - .. include:: /includes/extracts/fact-basic-options-output.rst
     - no

   * - ``--page``
     - integer
     - Starting chunk of projects to return from the result set. The
       ``--limit`` flag sets the number of projects per page.

       - If omitted, returns the first page.
       - If this value exceeds the number of pages, ``mongocli``
         returns the last page.
     - no 

   * - ``--profile``, ``-P`` 
     - string 
     - Name of the profile that contains the access information. If
       omitted, uses the {+default-profile+}. 
     - no 

.. _mcli-iam-org-user-list-output:

Output 
------

The command prints the following output to the terminal if the command 
succeeds. If the command returns errors, see :ref:`Troubleshooting 
<troubleshooting>` for recommended solutions.

.. code-block:: none
   :copyable: false 

   ID          FIRST NAME     LAST NAME     USERNAME
   <user-ID>   <first-name>   <last-name>   <username>

The above default output is a subset of the fields returned by this command. For the complete list of |json| fields returned by the command, see the |api| reference for your MongoDB service:

- :atlas:`Atlas 
  </reference/api/organization-users-get-all-users/#response-elements>`
- :cloudmgr:`Cloud Manager 
  </reference/api/organizations/organization-get-all-users/#response-elements>`
- :opsmgr:`Ops Manager 
  </reference/api/organizations/organization-get-all-users/#response-elements>`

.. _mcli-iam-org-user-list-examples:

Example
-------

.. tabs::

   .. tab:: Default
      :tabid: default

      The following command lists the users in the specified |onprem| 
      organization. It uses the {+default-profile+} for accessing |onprem|. 

      .. code-block:: text 

         mongocli iam orgs users list --orgId 5df27c15f10fab55fc6c1234

      The previous command prints the following in the default format to 
      the terminal. For more information on these fields, see 
      :ref:`Output <mcli-iam-org-user-list-output>`.

      .. code-block:: json 
         :copyable: false 

         ID                         FIRST NAME   LAST NAME   USERNAME
         5f6e2c02a2dcef512bf0f169   John         Doe         john.doe@example.com

   .. tab:: JSON
      :tabid: json

      The following command lists the users in an |service| organization. It 
      uses the profile named ``atlasProfile`` for accessing |service|. 

      .. code-block:: text 

         mongocli iam orgs users list --profile atlasProfile --output json

      The previous command prints the following in the specified format to 
      the terminal. For more information on these fields, see 
      :ref:`Output <mcli-iam-org-user-list-output>`.

      .. code-block:: json 
         :copyable: false

         {
           "links": [
             {
               "rel": "self",
               "href": "http://cloud.mongodb.com/api/public/atlas/v1.0/orgs/5f6e2caba2dcef512bf0f32d/users?pageNum=1\u0026itemsPerPage=100"
             }
           ],
           "results": [
             {
               "id": "5f6e2c02a2dcef512bf0f169",
               "emailAddress": "john.doe@example.com",
               "firstName": "John",
               "lastName": "Doe",
               "roles": [
                 {
                   "groupId": "5e399b9a7a3e5a1772948493",
                   "roleName": "GROUP_OWNER"
                 },
                 {
                   "orgId": "5dd6fa0c7a3e5a1d0fa27e35",
                   "roleName": "ORG_OWNER"
                 }
               ],
               "username": "john.doe@example.com"
             }
           ],
           "totalCount": 1
          }

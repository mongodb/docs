.. _charts-sorting-limiting:

===============================
Sort and Limit Categorical Data
===============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

When adding a string field to a *non-series* :guilabel:`category`
:ref:`encoding channel <encoding-channels>`, |charts-short|
provides the ability to :ref:`sort <charts-sort-data>` and
:ref:`limit <charts-limit-data>` results of your data to achieve
the best visualization.

.. _charts-sort-data:

Sort Data
---------

By default, |charts-short| sorts the data based on the
:guilabel:`category` field in ascending order. This displays the values
of the :guilabel:`category` field in alphabetical order.

Alternatively, you can choose to sort the data by the
:guilabel:`aggregated value` of the visualization. To toggle between
ascending or descending sort order, click the ``a-z`` button to the
right of the :guilabel:`Sort By` dropdown.

.. _charts-limit-data:

Limit Data
----------

You can apply a limit to the :guilabel:`category` encoding channel
to only include a specified number of categories in your visualization.
The categories included are the *first* matching categories based on
the :ref:`sort order <charts-sort-data>` specified. Limiting data can
be useful when visualizing data with so many categories it becomes
difficult to create a meaningful chart.

.. example::

   The following chart shows the average
   `IMDb <https://www.imdb.com/>`_ rating of movies from a
   particular country:

   .. figure:: /images/charts/charts-movie-ratings-by-country.png
      :figwidth: 720px
      :alt: Movie ratings by country

   The dataset contains movies from many different countries, but it
   would be most interesting to see which countries produce the
   highest-rated movies. We can accomplish this by applying a limit to
   only show countries with the 10 highest average ratings for movies.

   Switch the :guilabel:`Limit Results` toggle to ``On`` and leave the
   :guilabel:`Show` input at the default value of 10. The chart is now
   much easier to understand, and we have a clear view of the countries
   with the highest-rated movies:

   .. figure:: /images/charts/charts-movie-ratings-by-country-limited.png
      :figwidth: 720px
      :alt: Movie ratings by country limited

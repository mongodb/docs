========================================
Advanced Options for MongoDB Deployments
========================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

The following :program:`mongod` and :program:`mongos` configuration options
are available through the |mms| :guilabel:`Advanced Options` field when you
deploy MongoDB. You select advanced options when deploying
:doc:`replica sets </tutorial/deploy-replica-set>`, :doc:`sharded clusters
</tutorial/deploy-sharded-cluster>`, and :doc:`standalone instances
</tutorial/deploy-standalone>`.

Advanced Options
----------------

The |mms| :guilabel:`Advanced Options` map to the MongoDB configuration options
and parameters described here.

auditLog
~~~~~~~~

- :guilabel:`auditLogDestination`: :setting:`auditLog.destination`
- :guilabel:`auditLogFormat`: :setting:`auditLog.format`
- :guilabel:`auditLogPath`: :setting:`auditLog.path`
- :guilabel:`auditLogFilter`: :setting:`auditLog.filter`

basisTech
~~~~~~~~~

- :guilabel:`rootDirectory`: :setting:`basisTech.rootDirectory`

net
~~~

- :guilabel:`bind_ip`: :setting:`net.bindIp`

  .. warning::
     If you set the ``net.bind_ip``, you must include ``127.0.0.1`` as well.

     .. example:: ``198.51.100.0,127.0.0.1``

- :guilabel:`maxConns`: :setting:`net.maxIncomingConnections`

net.http
~~~~~~~~

.. versionchanged:: MongoDB 3.6

   MongoDB 3.6 removes the deprecated ``net.http`` settings. You cannot
   set ``net.http`` settings on MongoDB 3.6+ deployments.

- :guilabel:`nohttpinterface`: :setting:`net.http.enabled`
- :guilabel:`jsonp`: :setting:`net.http.JSONPEnabled`
- :guilabel:`rest`: :setting:`net.http.RESTInterfaceEnabled`

net.ssl
~~~~~~~

- :guilabel:`sslOnNormalPorts`: :setting:`net.ssl.sslOnNormalPorts`
- :guilabel:`sslPEMKeyFile`: :setting:`net.ssl.PEMKeyFile`
- :guilabel:`sslPEMKeyPassword`: :setting:`net.ssl.PEMKeyPassword`
- :guilabel:`sslMode`: :setting:`net.ssl.mode`

operationProfiling
~~~~~~~~~~~~~~~~~~

- :guilabel:`slowms`: :setting:`operationProfiling.slowOpThresholdMs`
- :guilabel:`profile`: :setting:`operationProfiling.mode`

processes
~~~~~~~~~

- :guilabel:`numCores`: :setting:`processes.numCores`

processManagement
~~~~~~~~~~~~~~~~~

- :guilabel:`pidfilepath`: :setting:`processManagement.pidFilePath`

replication
~~~~~~~~~~~

- :guilabel:`oplogSize`: :setting:`replication.oplogSizeMB`
- :guilabel:`enableMajorityReadConcern`: :setting:`replication.enableMajorityReadConcern`

security
~~~~~~~~

- :guilabel:`clusterAuthMode`: :setting:`security.clusterAuthMode`
- :guilabel:`enableEncryption`: :setting:`security.enableEncryption`
- :guilabel:`encryptionCipherMode`: :setting:`security.encryptionCipherMode`
- :guilabel:`encryptionKeyFile`: :setting:`security.encryptionKeyFile`
- :guilabel:`javascriptEnabled`: :setting:`security.javascriptEnabled`

security.kmip
~~~~~~~~~~~~~

- :guilabel:`keyIdentifier`: :setting:`security.kmip.keyIdentifier`
- :guilabel:`serverName`: :setting:`security.kmip.serverName`
- :guilabel:`kmipPort`: :setting:`security.kmip.port`
- :guilabel:`clientCertificateFile`: :setting:`security.kmip.clientCertificateFile`
- :guilabel:`clientCertificatePassword`: :setting:`security.kmip.clientCertificatePassword`
- :guilabel:`serverCAFile`: :setting:`security.kmip.serverCAFile`

setParameter
~~~~~~~~~~~~

- :guilabel:`connPoolMaxConnectionsPerHost`: :manual:`connPoolMaxConnectionsPerHost </reference/parameters/#param.connPoolMaxConnectionsPerHost>`
- :guilabel:`connPoolMaxShardedConnsPerHost`: :manual:`connPoolMaxShardedConnectionsPerHost </reference/parameters/#param.connPoolMaxShardedConnectionsPerHost>`
- :guilabel:`wiredTigerConcurrentReadTransactions`: :manual:`wiredTigerConcurrentReadTransactions </reference/parameters/#param.wiredTigerConcurrentReadTransactions>`
- :guilabel:`wiredTigerConcurrentWriteTransactions`: :manual:`wiredTigerConcurrentWriteTransactions </reference/parameters/#param.wiredTigerConcurrentWriteTransactions>`
- :guilabel:`releaseConnectionsAfterResponse`: :v2.4:`releaseConnectionsAfterResponse </reference/parameters>`
- :guilabel:`newCollectionsUsePowerOf2Sizes`: :manual:`newCollectionsUsePowerOf2Sizes </reference/parameters/#param.newCollectionsUsePowerOf2Sizes>`
- :guilabel:`enableLocalhostAuthBypass`: :manual:`enableLocalhostAuthBypass </reference/parameters/#param.enableLocalhostAuthBypass>`
- :guilabel:`enableTestCommands`: :manual:`enableTestCommands </reference/parameters/#param.enableTestCommands>`
- :guilabel:`ttlMonitorEnabled`: :manual:`ttlMonitorEnabled </reference/parameters/#param.ttlMonitorEnabled>`
- :guilabel:`failIndexKeyTooLong`: :manual:`failIndexKeyTooLong </reference/parameters/#param.failIndexKeyTooLong>`
- :guilabel:`logLevel`: :manual:`logLevel </reference/parameters/#param.logLevel>`
- :guilabel:`saslHostName`: :manual:`saslHostName </reference/parameters/#param.saslHostName>`
- :guilabel:`saslServiceName`: :manual:`saslServiceName </reference/parameters/#param.saslServiceName>`
- :guilabel:`[other]`: specify a **custom option** and its value. You cannot use the ``other`` field
  to specify an option that is available in the drop-down menu.

sharding
~~~~~~~~
- :guilabel:`moveParanoia`: :setting:`sharding.archiveMovedChunks`
- :guilabel:`noAutoSplit`: :setting:`sharding.autoSplit` set to ``false``

storage
~~~~~~~

- :guilabel:`syncdelay`: :setting:`storage.syncPeriodSecs`
- :guilabel:`noprealloc`: :setting:`storage.mmapv1.preallocDataFiles`
- :guilabel:`smallfiles`: :setting:`storage.mmapv1.smallFiles`
- :guilabel:`nssize`: :setting:`storage.mmapv1.nsSize`
- :guilabel:`quota`: :v2.4:`quota </reference/configuration-options>`
- :guilabel:`quotaFiles`: :v2.4:`quotaFiles </reference/configuration-options>`
- :guilabel:`directoryperdb`: :setting:`storage.directoryPerDB`
- :guilabel:`engine`: :setting:`storage.engine`
  
  .. include:: /includes/option-in-memory-storage.rst

storage.journal
~~~~~~~~~~~~~~~

- :guilabel:`nojournal`: :setting:`storage.journal.enabled`
- :guilabel:`journalCommitInterval`: :setting:`storage.mmapv1.journal.commitIntervalMs`

storage.wiredTiger.collectionConfig
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- :guilabel:`blockCompressor`: :setting:`storage.wiredTiger.collectionConfig.blockCompressor`

storage.wiredTiger.engineConfig
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- :guilabel:`cacheSizeGB`: :setting:`storage.wiredTiger.engineConfig.cacheSizeGB`
- :guilabel:`checkpointDelaySecs`: :setting:`storage.syncPeriodSecs`
- :guilabel:`journalCompressor`: :setting:`storage.wiredTiger.engineConfig.journalCompressor`
- :guilabel:`directoryForIndexes`: :setting:`storage.wiredTiger.engineConfig.directoryForIndexes`
- :guilabel:`statisticsLogDelaySecs`: :setting:`storage.wiredTiger.engineConfig.statisticsLogDelaySecs`

storage.wiredTiger.indexConfig
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- :guilabel:`prefixCompression`: :setting:`storage.wiredTiger.indexConfig.prefixCompression`

storage.inMemory.engineConfig
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- :guilabel:`prefixCompression`: :setting:`storage.inMemory.engineConfig.inMemorySizeGB`

systemLog
~~~~~~~~~

- :guilabel:`logappend`: :setting:`systemLog.logAppend`:
- :guilabel:`quiet`: :setting:`systemLog.quiet`:
- :guilabel:`syslog`: :setting:`systemLog.destination`:
- :guilabel:`logTimestampFormat`: :setting:`systemLog.timeStampFormat`
- :guilabel:`logRotate`: :setting:`systemLog.logRotate`
- :guilabel:`verbosity`: :setting:`systemLog.verbosity`

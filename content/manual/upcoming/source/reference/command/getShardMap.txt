==============================
getShardMap (database command)
==============================

.. meta::
   :description: Retrieve shard and config server details of your MongoDB cluster using the `getShardMap` command, including hostnames and connection strings.

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. dbcommand:: getShardMap

   :dbcommand:`getShardMap` returns the following information about
   your cluster:
   
   - The names of your shards and the config server replica set
   - Hostnames and connection strings for the nodes that comprise the
     cluster's shards and the config server replica set

   You must use the admin database to run :dbcommand:`getShardMap`.

Compatibility
-------------

This command is available in deployments hosted in the following environments: 

.. include:: /includes/fact-environments-atlas-only.rst

.. include:: /includes/fact-environments-atlas-support-no-free.rst

.. include:: /includes/fact-environments-onprem-only.rst

Syntax
------

The command has the following syntax:

.. code-block:: javascript

   db.runCommand("getShardMap")

Output Document
~~~~~~~~~~~~~~~

Here's an example of the output the command returns:

.. include:: /includes/getShardMap-example-output.rst

The command returns the following fields:

.. list-table::
   :header-rows: 1
   :widths: 20 80

   * - Field
     - Description

   * - ``"map"``

     - List of shards in the cluster, the config server for the
       cluster, and the hostname and port for every node in the cluster.
   
   * - ``"hosts"``

     - List of hostnames and ports for the nodes of the cluster and the
       shards or config server to which they map.

   * - ``"connStrings"``

     - List of connection strings for the nodes grouped by the shard or
       config server the node belongs to.

Learn More
----------

For more sharding commands, see :ref:`db-commands-sharding`.

.. slave-ok, admin-only

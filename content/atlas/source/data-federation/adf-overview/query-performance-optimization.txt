.. _data-federation-query-performance-optimization:

:orphan:

=================================================================================
{+adf+} Query Performance Optimization  
=================================================================================

.. default-domain:: mongodb

.. facet:: 
   :name: genre
   :values: reference

.. meta::
   :keywords: data plane
   :description: Explore how Atlas Data Federation enables querying, transforming, and moving data across various sources within and outside MongoDB Atlas.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

To optimize the performance of your queries, {+adf+} does the following: 

- For Cloud Object Storage, it uses data partitioning to select the
  files that it needs to process based on query parameters. To learn
  more, see :ref:`adf-path-syntax` and
  :ref:`adf-path-attribute-types`. Additionally, it uses Parquet
  metadata to reduce the amount of data it scans from parquet files
  using row group selection or column projection. To learn more, see
  :ref:`Parquet Data Format <adf-parquet-data>`. 
- For |service| {+clusters+}, it tries to "push down" as much of the query
  to the {+cluster+} as possible. For example, if your aggregation pipeline
  has a :pipeline:`$match` stage and if it can be processed locally, 
  {+adf+} tries to process that stage in the |service| {+cluster+} and only
  returns the resulting documents back to the federated layer for
  processing subsequent stages. To learn more, see :ref:`query-atlas`.

To learn more, see :ref:`optimize-query-perf`.

You can connect to {+adf+} using MongoDB language-specific
:driver:`drivers </>`, {+mongosh+}, and :ref:`Atlas SQL
<query-with-sql>`. To learn more, see :ref:`gst-connect-adf`.
title: "Increase each server's default ``ulimit`` settings."
stepnum: 1
level: 4
ref: ulimits
pre: |
  If you are installing to RHEL, check whether the
  ``/etc/security/limits.d`` directory contains
  the ``90-nproc.conf`` file. If the file exists, remove it. (The
  ``90-nproc.conf`` file overrides ``limits.conf``.) Issue the following
  command to remove the file:
action:
  language: sh
  code: |
    sudo rm /etc/security/limits.d/90-nproc.conf
post: |
  For more information, see :manual:`UNIX ulimit Settings </reference/ulimit>`
  in the MongoDB manual.
---
title: Install MongoDB on each server.
stepnum: 2
level: 4
ref: install-mongodb
action:
  - pre: |
      First, set up a repository definition by issuing the following command:
    language: sh
    code: |
      echo "[mongodb-org-3.2]
      name=MongoDB Repository
      baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/3.2/x86_64/
      gpgcheck=0
      enabled=1" | sudo tee -a /etc/yum.repos.d/mongodb-org-3.2.repo
  - pre: |
      Second, install MongoDB by issuing the following command:
    language: sh
    code: |
      sudo yum install -y mongodb-org mongodb-org-shell
...

=========
View Logs
=========

.. default-domain:: mongodb

Overview
--------

.. only:: cloud

   |mms| collects log information for both MongoDB and the |mms| agents. For
   MongoDB deployments, |mms| provides access to both real-time logs and on-disk
   logs.

   The MongoDB logs provide the diagnostic logging information for your
   :manual:`mongod </reference/program/mongod>` and 
   :manual:`mongos </reference/program/mongos>` instances.
   The Agent logs provide insight
   into the behavior of your |mms| agents.

.. only:: classic or onprem

   |mms| collects log information for both MongoDB and the |mms| agents.

   The MongoDB logs provide the diagnostic logging information for your
   :manual:`mongod </reference/program/mongod>` and 
   :manual:`mongos </reference/program/mongos>` instances.
   The Agent logs provide insight
   into the behavior of your |mms| agents.

MongoDB Real-Time Logs
----------------------

The Monitoring Agent collects real-time log information from each MongoDB
deployment by issuing the :manual:`getLog </reference/command/getLog>` command
with every monitoring ping. The :manual:`getLog </reference/command/getLog>`
command collects log entries from the MongoDB RAM cache.

|mms| enables real-time log collection by default. You can disable log
collection for either the whole |mms| group or for individual MongoDB instances. If
you disable log collection, |mms| continues to display previously collected log
entries.

View MongoDB Real-Time Logs
+++++++++++++++++++++++++++

.. include:: /includes/steps/view-host-logs-from-buffer.rst

Enable or Disable Log Collection for a Deployment
+++++++++++++++++++++++++++++++++++++++++++++++++

.. include:: /includes/steps/enable-host-logs.rst

Enable or Disable Log Collection for the Group
++++++++++++++++++++++++++++++++++++++++++++++

.. include:: /includes/steps/enable-host-logs-group.rst

.. only:: cloud

   MongoDB On-Disk Logs
   --------------------

   |mms| can collect on-disk logs even if the MongoDB instance is not running.
   The Automation Agent collects the logs from the location specified by the
   MongoDB ``systemLog.path`` :manual:`configuration option
   </reference/configuration-options>`. The MongoDB on-disk logs are a subset
   of the real-time logs and therefore less verbose.

   You can configure log rotation for the on-disk logs. |mms| enables log
   rotation by default.

   View MongoDB On-Disk Logs
   +++++++++++++++++++++++++

   .. include:: /includes/steps/view-host-logs-on-disk.rst

   Configure Log Rotation
   ++++++++++++++++++++++

   .. include:: /includes/steps/manage-host-logs-on-disk.rst


.. _agent-logs:

Agent Logs
----------

|mms| collects logs for all your Automation Agents, Monitoring Agents, and
Backup Agents. To view the logs:

.. include:: /includes/steps/view-agent-logs.rst

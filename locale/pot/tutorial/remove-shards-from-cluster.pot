# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2011-2015
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 3.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2015-03-30 14:28-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/tutorial/remove-shards-from-cluster.txt:3
# e1130e82f25a495b9dbe420642035462
msgid "Remove Shards from an Existing Sharded Cluster"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:7
# cadeefa1559441fc9481942bdf1771a4
msgid "To remove a :term:`shard` you must ensure the shard's data is migrated to the remaining shards in the cluster. This procedure describes how to safely migrate data and how to remove a shard."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:11
# 01d8af31ef5b4273ba53b3fdd0682888
msgid "This procedure describes how to safely remove a *single* shard. *Do not* use this procedure to migrate an entire cluster to new hardware. To migrate an entire shard to new hardware, migrate individual shards as if they were independent replica sets."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:19
# 1a12a8a318894fc081a28802c8442532
msgid "To remove a shard, first connect to one of the cluster's :program:`mongos` instances using :program:`mongo` shell. Then use the sequence of tasks in this document to remove a shard from the cluster."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:27
# 6952988f2acd4964b2a3e7012930b501
msgid "Ensure the Balancer Process is Enabled"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:29
# 7b7e2b87fb8548cba0ddeb96a808136d
msgid "To successfully migrate data from a shard, the :term:`balancer` process **must** be enabled. Check the balancer state using the :method:`sh.getBalancerState()` helper in the :program:`mongo` shell. For more information, see the section on :ref:`balancer operations <sharding-balancing-disable-temporarily>`."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:38
# 20a999da4bda4482a35528ba07a10337
msgid "Determine the Name of the Shard to Remove"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:40
# 6bb7b8474e2b4bc887694b510ac1712e
msgid "To determine the name of the shard, connect to a :program:`mongos` instance with the :program:`mongo` shell and either:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:43
# aeed08193545470b90749f44c82f06c2
msgid "Use the :dbcommand:`listShards` command, as in the following:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:49
# 248947ce17bd43bbbfbcd1d82ab50e6d
msgid "Run either the :method:`sh.status()` or the :method:`db.printShardingStatus()` method."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:52
# b34cfd2c259b495a935fefd38278bc9b
msgid "The ``shards._id`` field lists the name of each shard."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:57
# 706bc52dc2734f7ab4341a70f6545e70
msgid "Remove Chunks from the Shard"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:59
# c043bba7cc514df3b7052dec234ecec1
msgid "From the ``admin`` database, run the :dbcommand:`removeShard` command. This begins \"draining\" chunks from the shard you are removing to other shards in the cluster. For example, for a shard named ``mongodb0``, run:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:69
# 5eb78950a0fb4983a1b729e23331904c
msgid "This operation returns immediately, with the following response:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:80
# befb3772989847faa92ab5371ca6b15c
msgid "Depending on your network capacity and the amount of data, this operation can take from a few minutes to several days to complete."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:86
# e395a5358cd44a739fded418d99989de
msgid "Check the Status of the Migration"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:88
# b2e7c770c4d44ff2b6790fc0f471454e
msgid "To check the progress of the migration at any stage in the process, run :dbcommand:`removeShard` from the ``admin`` database again. For example, for a shard named ``mongodb0``, run:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:97
# 4681f4ddb8cd4ec29e33e45ce9a0175b
msgid "The command returns output similar to the following:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:111
# 22ac4646e35b477fa045c94fc2fe9440
msgid "In the output, the ``remaining`` document displays the remaining number of chunks that MongoDB must migrate to other shards and the number of MongoDB databases that have \"primary\" status on this shard."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:115
# 25a8f1dac44043b78f4cd05a96582605
msgid "Continue checking the status of the `removeShard` command until the number of chunks remaining is ``0``. Always run the command on the ``admin`` database. If you are on a database other than ``admin``, you can use :method:`sh._adminCommand` to run the command on ``admin``."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:123
# 634a0a315b65463c9fba7a0f70586ac8
msgid "Move Unsharded Data"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:125
# 4736e3fdd4fb4548acaddd8f8da4c18b
msgid "If the shard is the :term:`primary shard` for one or more databases in the cluster, then the shard will have unsharded data. If the shard is not the primary shard for any databases, skip to the next task, :ref:`remove-shard-finalize-migration`."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:130
# facd8c2a001c4c159c9314ed19eba97b
msgid "In a cluster, a database with unsharded collections stores those collections only on a single shard. That shard becomes the primary shard for that database. (Different databases in a cluster can have different primary shards.)"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:137
# 8e0ae7697d33453fbed969169eeb9bec
msgid "Do not perform this procedure until you have finished draining the shard."
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:140
# 54bed226c9174f65a91b3263975670e5
msgid "To determine if the shard you are removing is the primary shard for any of the cluster's databases, issue one of the following methods:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:143
# 85874c4e8f9a4443b5f1ad36662653f0
msgid ":method:`sh.status()`"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:145
# f23b4510e54840669188bd63661e159a
msgid ":method:`db.printShardingStatus()`"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:147
# 6a18644f959642f3a8fbe48704e63400
msgid "In the resulting document, the ``databases`` field lists each database and its primary shard. For example, the following ``database`` field shows that the ``products`` database uses ``mongodb0`` as the primary shard:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:156
# b276a78cc6bc40f6ba4ae8cd7b3074f6
msgid "To move a database to another shard, use the :dbcommand:`movePrimary` command. For example, to migrate all remaining unsharded data from ``mongodb0`` to ``mongodb1``, issue the following command:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:164
# 3ebd18aa429041ddadd4bca2a1e79f55
msgid "This command does not return until MongoDB completes moving all data, which may take a long time. The response from this command will resemble the following:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:175
# 16a6628efad54a37a683cf08dd854dbb
msgid "Finalize the Migration"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:177
# 0b7baea2fe99478998186ef783f4dd13
msgid "To clean up all metadata information and finalize the removal, run :dbcommand:`removeShard` again. For example, for a shard named ``mongodb0``, run:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:186
# 041af70ce6594a38aec5c9ca5b4805b2
msgid "A success message appears at completion:"
msgstr ""

#: ../source/tutorial/remove-shards-from-cluster.txt:197
# 19c2d3019587426c9a0abdf2ec7394c9
msgid "Once the value of the ``state`` field is \"completed\", you may safely stop the processes comprising the ``mongodb0`` shard."
msgstr ""


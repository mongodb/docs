START-secure-appdb-full
---
apiVersion: mongodb.com/v1
kind: MongoDBOpsManager
metadata:
  name: om-appdb-tls-enabled
spec:
  replicas: 1
  version: "6.0.0"
  adminCredentials: ops-manager-admin-secret
  configuration:
    mms.fromEmailAddr: admin@example.com
    mms.security.allowCORS: "false"
  security:
    certsSecretPrefix:  <prefix> # Required. Text to prefix to the name of the
                                 # secret that contains Ops Manager's TLS 
                                 # certificate. Name the secret 
                                 # <prefix>-<metadata.name>-cert.    
    tls:
      ca: "opsmgr-ca" # Optional. Name of the ConfigMap file
                      # containing the certicate authority that
                      # signs the certificates that the Ops Manager
                      # resource uses.
                      # Ops Manager custom  resource.
  applicationDatabase:
    members: 3
    version: "4.4.0-ent"
    security:
      certsSecretPrefix: <prefix> # Required. Text to prefix to the 
                                  # name of the secret that contains the Application
                                  # Database's TLS certificate. Name the secret 
                                  # <prefix>-<metadata.name>-db-cert.
      tls:
        ca: "appdb-ca" # Optional. Name of the ConfigMap file
                       # containing the certicate authority that
                       # signs the certificates used by the
                       # application database.
...
END-secure-appdb-full

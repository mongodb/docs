============
Custom Roles
============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: twocols

The ``customDBRoles`` resource lets you retrieve, create, and change
custom roles in your cluster. Use custom roles to specify custom sets
of actions that the |service|
:ref:`built-in roles <atlas-user-privileges>` can't describe.

The following statements describe custom roles:

- You define custom roles at the project level, for all clusters
  in the project.

- The ``customDBRoles`` resource supports a subset of
  :manual:`MongoDB privilege actions </reference/privilege-actions/>`.
  For a complete list of privilege actions available for this resource,
  see :doc:`Custom Role actions </reference/api/custom-role-actions>`.

- Using the {+atlas-admin-api+}, you can create a subset of custom role
  actions. To create a wider list of custom role actions, use the
  |service| user interface.

- Custom roles must include actions that all project's clusters support,
  and that are compatible with each MongoDB version used by your project's
  clusters. For example, if your project has MongoDB 4.2 clusters,
  you can't create custom roles that use actions introduced in
  MongoDB 4.4.

.. include:: /includes/fact-projects-groups-synonyms.rst

.. include:: /includes/api-base-url.rst

.. list-table::
   :header-rows: 1
   :widths: 10 60 25

   * - Method
     - Endpoint
     - Description

   * - ``GET``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles </reference/api/custom-roles-get-all-roles>`

     - Get all custom roles in the project.

   * - ``GET``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles/{ROLE-NAME} </reference/api/custom-roles-get-single-role>`

     - Get the custom role named {ROLE-NAME}.

   * - ``POST``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles </reference/api/custom-roles-create-a-role>`

     - Create a new custom role in the project.

   * - ``PATCH``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles/{ROLE-NAME} </reference/api/custom-roles-update-a-role>`

     - Update a custom role in the project.

   * - ``DELETE``

     - :doc:`/groups/{GROUP-ID}/customDBRoles/roles/{ROLE-NAME} </reference/api/custom-roles-delete-a-role>`

     - Delete a custom role from the project.

.. toctree::

   /reference/api/custom-roles-get-all-roles
   /reference/api/custom-roles-get-single-role
   /reference/api/custom-roles-create-a-role
   /reference/api/custom-roles-update-a-role
   /reference/api/custom-roles-delete-a-role
   /reference/api/custom-role-actions

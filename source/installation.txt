:noprevnext:

============
Installation
============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The following document describes how to install |charts| within your
environment. For the latest information on |charts-short|, please visit
the `Charts <http://mongodb.com/charts>`_ web page.


System Requirements
-------------------

Metadata Database
~~~~~~~~~~~~~~~~~

|charts| requires a MongoDB deployment to store |charts-short| metadata.
The |charts-short| metadata database can be a cluster running on
`MongoDB Atlas <https://www.mongodb.com/cloud/atlas>`_, the cloud-hosted
service for running, monitoring, and maintaining MongoDB deployments.

.. note::

   |charts-short| does not require its own dedicated MongoDB
   deployment. If |charts-short| uses an existing MongoDB deployment,
   it will create and use the following databases: ``metadata``,
   ``app``, ``auth``, and ``log``.

Charts Server
~~~~~~~~~~~~~

|charts| must be installed on a single server running Docker CE or EE
(v17.06 or higher). The server must be in a network location that can
communicate with the metadata database and MongoDB servers that contain
the data you wish to visualize.

Supported Browsers
~~~~~~~~~~~~~~~~~~

End users accessing |charts| must use a current desktop version of
Chrome, Firefox, Edge or Safari on any operating system.

Before You Install
------------------

This section lists the required steps to complete before installing
|charts-short|.

.. include:: /includes/steps/pre-installation.rst

Install |charts|
----------------

Use the following procedure to install |charts|:

.. include:: /includes/steps/installation.rst

Start and Stop |charts|
-----------------------

MongoDB Charts executes within a single Docker container managed by
Docker Swarm.

To start Charts, deploy the stack using the supplied Docker Compose
file:

.. code-block:: sh

   docker stack deploy -c charts-docker-compose.yml mongodb-charts

To stop Charts, ask Docker to remove the stack:

.. code-block:: sh

   docker stack rm mongodb-charts

.. _charts-install-troubleshooting:

Troubleshooting
---------------

If MongoDB Charts does not successfully load in a browser after starting the
Docker stack, try the following steps:

.. include:: /includes/steps/troubleshooting.rst

.. class:: hidden

   .. toctree::
      :titlesonly:

      /backup-and-restore-keys

.. _mcli-om-server-usage-download-command:

=========================================
mongocli ops-manager serverUsage download
=========================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``serverUsage download`` command retrieves a compressed report, in 
``zip`` or ``.tar.gz`` format, of server usage in a given timeframe. 
You can also retrieve this information using the |mms| :opsmgr:`UI 
</admin/general/mongodb-usage-page/>` or :opsmgr:`API 
</reference/api/usage/create-one-report/>`.

.. _om-server-usage-download-syntax:

Syntax 
------

.. code-block:: text

   mongocli ops-manager|om serverUsage download
        [--format <format>]
        [--startDate <start-date>]
        [--endDate <end-date>]

.. include:: /includes/fact-command-line-help.rst

.. _om-server-usage-download-options:

Options
-------

.. list-table:: 
   :header-rows: 1
   :widths: 20 10 60 10 

   * - Option 
     - Type 
     - Description 
     - Required?

   * - ``--format``
     - string
     - Compression format of the resulting report. |mms| accepts **zip**
       or **.tar.gz**.
     - yes

   * - ``--startDate``
     - string
     - |iso8601| formatted date when the report starts.
     - yes

   * - ``--endDate``
     - string
     - |iso8601| formatted date when the report ends.
     - yes

.. _om-server-usage-download-output:

Output
------

If the command succeeds, it returns either a ``zip`` or ``.tar.gz`` 
compressed file based on your ``format`` parameter. If the command 
returns errors, see :ref:`Troubleshooting <troubleshooting>` for 
recommended solutions.

For more information, see the :opsmgr:`Ops Manager API 
</reference/api/usage/create-one-report/>`.

Example
-------

The following command returns a compressed report, in ``zip`` format, 
of server usage in a given timeframe.

.. code-block:: sh

   mongocli om serverUsage download -- format zip --startDate 2020-01-01 --endDate 2021-01-01

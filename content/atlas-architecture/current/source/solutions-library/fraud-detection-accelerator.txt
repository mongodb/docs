.. _arch-center-is-fraud-detection-accelerator:

===================================================
Fraud Detection Accelerator Using AWS SageMaker
===================================================

.. meta:: 
   :keywords: Fraud Detection, AWS SageMaker, Machine Learning, MongoDB Atlas, AI Solutions
   :description: Revolutionize fraud detection in finance with MongoDB Atlas and Amazon SageMaker Canvas. Leverage real-time data and AI for stronger defenses against cybercrime.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

- **Use cases:** `Gen AI <https://www.mongodb.com/use-cases/artificial-intelligence>`__,
  `Fraud Prevention <https://www.mongodb.com/industries/financial-services/fraud-prevention>`__

- **Industries:** `Financial Services <https://www.mongodb.com/industries/financial-services>`__, 
  `Insurance <https://www.mongodb.com/industries/insurance>`__

- **Products and tools:** `MongoDB Atlas <https://www.mongodb.com/atlas/database>`__, 
  `MongoDB Atlas Charts <https://www.mongodb.com/products/charts>`__, 
  `MongoDB Data Federation <https://www.mongodb.com/products/platform/atlas-data-federation>`__

- **Partners:** `Amazon S3 <https://aws.amazon.com/s3/>`__, 
  `Amazon SageMaker Canvas <https://aws.amazon.com/pm/sagemaker/>`__

Solutions Overview
------------------

Financial institutions face growing risks from cybercriminals, including high-profile
hacks and fraudulent transactions. Cyber incidents undermine customer trust and 
can result in significant financial losses for companies. Companies struggle to 
implement secure systems, due to the limitations of legacy fraud systems, which 
include: 

- **Incomplete data visibility:** Lack of access to relevant data sources for pattern
  detection.

- **Latency within fraud systems:** Lack of real-time processing capabilities 
  that causes fraud detection delays.

- **Weak security protocols:** Outdated security that exposes vulnerabilities to
  cyber attacks.

- **Technical sprawl:** Diverse technologies that complicate maintenance and updates.

- **Poor team collaboration:** Siloed approaches that lead to delayed responses.

To overcome these challenges, financial companies can use
`real-time analytics <https://www.mongodb.com/basics/real-time-analytics-examples>`__
solutions powered by MongoDB Atlas and Amazon SageMaker Canvas. These tools deliver
strong fraud detection systems that use the most accurate data available for 
their operations.

In this system, MongoDB Atlas stores the operational data and processes 
high-volume transactions. While, Amazon SageMaker Canvas uses sophisticated AI 
and `machine learning <https://www.mongodb.com/basics/machine-learning>`__ (ML) 
tools to power advanced analytics for fraud detection.

Reference Architectures
-----------------------
Below is the architecture used to build this fraud detection solution.
The architecture includes an end-to-end solution for detecting different types 
of fraud in the banking sector, including card fraud detection, identity theft 
detection, and consumer fraud detection.

The architecture diagram illustrates model training and near real-time inference. The
operational data stored in `MongoDB Atlas <https://www.mongodb.com/atlas/database>`__ is
written to the `Amazon S3 <https://aws.amazon.com/s3/>`__ bucket using 
`MongoDB Atlas Triggers <https://www.mongodb.com/docs/atlas/atlas-ui/triggers/>`__.
Thus stored, the data is used to create and train the model in 
`Amazon SageMaker Canvas <https://aws.amazon.com/pm/sagemaker/>`__. The SageMaker
Canvas stores the metadata for the model in the |s3| bucket and exposes the model
endpoint for inference.

.. figure:: /includes/images/industry-solutions/fraud-prevention-architecture.png
   :figwidth: 750px
   :alt: Fraud Detection Architecture

   Figure 1. Fraud detection architecture

Data Model Approach
-------------------
The data is divided into two separate files: 

- Transaction
- Identity

These files are connected through the ``TransactionID``.
However, not every transaction includes associated identity details.

Based on the above two datasets, prepare a test join on the ``TransactionID``, 
adding the target column as Fraud.

*Data courtesy of* `Kaggle <https://www.kaggle.com/c/ieee-fraud-detection/data>`__.

.. code-block::

   Source Table1: Transaction

   TransactionID,
   TransactionDT,
   Card_no,
   Card_type,
   Email_domain,
   ProductCD,
   TransactionAmt,
   Transaction_ID

   Source Table2: Identity

   TransactionID,
   IpAddress,
   PhoneNo,
   DeviceID,
   Location,
   Name,
   Address

   Test Data:
   TransactionID,
   Card_no,
   card_type,
   Email_domain,
   IpAddress,
   PhoneNo,
   DeviceID,
   ProductCD,
   TransactionAmt,
   isFraud

Build the Solution
------------------
The detailed step-by-step guide to build this solution is available on this `Github repo
<https://github.com/mongodb-partners/Frauddetection_with_MongoDBAtlas_and_SageMakerCanvas/blob/main/README.md>`__.
Below is an overview of those steps taken:

1. Set up the `S3 bucket
   <https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html>`__
   to which the |service-fullname| data needs to be exported.
2. `Set up
   <https://www.mongodb.com/basics/clusters/mongodb-cluster-setup#:~:text=about%20storage%20capacity.-,Creating,-a%20MongoDB%20Cluster>`__
   an |service-fullname| Cluster.
3. Set up `MongoDB Atlas Triggers and Functions <https://www.mongodb.com/docs/atlas/atlas-ui/triggers/>`__.
4. Set up the `Amazon SageMaker
   <https://docs.aws.amazon.com/sagemaker/latest/dg/onboard-quick-start.html>`__ domain.

Key Learnings
-------------

- **Develop real-time fraud detection solutions:** MongoDB Atlas handles large 
  amounts of data in a flexible schema empowering financial institutions to capture,
  store, and process high-volume transactional data in real-time.

- **Update fraud detection models:** Real-time processing with MongoDB's aggregation
  pipeline ensures that models are continuously trained with the most current and
  relevant information available. This capacity provides financial institution a
  powerful tool to create a robust fraud detection system.

- **Integrate sophisticated AI and ML tools:** MongoDB integrates with 
  external services, such as Amazon SageMaker, which offers AI 
  and ML solutions in a no-code platform. This friendly-user interface makes models
  accessible to analysts, enabling them to easily generate accurate ML predictions
  for classification, regression, forecasting, natural language processing (NLP),
  and computer vision (CV). 

Authors
-------
- Babu Srinivasan, Partner Solutions Architect at MongoDB
- Igor Alekseev, Partner Solutions Architect at AWS

Learn More
----------

- :ref:`arch-center-hasura-fintech-services`

- :ref:`arch-center-is-payments-solution`

- :ref:`arch-center-is-card-fraud-solution`
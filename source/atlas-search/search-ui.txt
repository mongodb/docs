.. _atlas-search-queries:

==========================
Test and Run |fts| Queries
==========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. _atlas-search-query-ui:

Test an |fts| Query
-------------------

The :guilabel:`Search Tester` feature in the :guilabel:`Search` tab 
allows you to: 

- Enter the term to search in the collection. 
- Run a simple wildcard query.
- View your |fts| query syntax, which you can then run in {+mongosh+} 
  or export to a programming language.

The :guilabel:`Search Tester` returns 10 documents that are assigned a 
high :ref:`score <scoring-ref>` based on relevance.

Prerequisites 
~~~~~~~~~~~~~

To use the :guilabel:`Search Tester` in the {+atlas-ui+}, you must have 
the following: 

- An |service| cluster running MongoDB version 4.2 or higher.
- |fts| :ref:`index <ref-index-definitions>` on your collection in the 
  |service| cluster.

.. _fts-search-collection-ui:

Search Your Collection 
~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/fts-search-collection-steps.rst

.. _fts-view-query-syntax-ui:
.. _fts-copy-export-query-syntax-ui:

View, Copy, or Export Query Syntax
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/fts-view-query-syntax-steps.rst

.. _atlas-search-query-compass:
.. _atlas-search-query-drivers:
.. _atlas-search-query-mongosh:

Run an |fts| Query
------------------

To run a |fts| query, you must have the following: 

- An |service| cluster running MongoDB version 4.2 or higher.
- |fts| :ref:`index <ref-index-definitions>` on your collection in the 
  |service| cluster.
- A connection to the client you want to use to run the query.

The :ref:`fts-tutorial-run-query` page demonstrates how to connect to
your |service| cluster and run :pipeline:`$search` queries against the
``sample_mflix.movies`` collection using the following clients. To learn
more, select a client using the **Select your language** drop-down menu
on the :ref:`fts-tutorial-run-query` page.

.. list-table::
   :widths: 13 87
   :header-rows: 1
   :stub-columns: 1

   * - Client
     - Steps

   * - |compass|
     - 
       1. :compass:`Install <install/>` and see
          :ref:`atlas-connect-via-compass` to connect to your |service|
          cluster using |compass|. 
       
       #. In the |compass| :guilabel:`Aggregations` tab, manually
          enter your aggregation pipeline.
       
       To learn more, see :compass:`Aggregation Pipeline Builder
       </aggregation-pipeline-builder/>`.

   * - Drivers
     - 
       1. Install any one of the following drivers:
       
          - :driver:`Go </go/current/quick-start/>`
          - :driver:`Java (sync) </java/sync/current/quick-start/>`
          - :driver:`Node.js </node/current/quick-start/>`
          - :driver:`Python </pymongo/#installation>`
      
       #. See :ref:`connect-via-driver` to connect to your |service|
          cluster using the installed driver. 
       
       #. Define and run an aggregation pipeline in your code editor. 
       
       To learn more about running :pipeline:`$search` queries using
       these drivers, see :ref:`fts-tutorial-run-query`. Each example in
       the :ref:`fts-tutorial-run-query` page performs the following:
          
       - Creates a connection to your |service| cluster with the ``MongoClient``.
       - Defines a pipeline.
       - Runs the pipeline.
       - Prints the query result.
  
   * - MongoDB Shell
     - 
       1. :mdb-shell:`Install </install>` and see
          :ref:`connect-mongo-shell` to connect to your |service|
          cluster using the MongoDB Shell.
       
       #. Define and run an |fts| query. 
       
       To learn more about running :pipeline:`$search` queries using
       ``mongosh``, see :ref:`fts-tutorial-run-query`.

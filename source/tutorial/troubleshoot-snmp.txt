=================
Troubleshoot SNMP
=================

.. versionadded:: 2.5.3

.. admonition:: Enterprise Feature

   SNMP is only available in MongoDB Enterprise.

Overview
--------

This page identifies common SNMP errors, and helps
identify why they occurred and how to fix them. See
also :doc:`/tutorial/monitor-mongodb-with-snmp`,
:doc:`/tutorial/monitor-mongodb-windows-with-snmp`, and
:doc:`/tutorial/snmp-configuration-for-replica-sets`.

Issues
------

"Failed to connect to the agentx master agent"
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following in the :program:`mongod` logfile:

.. code-block:: none

   Warning: Failed to connect to the agentx master agent

#. Make sure the master agent is running.

#. Make sure the agentx socket definition is the same between the two.

#. If UNIX Domain Sockets are being used, make sure permissions are
   set up appropriately.

"Argument not available"
~~~~~~~~~~~~~~~~~~~~~~~~

The following error at the command line:

.. code-block:: none

   Argument not available

You may have tried to invoke :program:`mongos` or one of the other
MongoDB binaries with ``--snmp-master`` or ``--snmp-subagent``.
These binaries do not support SNMP.

"error starting SNMPAgent as master"
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following line in the log file indicates
that :program:`mongod` cannot read the ``mongod.conf`` file:

.. code-block:: none

   [SNMPAgent] warning: error starting SNMPAgent as master err:1

Ensure ``mongod.conf`` exists in ``/etc/snmp`` if on Linux, and
``C:\snmp\etc\config`` if on Windows.

If on Linux, ensure that the :program:`mongod` UNIX user has permission
to read the ``mongod.conf`` file.


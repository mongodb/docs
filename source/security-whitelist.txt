.. _whitelist:
.. _add-to-whitelist:

============================
Add Entries to the Whitelist
============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

|service| only allows client connections to the cluster from entries in the
project's whitelist. Each entry is either a single IP address or a CIDR-notated
range of addresses. For :abbr:`AWS (Amazon Web Services)` clusters
with one or more :ref:`VPC Peering <vpc-peering>` connections to the
same :abbr:`AWS (Amazon Web Services)` region, you can specify a
Security Group associated with a peered VPC.

For |service| clusters deployed on :ref:`google-gcp` or
:ref:`microsoft-azure`, add the IP addresses of your :abbr:`GCP (Google Cloud
Platform)` or :abbr:`Azure (Microsoft Azure)` services to |service| project IP
whitelist to grant those services access to the cluster.

The whitelist applies to all clusters in the project and can have up to 200
whitelist entries, with the following exception: projects with an existing
sharded cluster created *before* August 25th, 2017 can have up to 100
whitelist entries.

To add an entry to the whitelist, from the :guilabel:`Clusters` view,
select the :guilabel:`Security` tab, then click :guilabel:`IP
Whitelist`, then :guilabel:`Add IP Address`. |service| supports
creating temporary whitelist entries that automatically expire within
a user-configurable 7-day period.

.. note::

   You cannot set AWS security groups as temporary whitelist entries.

.. include:: /includes/fact-ip-address-auditing.rst

Add Whitelist Entries
---------------------

.. include:: /includes/steps/add-to-whitelist.rst

You can also add entries to the whitelist through the |service|
API. See :doc:`/reference/api/whitelist-add-one`.

Modify Whitelist Entries
------------------------

.. include:: /includes/steps/modify-whitelist-entry.rst

You can also modify existing whitelist entries through the |service|
API. See :doc:`/reference/api/whitelist-update-one`.

Delete Whitelist Entries
------------------------

.. include:: /includes/steps/delete-whitelist-entry.rst

You can also delete existing users through the |service| API. See
:doc:`/reference/api/whitelist-delete-one`.

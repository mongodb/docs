stepnum: 1
ref: nav-to-fts-autocomplete
inherit:
  file: steps-source-project-nav.yaml
  ref: project-nav-search

---
stepnum: 2
ref: click-create-fts-index-autocomplete
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-fts-index

---
stepnum: 3
ref: select-a-configuration-method-autocomplete
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: select-a-configuration-method

---
stepnum: 4
ref: name-index-autocomplete
title: "Enter the :guilabel:`Index Name`, and set the :guilabel:`Database and Collection`." 
content: |

  a. In the :guilabel:`Index Name` field, enter ``autocomplete-tutorial``.

     .. include:: /includes/default-fts-index-name.rst 

  #. In the :guilabel:`Database and Collection` section, find the 
     ``sample_mflix`` database, and select the ``movies`` collection.

---
stepnum: 5
title: "Specify an index definition with the ``autocomplete`` field type."
ref: enter-index-definition-autocomplete
content: |
  
  You can use the |fts| :guilabel:`Visual Editor` or the |fts|
  :guilabel:`JSON Editor` in the |service| user interface to create the 
  index.

  .. tabs:: 
  
     .. tab:: Visual Editor
        :tabid: vib
  
        a. Click :guilabel:`Next`.
        #. Click :guilabel:`Refine Your Index`.
        #. Click :guilabel:`Add Field` in the :guilabel:`Field Mappings`
           section. 
        #. Configure the following field for autocompletion:
              
           .. list-table:: 
              :header-rows: 1
              :widths: 20 80
   
              * - UI Field Name 
                - Configuration 

              * - :guilabel:`Field Name`
                - Enter ``title``.

              * - :guilabel:`Data Type`
                - Select ``Autocomplete``.
           
        #. Review the following default settings:

           .. list-table:: 
              :header-rows: 1
              :widths: 20 80
   
              * - UI Field Name 
                - Configuration

              * - :guilabel:`Max Grams`
                - ``15``

              * - :guilabel:`Min Grams`
                - ``2``

              * - :guilabel:`Tokenization`
                - :guilabel:`edgeGram`

              * - :guilabel:`Fold Diacritics`
                - :guilabel:`true`

        #. Click :guilabel:`Add`.
        #. Repeat steps **c** through **g** for the ``plot`` field.
        #. Click :guilabel:`Save Changes`. 

     .. tab:: JSON Editor
        :tabid: jsonib
  
        a. Replace the default definition with the following index
           definition. 

           .. code-block:: json

              {
                "mappings": {
                  "dynamic": false,
                  "fields": {
                    "title": {
                      "type": "autocomplete",
                      "tokenization": "edgeGram",
                      "foldDiacritics": true,
                      "minGrams": 2,
                      "maxGrams": 15
                    },
                    "plot": {
                      "type": "autocomplete",
                      "tokenization": "edgeGram",
                      "foldDiacritics": true,
                      "minGrams": 2,
                      "maxGrams": 15
                    }
                  }
                }
              }

        #. Click :guilabel:`Next`.

---
stepnum: 6
ref: click-create-search-index-autocomplete
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-search-index

--- 
stepnum: 7
ref: close-in-progress-autocomplete
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: close-in-progress

---
stepnum: 8
ref: wait-for-index-autocomplete
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: wait-for-index

...

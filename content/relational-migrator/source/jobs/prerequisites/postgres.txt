.. _rm-prereq-postgres:

================================================
Configure Migration Prerequisites for PostgreSQL
================================================

.. meta::
   :description: Configure PostgreSQL for migration jobs by adjusting settings, granting permissions, and enabling logical replication for data migration.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

To run migration jobs from an PostgreSQL source database, the database may 
require some configuration changes. If {+rel-mig+} determines the 
database needs configuration changes, it automatically generates a 
SQL script with the required changes. It is recommended to have a 
Database Administrator (DBA) review the commands in this script and 
execute them. This page provides more details on the required configuration 
steps.

Before you Begin
----------------

If PostgreSQL is configured as a cluster, {+rel-mig+} must 
connect to the master server.

Steps
-----

For snapshot jobs against PostgreSQL, the service account requires
schema ``USAGE`` and table ``SELECT`` permissions.

.. code-block:: sql
   :copyable: true

   GRANT USAGE ON SCHEMA <schema_name> TO <database_user_name>;
   GRANT SELECT ON TABLE <schema_name>.<table_name> TO <database_user_name>; 

Learn More
----------

{+rel-mig+} relies on the open-source Debezium connector to 
capture row-level changes. For more details, see
`Debezium PostgreSQL <https://debezium.io/documentation/reference/stable/connectors/postgresql.html>`__.

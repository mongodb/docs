=============
User Settings
=============

.. default-domain:: mongodb

The :guilabel:`Administration` tab lets users to personalize
their console and activate or deactivate a variety of features. The
:guilabel:`Administration` tab provides the pages described here.

.. _profile-page:

Account Page
------------

The :guilabel:`Account` page allows users to update their personal
information.

The username, email address, and password are also used for `jira.mongodb.org
<http://jira.mongodb.org>`_. Changing your email address or password in MMS
will also change the email address and password you use to log into Jira.

- :guilabel:`User Name`: Displays the user's name. You cannot change your
  username.

- :guilabel:`Email Address`: Displays the email address MMS associates with
  your account. You can change your email address by clicking on the
  ":guilabel:`pencil`" icon.
 
- :guilabel:`Mobile Phone Number`: The number to use to receive SMS
  alerts, including two-factor authentication codes.

- :guilabel:`Password`: Allows you to change your MMS password. Passwords must
  fulfill MMS's :ref:`password requirements <password-requirements>`.

- :guilabel:`Two-Factor Authentication`: MMS requires two factor authentication
  for login. For details, see :doc:`/core/two-factor-authentication`.

  .. only:: saas

     To delete or reset two-factor authentication, `contact MMS Support
     <https://mms.mongodb.com/links/support>`_.

  .. only:: hosted

     To delete or reset two-factor authentication, contact your MMS system
     administrator.

.. _mms-personalization:

Personalization Page
--------------------

The :guilabel:`Personalization` page allows users to configure the console
to suit their needs and preferences.

- :guilabel:`My Dashboard`: Sets the default dashboard on the "Dashboard"
  page. You can select from a list of all of your dashboards.

- :guilabel:`My Time Zone`: Sets your local time zone.

- :guilabel:`My Date Format`: Allows you to select your preferred
  date format.

- :guilabel:`Page Shown When Switching Groups`: Sets which page of the MMS
  console you will see when you select a different group. You can
  select the "Hosts" page or the "Dashboard" page. Alternatively,
  select "Current" and MMS will not change pages when you select a
  different group.

- :guilabel:`Display Opcounters On Separate Charts`: Allows you to control the
  presentation of Opcounter Charts. If enabled, MMS charts each opcounter type
  separately. Otherwise, each opcounter type is overlaid together in a single
  chart.

- :guilabel:`Display Chart Annotations`: Toggles the presence of chart
  annotations. Chart annotations overlay information about significant
  system events on the charts. For example, with chart annotations MMS
  will draw a red vertical line over the charts.

- :guilabel:`Receive MMS Newsletters`: Allows you to opt-in to, or opt-out of
  receiving e-mail newsletters about MMS.

Public API Settings Page
------------------------

:guilabel:`Public API Settings` displays the |monitoring| API Key for your MMS
group. Keep this key private. Use the API key to support
automated installation of your Monitoring Agent with scripts included with the
agent installation files.

.. _group-settings-preferred-hostnames:

Group Settings Page
-------------------

These settings are general settings that apply to all users in the
current group.

- :guilabel:`Group Time Zone`: Sets your group's time zone.

- :guilabel:`Collect Logs For All Hosts`: Activates or deactivates the
  collection of log data for all hosts. This overwrites the statuses
  set on the individual hosts.

- :guilabel:`Collect Profiling Information for All Hosts`: Activates or deactivates the
  collection of profiling information for all hosts. MMS Monitoring can collect
  data from MongoDBâ€™s profiler to provide statistics about performance and
  database operations. Ensure exposing profile data to MMS Monitoring is
  consistent with your information security practices. Also be aware the
  profiler can consume resources which may adversely affect MongoDB performance.

- :guilabel:`Collect Database Specific Statistics`: Allows you to enable or disable the
  collection of database statistics. For more information, see ":ref:`How does
  MMS gather database statistics? <db-stats-warning>`".

- :guilabel:`Monitoring Agent's Log Level`: Allows adjustment of the log level of the
  Monitoring Agent from the settings menu without restarting the agent. The
  :guilabel:`Default` level maintains the level specified when starting the
  Monitoring Agent. Setting the log level on the agent requires Monitoring
  Agent version 2.0.0+.

- :guilabel:`Preferred Hostnames`: Allows you to specify the hostname to use for
  servers with multiple aliases. This prevents servers from appearing multiple
  times under different names. By default, the Monitoring Agent tries to connect
  by resolving hostnames. If the agent cannot connect by resolving a hostname,
  you can force the Monitoring Agent to prefer an IP address over its
  corresponding hostname for a specific IP address. To override this
  default behavior, set an IP address as a preferred hostname. If your IP
  addresses have a common prefix, create a preferred hostname with the
  :guilabel:`ends-with` button or click the :guilabel:`regexp` button to use a
  regular expression.

- :guilabel:`Reset Duplicates`: Allows you to reset and remove all detected duplicate
  hosts. This is useful if your server environment has drastically changed and
  you believe a host is incorrectly marked as a duplicate.

Group Alerts Page
-----------------

:guilabel:`Group Alerts` defines the default settings for HipChat,
`PagerDuty <http://www.pagerduty.com/?utm_source=mongodb&utm_medium=docs&utm_campaign=partner>`_,
and other third-party groups used to send alerts. See :doc:`Activity
Alert Settings page </tutorial/manage-alerts-and-events>` page for details
about using these third-party services to manage alerts.

Agent API Settings Page
-----------------------

- :guilabel:`Group ID`: The group ID.

- :guilabel:`API Key`: Displays the API key that identifies the group to
  the agents. All Monitoring, Backup, and Automation agents in this group
  include this key in their configuration files. They key ensures the
  agents communicate with the correct group.

Monitoring Agent Page
---------------------

The :guilabel:`Monitoring Agent` page provides links for downloading the
pre-configured Monitoring Agent in both ``.zip`` and ``.tar.gz``
formats.

.. include:: /includes/settings-backup.rst

Backup Agent Page
-----------------

The :guilabel:`Backup Agent` page provides links to download the pre-configured Backup
Agent in both ``.zip`` and ``.tar.gz`` formats. The software is dynamically
assembled with your API key. Instructions are included to set up and start the
Backup Agent, as well as create a new user for the agent if MongoDB
authentication is used.

.. COMMENT for 1.6onprem placeholder
..
   Automation Agent Page
   ---------------------
..
   The :guilabel:`Automation Agent` page provides links for downloading the
   Automation Agent.

.. _scp-ssh:

Restore Settings Page
---------------------

The :guilabel:`Restore Settings` page provides the ability to generate a public key for
SCP backup restoration through the Backup and Restore Service.

If using SCP backup restoration, see :ref:`how to validate an SCP restore
<backup-faq-scp-validation>` and other SCP FAQs.

.. COMMENT for 1.6onprem placeholder
..
   Automation Settings Page
   ------------------------
..
   - :guilabel:`AWS Provisioning Settings`: Adds an access key for an
     infrastructure provider, for use when provisioning a new machine from
     the :guilabel:`Automation` page.
..
   - :guilabel:`SSH Key for User Account`: Adds an SSH key for use when
     logging into a machine that has been provisioned from the
     :guilabel:`Automation` page.

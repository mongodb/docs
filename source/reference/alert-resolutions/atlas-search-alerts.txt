.. _atlas-search-alerts:

============
|fts| Alerts
============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

|fts| triggers :ref:`Atlas Search alerts 
<alert-conditions-atlas-search>` when the amount of CPU and memory used 
by |fts| processes reaches a specified threshold. If the search 
process (``mongot``) runs out of memory, indexing and 
queries fail. You can configure |fts| alert conditions the project 
:ref:`alert settings <configure-alerts>` modal. You can also view |fts| 
metrics with :ref:`cluster monitoring <view-atlas-search-metrics>`.

Alert Conditions
----------------

You can configure the following alert conditions in the project-level 
:ref:`alert settings <configure-alerts>` page to trigger alerts.

:alert:`Search Memory: Resident <Search Memory: Resident is>` occurs 
if the total bytes of resident memory occupied by the |fts| process is 
above or below the threshold.

:alert:`Search Memory: Shared <Search Memory: Shared is>` occurs if
the total bytes of shared memory occupied by the |fts| process is above 
or below the threshold.

:alert:`Search Memory: Virtual <Search Memory: Virtual is>` occurs if 
the total bytes of virtual memory occupied by the |fts| process is 
above or below the threshold.

:alert:`Search Process: CPU (Kernel) % 
<Search Process: CPU (Kernel) % is>` occurs if the percentage of time 
the CPU spent servicing operating system calls for the |fts| process is 
above the threshold.

:alert:`Search Process: CPU (User) % <Search Process: CPU (User) % is>` 
occurs if the percentage of time the CPU spent servicing the |fts| 
process is above the threshold.

:alert:`Search Process: Disk space used 
<Search Process: Disk space used is>` occurs if the total bytes of disk 
space used by the |fts| process is above the threshold.

:alert:`Search Process: Ran out of memory 
<Search Process: Ran out of memory>` occurs if the search process 
(``mongot``) runs out of memory. If the search process runs out of 
memory, indexing and queries fail.

.. note::

   The :alert:`Search Process: Ran out of memory 
   <Search Process: Ran out of memory>` alert runs 
   automatically by default. You can configure the :ref:`alert setting 
   <configure-alerts>` to disable this notification.

Common Triggers
---------------

|fts| alerts often occur when you try to build a large or 
complex search index. These indexes remain in the 
:guilabel:`Initial Sync` phase until you resolve the memory issue.

Fix the Immediate Problem
-------------------------

If the search process (``mongot``) runs out of memory, you can 
:ref:`upgrade your cluster <scale-cluster-instance>` to fix the 
immediate problem. You can select a cluster tier with more memory, 
storage, and |iops|.

Implement a Long-Term Solution
------------------------------

To prevent |fts| alerts in the future, carefully review the 
:ref:`perf-ref` for |fts|. Work to optimize your indexes.

Monitor Your Progress
---------------------

View the available :ref:`Atlas Search charts 
<view-atlas-search-metrics>` to monitor |fts| metrics.

Monitor |fts| metrics to evaluate and optimize your 
|fts| indexes.

To learn more, see :ref:`View Cluster Metrics <monitor-cluster-metrics>`

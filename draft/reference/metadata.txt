========
Metadata
========

.. default-domain:: mongodb

.. index:: metadata
.. _metadata-storage:

Metadata Storage
----------------

MongoDB stores metadata in :term:`collections <collection>` and in
:term:`documents <document>`. MongoDB stores metadata as follows:

- System metadata for a given :term:`database` is stored in collections
  that use the ``system`` :term:`namespace`. For a list of ``system``
  collections and where they are found, see
  :ref:`metadata-system-collections`

- Replication metadata is stored in the ``local`` database, which exists
  only on members of :term:`replica sets <replica set>`. For
  descriptions of the collections that store replication metadata, see
  :ref:`replica-set-local-database`.

- Metadata on document structure is stored in the :term:`BSON` format
  within the document itself.

.. index:: collection; internal collections
.. index:: internal collections
.. _metadata-system-collections:

Internal Collections
--------------------

MongoDB creates several internal collections to use for system,
replication, and sharding metadata. They are described in the following
sections in this manual:

- :ref:`metadata-system-collections`

- :ref:`replica-set-local-database`

- :ref:`sharding-internals-config-database`

.. index:: collection; system
.. index:: system; collections
.. index:: system; namespace
.. index:: namespace; system
.. _metadata-system-collections:

System Collections
------------------

MongoDB stores system information in collections that use the
``system.*`` :term:`namespace`. This namespace is reserved for system
information and should not be used for other collections.

System collections include collections that are stored directly in the database as well as
collections that are stored in the ``local`` database on a :term:`replica set` member.

System collections include these collections stored directly in the database:

.. data:: <database>.system.namespaces

   The :data:`<database>.system.namespaces` collection contains
   information about all of the databaseâ€™s collections. Additional
   namespace metadata exists in the ``database.ns`` files and is opaque.

.. data:: <database>.system.indexes

   The :data:`<database>.system.indexes` collection lists all the
   indexes in the database. You add and remove data from this collection
   via the :method:`ensureIndex() <db.collection.ensureIndex()>` and
   :method:`dropIndex() <db.collection.dropIndex()>`

.. data:: <database>.system.profile

   The :data:`<database>.system.profile` collection stores database
   profiling information. For information on profiling, see :ref:`database-profiling`.

.. data:: <database>.system.users

   The :data:`<database>.system.users` collection stores credentials for
   users who have access to the database. For more information on this collection, see
   :ref:`security-authentication`.

System collections also include collections that are stored in the
``local`` database on replica set members, when replication is enabled.
For descriptions of system collections stored in the ``local`` database,
see :ref:`replica-set-local-database`.

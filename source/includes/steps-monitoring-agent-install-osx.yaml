title: Download the latest version of the Monitoring Agent archive.
stepnum: 1
edition: classic
ref: download-saas
pre: |
  With a system shell, issue the following command:
action:
  language: sh
  code: |
    curl -OL https://mms.mongodb.com/download/agent/monitoring/mongodb-mms-monitoring-agent-latest.osx_x86_64.tar.gz
---
title: Download the latest version of the Monitoring Agent archive.
stepnum: 1
edition: onprem
ref: download-hosted
pre: |
  In a system shell, issue the following command:
action:
  language: sh
  code: |
    curl -OL <mmsUri>/download/agent/monitoring/mongodb-mms-monitoring-agent-latest.osx_x86_64.tar.gz
---
title: Install the Monitoring Agent.
stepnum: 2
ref: extract
pre: |
  To install the agent, extract the archive by issue the
  following command:
action:
  language: sh
  code: |
    tar -xf mongodb-mms-monitoring-agent-latest.osx_x86_64.tar.gz
post: |
  The Monitoring Agent is installed.
---
stepnum: 3
source:
  ref: retrieve-monitoring-mms-api-key
  file: steps-shared-agent-install.yaml
---
stepnum: 4
source:
  ref: configure-monitoring-mms-api-key
  file: steps-shared-agent-install.yaml
---
stepnum: 5
source:
  ref: proxy
  file: steps-shared-agent-install.yaml
---
stepnum: 6
source:
  ref: start-monitoring
  file: steps-shared-agent-install.yaml
action:
  language: sh
  code: |
    nohup ./mongodb-mms-monitoring-agent >> monitoring-agent.log 2>&1 &
...

=====
sleep
=====

.. default-domain:: mongodb

Definition
----------

.. dbcommand:: sleep

   Internal command for testing purposes. The :dbcommand:`sleep` command
   forces the database to block all operations.

   .. include:: /reference/command/sleep-param.rst

   The :dbcommand:`sleep` command takes the following prototype form:

   .. code-block:: javascript

        { sleep: { w: true, secs: <seconds> } }

   The above command places the :program:`mongod` instance in a
   "write-lock" state for a specified (i.e. ``<seconds>``) number of
   seconds. Without arguments, :dbcommand:`sleep`, causes a "read lock"
   for 100 seconds.

   .. warning::

      :dbcommand:`sleep` claims the lock specified in the ``w``
      argument and blocks *all* operations on the :program:`mongod`
      instance for the specified amount of time. 

   .. read-lock, write-lock, global-lock

   .. |dbcommand| replace:: :dbcommand:`sleep`
   .. include:: /includes/note-enabletestcommands.rst

.. Example
.. -------

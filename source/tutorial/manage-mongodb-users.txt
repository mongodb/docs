==============================
Manage MongoDB Users and Roles
==============================

.. default-domain:: mongodb

Overview
--------

When :doc:`MongoDB access control is enabled
<enable-mongodb-access-control>`, you provide client access to MongoDB by
creating users and assigning user roles. The users you create apply to all
MongoDB instances in your |mms| group, but each user has a specified
authentication database. Together, the userâ€™s name and database serve as a
unique identifier for that user.

You can specify access using MongoDB's :manual:`built-in roles
</reference/built-in-roles>` and also by :doc:`creating custom roles
</tutorial/manage-mongodb-roles>`. |mms| provides the interface for doing
so.

You can create users before enabling accessing control or after, but they
don't go into effect until you enable access control. The MongoDB
instances won't require user credentials until access control is enabled.

To authenticate, a client must specify the username, password, database,
and authentication mechanism. For example, from the :program:`mongo`
shell, a client would specify the ``--username``, ``--password``,
``--authenticationDatabase``, and ``--authenticationMechanism`` options.

MongoDB users are separate from |mms| :doc:`users </tutorial/manage-users>`.
MongoDB users have access to MongoDB databases. |mms| users access to |mms|
groups.

Considerations
--------------

If you want |mms| to ensure that all deployments in a group have the same
database users and roles, use only the |mms| interface to manage users.

However, if you want certain deployments in a group to have certain users
or roles not set at the group level, you can add them through direct
connection to the MongoDB instances."

Procedures
----------

Add a MongoDB User
~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/add-mongodb-user.rst

Edit a User's Roles
~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/edit-mongodb-user.rst

Remove a MongoDB User
~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/steps/remove-mongodb-user.rst

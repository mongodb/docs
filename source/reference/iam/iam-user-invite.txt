.. _iam-user-invite:

========================
mongocli iam user invite
========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``mongocli iam user invite`` command invites 
the specified users to join the specified organization or project. 
You can also invite users to:

- |service| using the UI for your :atlas:`organization 
  </access/manage-org-users/>` or :atlas:`project 
  </access/manage-project-access/#add-users-or-teams-to-a-project>` and 
  using the :atlas:`API </reference/api/user-create/>`. 
- |cloud-short| using the UI for your :cloudmgr:`organization 
  </tutorial/manage-users/#manage-user-access-to-an-organization>` or 
  :cloudmgr:`project </tutorial/manage-users/#add-users-or-teams-to-a-project>` 
  and using the :cloudmgr:`API </reference/api/user-create/>`. 
- |onprem| using the UI for your :opsmgr:`organization 
  </tutorial/manage-users/#add-users-to-mms>` or :opsmgr:`project 
  </tutorial/manage-users/#add-users-or-teams-to-a-project>`  and using the 
  :opsmgr:`API </reference/api/user-create/>`. 

The user must accept your invitation to join the project or  
organization. 

.. _mcli-iam-user-invite-cmd-permissions:

Permissions Required 
--------------------

The following tables shows the roles you must have to invite 
users to your MongoDB service organization or project:

.. list-table::
   :header-rows: 1 
   :widths: 30 35 35 

   * - MongoDB Service
     - Organization 
     - Project 

   * - |service|
     - :atlas:`Organization Owner </reference/user-roles/#Organization-Owner>` 
       role
     - :atlas:`Project Owner </reference/user-roles/#Project-Owner>` role

   * - |cloud-short|
     - :cloudmgr:`Organization Owner 
       </reference/user-roles/#Organization-Owner>` role
     - - :cloudmgr:`Project User Admin 
         </reference/user-roles/#Project-User-Admin>` role or,
       - :cloudmgr:`Project Owner </reference/user-roles/#Project-Owner>` role

   * - |onprem|
     - :opsmgr:`Organization Owner </reference/user-roles/#Organization-Owner>` 
       role
     - - :opsmgr:`Project User Admin 
         </reference/user-roles/#Project-User-Admin>` role or,
       - :opsmgr:`Project Owner </reference/user-roles/#Project-Owner>` role

.. _mcli-iam-user-invite-syntax:

Syntax 
------

.. code-block:: text 

   mongocli iam user invite
        --country <country-code-of-user> 
        --email <email-address-of-user>
        --firstName <first-name-of-user>
        --lastName <last-name-of-user>
        [ --mobile <mobile-number-of-user> ]
        [ --orgRole <org-role-of-user> ]
        [ --output|-o <output-format> ]
        --password <password-of-user> 
        [ --profile|-P <profile-name> ]
        [ projectRole <project-role-of-user> ]
        --username <username-of-user>

.. include:: /includes/fact-command-line-help.rst

.. _mcli-iam-user-invite-options:

Options 
-------

.. list-table:: 
   :header-rows: 1
   :widths: 20 10 60 10

   * - Option 
     - Type 
     - Description 
     - Required? 

   * - ``--country``
     - string
     - Primary country where the user is based. Must match a 
       two-letter `ISO 3661-1 <https://en.wikipedia.org/wiki/ISO_3166-1#Officially_assigned_code_elements>`__ 
       country code.
     - - yes for |service|
       - yes for |cloud-short|
       - no for |onprem|

   * - ``--email`` 
     - string 
     - Email address of the user.
     - yes

   * - ``--firstName`` 
     - string 
     - First name of the user.
     - yes

   * - ``--lastName`` 
     - string 
     - Last name of the user.
     - yes

   * - ``--mobile`` 
     - string 
     - Mobile telephone number of the user.
     - no

   * - ``--orgRole`` 
     - string 
     - Name of the organization role to assign to the user. For the 
       list of valid organization roles for your MongoDB service, see: 

       - :atlas:`Atlas </reference/user-roles/#organization-roles>`
       - :cloudmgr:`Cloud Manager </reference/user-roles/#organization-member-role>`
       - :opsmgr:`Ops Manager </reference/user-roles/#organization-member-role>`

       If omitted, user is granted the following role for your 
       MongoDB service: 

       - :atlas:`Organization Member 
         </reference/user-roles/#Organization-Member>` role on |service|.
       - :cloudmgr:`Organization Member 
         </reference/user-roles/#Organization-Member>` role on |cloud-short|.
       - :opsmgr:`Organization Member 
         </reference/user-roles/#Organization-Member>` role on |onprem|.

     - no

   * - ``--output``, ``-o``
     - string 
     - .. include:: /includes/extracts/fact-basic-options-output.rst
     - no

   * - ``--password`` 
     - string 
     - Password of the user.
     - yes

   * - ``--profile``, ``-P`` 
     - string 
     - Name of the profile that contains the access information. If
       omitted, uses the {+default-profile+}. 
     - no 

   * - ``--projectRole`` 
     - string 
     - Name of the project role to assign to the user. For the 
       list of valid project roles for your MongoDB service, see:

       - :atlas:`Atlas </reference/user-roles/#project-roles>`
       - :cloudmgr:`Cloud Manager </reference/user-roles/#user-admin-role>`
       - :opsmgr:`Ops Manager </reference/user-roles/#user-admin-role>`

       If omitted, user is granted the following role for your 
       MongoDB service: 

       - :atlas:`Organization Member 
         </reference/user-roles/#Organization-Member>` role on |service|.
       - :cloudmgr:`Project Member </reference/user-roles/#project-roles>` 
         role on |cloud-short|.
       - :opsmgr:`Project Member </reference/user-roles/#project-roles>` 
         role on |onprem|.

     - no

   * - ``--username`` 
     - string 
     - Username of the user. Value must be a valid email address.
     - yes

.. _mcli-iam-user-invite-output:

Output 
------

The command prints the following to the terminal if the command succeeds. 
If the command prints an error, see :ref:`Troubleshooting <mcli-troubleshooting>` for recommended solutions.

.. code-block:: none
   :copyable: false

   The user '<username>' has been invited.
   Invited users do not have access to the project until they accept the invitation.

The above default output is a subset of the fields returned by this command. 
For the complete list of |json| fields returned by the command, see the 
API reference for your MongoDB service:

- :atlas:`Atlas </reference/api/user-create/#response>`
- :cloudmgr:`Cloud Manager </reference/api/user-create/#response>`
- :opsmgr:`Ops Manager </current/reference/api/user-create/#response>`

.. _mcli-iam-user-invite-examples:

Example 
-------

.. tabs::

   .. tab:: Default
      :tabid: default

      The following command invites a new user to an |onprem| organization. It 
      uses the {+default-profile+} for accessing |onprem|. 

      .. code-block:: text 

         mongocli iam users invite --username john.doe@example.com --password changeMe --email john.doe@example.com --firstName john --lastName doe

      The previous command prints the following in the default format to 
      the terminal.

      .. code-block:: none
         :copyable: false 

         The user 'john.doe@example.com' has been invited.
         Invited users do not have access to the project until they accept the 
         invitation.

   .. tab:: JSON
      :tabid: json

      The following command invites a new user to an |service| organization. It 
      uses the {+default-profile+} for accessing |service|. 

      .. code-block:: text 

         mongocli iam users invite --username john.doe@example.com --password changeMe --email john.doe@example.com --firstName john --lastName doe --country US -o json

      The previous command prints the following in the default format to 
      the terminal.

      .. code-block:: none
         :copyable: false

         {
           "emailAddress": "john.doe@example.com",
           "firstName": "john",
           "id": "5f71e5255afec75a3d0f96dc",
           "lastName": "doe",
           "roles": [],
           "username": "john.doe@example.com",
           "mobileNumber": "",
           "password": "",
           "country": "US"
         }

---
apiVersion: mongodb.com/v1
kind: MongoDB
metadata:
  name: shardedcluster
  namespace: <metadata.namespace> # Should match metadata.namespace in
                                  # your configmap file.
spec:
  version: 4.0.6
  opsManager:                     # Alias of cloudManager
    configMapRef:
      name: my-project            # Should match metadata.name in your
                                  # configmap file.
  shardCount: 2
  mongodsPerShardCount: 3
  mongosCount: 2
  configServerCount: 3
  credentials: my-secret
  type: ShardedCluster
  persistent: true
  exposedExternally: true
...

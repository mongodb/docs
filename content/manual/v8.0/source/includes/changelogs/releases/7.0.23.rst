.. _7.0.23-changelog:

7.0.23 Changelog
----------------

Sharding
~~~~~~~~

- :issue:`SERVER-95324` Disable chunkMigrationConcurrency
- :issue:`SERVER-105799` Ensure that failpoints used in
  check_metadata_consistency_timeout_tests.js are reached on slow
  machines

Internals
~~~~~~~~~

- :issue:`SERVER-52121` Create feature flag for Limit concurrent ingress
  connection handshakes
- :issue:`SERVER-52424` Enable feature flag for Limit concurrent ingress
  connection handshakes
- :issue:`SERVER-75523` Create clang-tidy rule banning use of
  "no_unique_address"
- :issue:`SERVER-81797` Make our own portable implementation of atomic
  notify() and wait() with timeout support
- :issue:`SERVER-86656` Create a reader-optimized reader-writer mutex
- :issue:`SERVER-90424` A reader-friendly reader-writer mutex type
- :issue:`SERVER-101135` priority_takeover_two_nodes_equal_priority.js
  should use lower electionTimeoutMillis
- :issue:`SERVER-101381` query_with_txn_prepared.js should relax
  document count check
- :issue:`SERVER-101495` auth_no_pri.js should use a lower
  electionTimeoutMillis
- :issue:`SERVER-101581` Check socket state before accepting connection
  in ASIO
- :issue:`SERVER-101800` Investigate OpenSSL 3 regression in HMAC
  functions
- :issue:`SERVER-102719` Guarantee that FCBIS tests have non-0
  durationMillis
- :issue:`SERVER-103934` FCBIS should be able to call
  KVEngine::cleanShutdown without leaking memory
- :issue:`SERVER-104168` Vendor in folly token bucket util
- :issue:`SERVER-104407` Introduce server parameters to tune connection
  establishment rate limiter
- :issue:`SERVER-104408` Introduce admission::RateLimiter component
- :issue:`SERVER-104412` Exempt prioritized connections from token
  acquisition
- :issue:`SERVER-104413` Add metrics to admission::RateLimiter component
- :issue:`SERVER-104415` Integrate connection establishment rate limiter
  into SessionWorkflow
- :issue:`SERVER-104771` [v7.0] Initial sync fails when the source has
  TTL indexes on a capped collection
- :issue:`SERVER-104811` Update "connections" server status section for
  maxEstablishing
- :issue:`SERVER-104814` Add establishment timing metrics to
  IngressHandshakeMetrics
- :issue:`SERVER-105502` Use assert.soon for metrics assertions in
  connection_establishment* tests
- :issue:`SERVER-105526` Add additional debug logs and a deadline to
  ConcurrentTokenAcquisitionWithQueueing test
- :issue:`SERVER-105670` Ensure ConcurrentTokenAcquisitionWithQueueing
  actually waits until all waiters are sleeping
- :issue:`SERVER-105693` Make
  connection_establishment_rate_limiting_exemptions.js resilient to
  different connection closed errors
- :issue:`SERVER-105753` Ensure connection establishment rate limiter UX
  consistency with operation rate limiter
- :issue:`SERVER-106045` Rename burstSize => burstCapacitySecs parameter
- :issue:`SERVER-106149` RateLimiter should return tokens to bucket upon
  rejection
- :issue:`SERVER-106166` Don't append Inf to FTDC for
  totalAvailableTokens
- :issue:`SERVER-106487` point_in_time_lookups_drop_pending.js is flaky
  when checking that a PIT read creates a new instance for the
  collection after a drop
- :issue:`SERVER-106622` Do fuzzy assertions for all doubles in
  rate_limiter_util_test
- :issue:`SERVER-106636` Use longer timeout when waiting for all threads
  to queue in ConcurrentTokenAcquisitionWithQueueing test
- :issue:`SERVER-107208` [v7.0] Add basic testing for SERVER-107165
- :issue:`SERVER-107217` [v7.0] Add robust testing for SERVER-107165
- :issue:`SERVER-107245` [v7.0] Fix
  agg_yielding_during_runtime_planning.js
- :issue:`SERVER-107272` Write Evergreen task for SAST report generation
- :issue:`SERVER-107282` [v8.1] Update CODEOWNERS to expand test-only
  definition
- :issue:`SERVER-107321` [v7.0] Prepare maxEstablishing backport branch
  for 7.0
- :issue:`SERVER-107534` Introduce VersionedValue
- :issue:`SERVER-108539` [v7.0] Remove faulty includes in
  MongoNoUniqueAddressCheck tidy check


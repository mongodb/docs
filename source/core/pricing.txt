================================
Edit Project Billing Information
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: twocols

Overview
--------

Each |mms| project has its own account, plan, and billing method.

View Pricing Information for |mms| Features
-------------------------------------------

|mms| pricing is described at
`https://www.mongodb.com/cloud/cloud-manager <https://www.mongodb.com/cloud/cloud-manager?jmp=docs>`_.

View Your Plan Type
-------------------

|mms| displays your plan next to your project name at the top left the
|mms| page. For more information on each plan, see
`https://www.mongodb.com/cloud/cloud-manager <https://www.mongodb.com/cloud/cloud-manager?jmp=docs>`_. For
monitoring metrics for each plan, see
:doc:`/reference/monitoring-metrics-per-plan`.

.. _pricing-information:

View Pricing Information for Your Account
-----------------------------------------

1. Click :guilabel:`Settings`, then :guilabel:`Billing/Subscriptions`.

2. Click :guilabel:`Understanding Your Bill`.

.. _view-your-costs:

View Your Current Costs
-----------------------

1. Click :guilabel:`Settings`, then :guilabel:`Billing/Subscriptions`.

2. Do the following to view account information:

   .. list-table::
      :widths: 40 60
      :header-rows: 1

      * - View

        - Action

      * - Current costs

        - Scroll to the :guilabel:`Billing and Usage Summary` section.

      * - Details about current costs, including the price charged per unit

        - Click the :guilabel:`Usage Details` link.

      * - Estimate of your monthly bill

        - Click :guilabel:`Understanding Your Bill` and scroll to the
          :guilabel:`Monthly Estimates` section.

.. _edit-billing-info:

Edit Payment Method and Billing Address
---------------------------------------

To edit billing information, including billing address, card number and VAT
number (if applicable), do the following:

1. Click :guilabel:`Settings`, then :guilabel:`Billing/Subscriptions`.

2. In the :guilabel:`Payment Methods` section, click the pencil icon for your credit card.

3. Edit information as needed and click :guilabel:`Save Changes`.

   Changing the billing address does not affect the separate :ref:`company
   address <company-address>`, if set.

.. _company-address:

Edit Billing Email Address
--------------------------

To edit the billing email address:

1. Click :guilabel:`Settings`, then :guilabel:`Billing/Subscriptions`.

2. Click the pencil icon for the :guilabel:`Billing Email Address`.

3. Enter the address and click :guilabel:`Set`.

Edit Invoice Address
--------------------

You can set an optional invoice address that is different from your
:ref:`billing address <edit-billing-info>`.

1. Click :guilabel:`Settings`, then :guilabel:`Billing/Subscriptions`.

2. Click the pencil icon for the :guilabel:`Invoice Address`.

3. Enter the address and click :guilabel:`Set`.

View Your Past Charges
----------------------

To view past charges, click :guilabel:`Settings`, then
:guilabel:`Payment History`. Click a date to view charges and
payments for that period.

Retry a Failed Payment
----------------------

If you receive notification of a failed payment, first check that your credit
card is up-to-date. To do so, click :guilabel:`Settings`, then :guilabel:`Billing/Subscriptions`.

Once you verify your credit card, retry the payment:

1. Click :guilabel:`Settings`, then :guilabel:`Payment History`.

2. On the line for the failed payment, click :guilabel:`Retry`.

.. _backup-pricing:

Backup Costs
------------

Backup costs are affected by the size of your backed-up snapshots and on your
settings for :ref:`snapshot frequency and retention <snapshot-frequency-and-retention>`.

Snapshot Size
~~~~~~~~~~~~~

The per-gigabyte charge for Backup is applied to the size of your most
recent snapshot. A snapshot is roughly equivalent to the size of all
documents and all indexes for all the databases backed up.

To retrieve the size of the documents and indexes in a given database,
issue the :manual:`dbStats </reference/command/dbStats>` command and sum
the ``dataSize`` and ``indexSize`` fields. In the following example output
of a :manual:`dbStats </reference/command/dbStats>` command that was
issued to return gigabytes, the size of the database's documents and
indexes is roughly 79.07GB, as found by adding the ``dataSize`` and
``indexSize`` fields:

.. code-block:: javascript

   {
       "db" : "mmsdbconfig",
       "collections" : 88,
       "objects" : 115153078,
       "avgObjSize" : 551.9170146368124,
       "dataSize" : 59.1901531778276,
       "storageSize" : 64.05994385480881,
       "numExtents" : 553,
       "indexes" : 235,
       "indexSize" : 19.876188188791275,
       "fileSize" : 89.89453125,
       "nsSizeMB" : 16,
       "extentFreeList" : {
           "num" : 19,
           "totalSize" : 0
       },
       "dataFileVersion" : {
           "major" : 4,
           "minor" : 22
       },
       "ok" : 1
   }

Frequency and Retention Settings
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The cost per gigabyte on the |mms| :guilabel:`Understanding Your Bill <pricing-information>`
page assumes an installation that uses the default settings for :ref:`snapshot
frequency and retention <snapshot-frequency-and-retention>`. Lowering snapshot
frequency or retaining fewer snapshots lowers the rate. Retaining an increased
number of snapshots increases the rate.

To view your rate, click the
:guilabel:`Usage Details` link on the :guilabel:`Billing/Subscriptions`
page.

To change a backed-up deployment's schedule, click :guilabel:`Backup`, then
the ellipsis icon for the backup, then :guilabel:`Edit Snapshot Schedule`.
Administrators can change frequency and retention through the
:doc:`snapshotSchedule resource </reference/api/snapshot-schedule>` in the
API. Lowering snapshot frequency increases how long it takes to build a
point-in-time restore.

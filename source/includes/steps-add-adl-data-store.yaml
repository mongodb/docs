---
level: 4
ref: deploy-adl-step1
source: 
  file: steps-adf-deploy-source.yaml
  ref: adf-log-in
---
level: 4
ref: deploy-adl-step2
source: 
  file: steps-adf-deploy-source.yaml
  ref: adf-left-nav
---
level: 4
ref: deploy-adl-step3
source: 
  file: steps-adf-deploy-source.yaml
  ref: configure-new-fdi
---
level: 4
ref: deploy-adl-step4
source: 
  file: steps-adf-deploy-source.yaml
  ref: select-configure-method
---
title: "Specify your {+dl+} data store and configure virtual 
       databases and virtual collections that map to your data store."
level: 4
ref: config-adl-data-store
content: | 

  .. tabs:: 

     .. tab:: Visual Editor 
        :tabid: visual

        a. (Optional) Click the :icon-fa4:`pencil` for the:
  
           - :guilabel:`Federated Database` to specify a name for 
             your federated database instance. Defaults to 
             ``Federated Database[n]``. 

           - Database to edit the database name. Defaults to 
             ``Database[n]``. 

             Corresponds to :datalakeconf-adl:`databases.[n].name` 
             |json| configuration setting.
          
           - Collection to edit the collection name. Defaults to 
             ``Collection[n]``. 
       
             Corresponds to :datalakeconf-adl:`databases.[n].collections.[n].name` 
             |json| configuration setting.
     
           - View to edit the view name. 
            
           You can click: 
     
           - :guilabel:`Add Database` to add databases and 
             collections. 
           - :icon-fa4:`plus` associated with the database to 
             add collections to the database. 
           - :icon-fa4:`plus` associated with the collection to 
             add :manual:`views </core/views/>` on the 
             collection. To create a view, you must specify: 
       
             - The name of the view.
             - The :manual:`pipeline </core/aggregation-pipeline/#std-label-aggregation-pipeline>` 
               to apply to the view.

               .. note:: 

                  The view definition pipeline can't include the 
                  ``$out`` or the ``$merge`` stage. If the view 
                  definition includes nested pipeline stages such 
                  as ``$lookup`` or ``$facet``, this restriction 
                  applies to those nested pipelines as well.

               To learn more about views, see: 

               - :manual:`Views </core/views/>`
               - :manual:`db.createView </reference/method/db.createView/>`
               
             - :icon-fa4:`trash-o` associated with the database, 
               collection, or view to remove it.

        #. Drag and drop the :guilabel:`Data Lake Dataset` to map  
           with the collection.
             
           Corresponds to :datalakeconf-adl:`databases.[n].collections.[n].dataSources` 
           |json| configuration setting.

     .. tab:: JSON Editor 
        :tabid: json

        Your configuration for {+adl+} dataset data store should look 
        similar to the following:

        .. literalinclude:: /includes/data-federation/adl-config-format.json 
           :language: json
           :linenos:

        a. Define your dataset as a data store in your {+fdi+} 
           storage configuration.

           Edit the |json| configuration settings shown in the UI 
           for ``stores``. Your ``stores`` cofiguration setting 
           should resemble the following:

           .. literalinclude:: /includes/data-federation/adl-stores-config-format.json 
              :language: json
              :linenos:

        #. Define virtual databases, collections, and views for 
           your dataset in your {+fdi+} storage configuration.

           .. literalinclude:: /includes/data-federation/adl-databases-config-format.json 
              :language: json
              :linenos:

---
title: "Click :guilabel:`Save` to create the federated database      
       instance with virtual databases, collections, and views mapped 
       to your {+dl+} dataset."
level: 4
ref: save-adl-data-store
...

[build]
    publish = "dist"
    base = "content/relational-migrator"

[build.environment]
    REPO_NAME = "docs-relational-migrator"
    SECRETS_SCAN_ENABLED = "false"
    OFFLINE_SNOOTY_ENABLED = "false"
    SEARCH_MANIFEST_ENABLED = "false"
    MUT_COMMANDS_ENABLED = "false"

[context.production.environment]
    ENV = "dotcomprd"

[context.preprd.environment]
    ENV = "dotcomstg"

[context.deploy-preview.environment]
    ENV = "prd"

[context.branch-deploy.environment]
    ENV = "prd"

[context.preview-server.environment]
    ENV = "prd"

[context.dev.environment]
    ENV = "stg"
    
[[redirects]] 
from = "/docs/relational-migrator/mapping-rules/calculated-fields/calculated-fields/"
to = "/docs/relational-migrator/mapping-rules/fields/calculated-fields/"

[[redirects]] 
from = "/docs/relational-migrator/mapping-rules/fields/calculated-fields/calculated-fields/"
to = "/docs/relational-migrator/mapping-rules/fields/calculated-fields/"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/debian-server-installation/debian-server-installation/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/debian-server-installation/"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/rhel-centos-server-installation/install-rhel-server/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/rhel-centos-server-installation"

[[redirects]] 
from = "/docs/relational-migrator/projects/create-project-sample-schema/"
to = "/docs/relational-migrator/database-connections/create-project-sample-schema"

[[redirects]] 
from = "/docs/relational-migrator/diagrams/navigate-diagrams/navigate-diagrams/"
to = "/docs/relational-migrator/diagrams/navigate-diagrams/"

[[redirects]] 
from = "/docs/relational-migrator/getting-started/supported-databases/"
to = "/docs/relational-migrator/getting-started"

[[redirects]] 
from = "/docs/relational-migrator/supported-databases/"
to = "/docs/relational-migrator/getting-started/"

[[redirects]] 
from = "/docs/relational-migrator/table-filters/table-filters/"
to = "/docs/relational-migrator/table-filters/"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/rhel-centos-server-installation/rhel-system-service/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/rhel-centos-server-installation"

[[redirects]] 
from = "/docs/relational-migrator/prerequisites/postgres/"
to = "/docs/relational-migrator/jobs/prerequisites/postgres/"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-a-local-machine/install-on-a-local-machine/"
to = "/docs/relational-migrator/installation/install-on-a-local-machine/"

[[redirects]] 
from = "/docs/relational-migrator/prerequisites/oracle/"
to = "/docs/relational-migrator/jobs/prerequisites/oracle/"

[[redirects]] 
from = "/docs/relational-migrator/prerequisites/"
to = "/docs/relational-migrator/jobs/prerequisites/"

[[redirects]] 
from = "/docs/relational-migrator/projects/projects/"
to = "/docs/relational-migrator/projects/"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/windows-server-installation/install-windows-server/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/windows-server-installation"

[[redirects]] 
from = "/docs/relational-migrator/prerequisites/sql-server/"
to = "/docs/relational-migrator/jobs/prerequisites/sql-server/"

[[redirects]] 
from = "/docs/relational-migrator/mapping-rules/mapping-rule-options/mapping-rule-options/"
to = "/docs/relational-migrator/mapping-rules/mapping-rule-options/introduction/"

[[redirects]] 
from = "/docs/relational-migrator/migration-scenarios/"
to = "/docs/relational-migrator/getting-started/migration-scenarios/"

[[redirects]] 
from = "/docs/relational-migrator/database-connections/save-mongodb-connection/"
to = "/docs/relational-migrator/database-connections"

[[redirects]] 
from = "/docs/relational-migrator/jobs/prerequisites/"
to = "/docs/relational-migrator/database-connections"

[[redirects]] 
from = "/docs/relational-migrator/projects/deleting-projects/"
to = "/docs/relational-migrator/projects/manage-projects"

[[redirects]] 
from = "/docs/relational-migrator/projects/project-settings/"
to = "/docs/relational-migrator/installation/application-settings"

[[redirects]] 
from = "/docs/relational-migrator/connection-strings/"
to = "/docs/relational-migrator/database-connections"

[[redirects]] 
from = "/docs/relational-migrator/connection-strings/connection-strings/"
to = "/docs/relational-migrator/database-connections/"

[[redirects]] 
from = "/docs/relational-migrator/connection-strings/mongodb-database-connection-strings/"
to = "/docs/relational-migrator/database-connections"

[[redirects]] 
from = "/docs/relational-migrator/connection-strings/relational-database-connection-strings/"
to = "/docs/relational-migrator/database-connections"

[[redirects]] 
from = "/docs/relational-migrator/diagrams/navigate-diagrams/working-with-entities/working-with-entities/"
to = "/docs/relational-migrator/diagrams/navigate-diagrams/working-with-entities/"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/windows-server-installation/windows-server-installation/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/windows-server-installation/"

[[redirects]] 
from = "/docs/relational-migrator/mapping-rules/new-rules-from-relational/"
to = "/docs/relational-migrator/mapping-rules/create-rules"

[[redirects]] 
from = "/docs/relational-migrator/prerequisites/sybase/"
to = "/docs/relational-migrator/database-connections/sybase/"

[[redirects]] 
from = "/docs/relational-migrator/jobs/prerequisites/sybase/"
to = "/docs/relational-migrator/database-connections/sybase/"

[[redirects]] 
from = "/docs/relational-migrator/projects/export-project/"
to = "/docs/relational-migrator/projects/manage-projects"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/rhel-centos-server-installation/rhel-centos-server-installation/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/rhel-centos-server-installation/"

[[redirects]] 
from = "/docs/relational-migrator/getting-started/migration-scenarios/"
to = "/docs/relational-migrator/getting-started"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/debian-server-installation/install-debian-server/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/debian-server-installation"

[[redirects]] 
from = "/docs/relational-migrator/code-generation/code-generation/"
to = "/docs/relational-migrator/code-generation/"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/install-on-an-unattended-server/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/"

[[redirects]] 
from = "/docs/relational-migrator/mapping-rules/mapping-rules/"
to = "/docs/relational-migrator/mapping-rules/introduction/"

[[redirects]] 
from = "/docs/relational-migrator/installation/deployment-considerations/"
to = "/docs/relational-migrator/installation"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/windows-server-installation/windows-system-service/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/windows-server-installation"

[[redirects]] 
from = "/docs/relational-migrator/projects/create-project-loading-schema-files/"
to = "/docs/relational-migrator/database-connections/create-project-loading-schema-files"

[[redirects]] 
from = "/docs/relational-migrator/projects/import-project/"
to = "/docs/relational-migrator/projects/manage-projects"

[[redirects]] 
from = "/docs/relational-migrator/mapping-rules/new-rules-to-mongodb/"
to = "/docs/relational-migrator/mapping-rules/create-rules"

[[redirects]] 
from = "/docs/relational-migrator/database-connections/save-relational-connection/"
to = "/docs/relational-migrator/database-connections"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/debian-server-installation/debian-system-service/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/debian-server-installation"

[[redirects]] 
from = "/docs/relational-migrator/installation/install-on-an-unattended-server/windows-server-installation/windows-external-access/"
to = "/docs/relational-migrator/installation/install-on-an-unattended-server/windows-server-installation"

[[redirects]] 
from = "/docs/relational-migrator/jobs/data-verification/data-verification/"
to = "/docs/relational-migrator/jobs/data-verification/"

[[redirects]] 
from = "/docs/relational-migrator/diagrams/diagrams/"
to = "/docs/relational-migrator/diagrams/"

[[redirects]] 
from = "/docs/relational-migrator/prerequisites/my-sql/"
to = "/docs/relational-migrator/jobs/prerequisites/my-sql/"

[[redirects]] 
from = "/docs/relational-migrator/projects/renaming-project/"
to = "/docs/relational-migrator/projects/manage-projects"

[[redirects]] # DOCSP-54009
from = "/docs/relational-migrator/installation/kafka-deployments/migrator-with-kafka"
to = "/docs/relational-migrator/release-notes/#rm-deprecations-1-15"

[[redirects]] # DOCSP-54009
from = "/docs/relational-migrator/installation/kafka-deployments/install-kafka-cluster"
to = "/docs/relational-migrator/release-notes/#rm-deprecations-1-15"

[[redirects]] # DOCSP-54009
from = "/docs/relational-migrator/installation/kafka-deployments/install-docker"
to = "/docs/relational-migrator/release-notes/#rm-deprecations-1-15"

[[redirects]] # DOCSP-54009
from = "/docs/relational-migrator/installation/kafka-deployments/install-confluent-kafka"
to = "/docs/relational-migrator/release-notes/#rm-deprecations-1-15"

[[redirects]] # DOCSP-54009
from = "/docs/relational-migrator/installation/kafka-deployments/advanced-settings"
to = "/docs/relational-migrator/release-notes/#rm-deprecations-1-15"

[[redirects]]   
from = "/docs/relational-migrator/code-generation/query-converter-test-queries"
to = "/docs/relational-migrator/release-notes/#rm-amp-engagement-1-15"

[[redirects]] 
from = "/docs/relational-migrator/code-generation/query-converter/"
to = "/docs/relational-migrator/release-notes/#rm-amp-engagement-1-15"

[[redirects]] 
from = "/docs/relational-migrator/code-generation/query-converter/*"
to = "/docs/relational-migrator/release-notes/#rm-amp-engagement-1-15"

[[redirects]] 
from = "/docs/relational-migrator/getting-started/atlas-log-in/"
to = "/docs/relational-migrator/release-notes/#rm-amp-engagement-1-15"

[[redirects]]
from = "/docs/relational-migrator/jobs/pause-resume-kafka-jobs/"
to = "/docs/relational-migrator/release-notes/#rm-amp-engagement-1-15"

[[redirects]] 
from = "/docs/relational-migrator/jobs/recover-jobs/"
to = "/docs/relational-migrator/release-notes/#rm-amp-engagement-1-15"

[[redirects]]
from = "/docs/relational-migrator/mapping-rules/mapping-rule-options/time-series/"
to = "/docs/relational-migrator/release-notes/#rm-deprecations-1-15"

[[redirects]]
from = "/docs/relational-migrator/api-docs/rest-api-spec/"
to = "https://www.mongodb.com/docs/api/doc/mongodb-relational-migrator-rest-api/"
# Keep forced until Redoc pages are no longer built
force = true

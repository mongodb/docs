==============================
$subtype (expression operator)
==============================

.. meta::
   :description: Use the `$subtype` operator in MongoDB to return the subtype of a value in aggregation expressions.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Definition
----------

.. versionadded:: 8.3

.. expression:: $subtype 

   Returns the subtype of a given value as an integer. 

Syntax
------

:expression:`$subtype` has the following syntax:

.. code-block:: javascript

   { $subtype: <expression> }

The ``<expression>`` can be any valid :ref:`expression
<aggregation-expressions>` that contains a subtype. 

.. note::

   In MongoDB 8.3, the only expression that contains a subtype is a
   :bsontype:`BinData <data_binary>` expression. 

Behavior
--------

Null or Missing Values
~~~~~~~~~~~~~~~~~~~~~~

``$subtype`` operations on null or missing values return ``null``. 

Unaccepted Expressions
~~~~~~~~~~~~~~~~~~~~~~

``$subtype`` operations on expressions that do not have a subtype return an
error. 

BinData Output
~~~~~~~~~~~~~~

``$subtype`` operations on  :bsontype:`BinData <data_binary>` expressions return
the binary subtype of the expression. For more information, see
:ref:`binData-subtype`. 

Example
-------

Use the :method:`BinData()` constructor to create a ``bdata`` variable.

.. code-block:: javascript

   var bdata = BinData(0, "gf1UcxdHTJ2HQ/EGQrO7mQ==")

The following operation outputs the subtype of the bdata object:

.. code-block:: javascript

   { $subtype: bdata }

The expression returns ``0``. 

Learn More
----------

- :ref:`server-binData-method`
- :ref:`Binary.createFromBase64`

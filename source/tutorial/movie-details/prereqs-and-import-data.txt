.. _import-data:

=========================
Setup and Import the Data
=========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. |dataset| replace:: ``test.movieDetails``

*Estimated Time to Complete: 10 minutes*

Prerequisites
-------------

.. include:: /includes/tutorial-prereqs.rst

Download the Data
-----------------

Download the example dataset from
https://raw.githubusercontent.com/steveren/docs-assets/charts-tutorial/movieDetails.json.
To download the documents, right-click on the URL and select
:guilabel:`Save Link As`. This file contains the data you will import
into the ``test.movieDetails`` collection of your Atlas cluster in the
following step.

The ``movieDetails.json`` file is 1.4 MB and contains records for 2250
movies. The following is a sample document from the dataset:

.. code-block:: json

   {
   	"_id" : ObjectId("5b107bec1d2952d0da904dd7"),
   	"title" : "Titan A.E.",
   	"year" : 2000,
   	"rated" : "PG",
   	"runtime" : 94,
   	"countries" : [
   		"USA"
   	],
   	"genres" : [
   		"Animation",
   		"Action",
   		"Adventure"
   	],
   	"director" : "Don Bluth, Gary Goldman, Art Vitello",
   	"writers" : [
   		"Hans Bauer",
   		"Randall McCormick",
   		"Ben Edlund",
   		"John August",
   		"Joss Whedon"
   	],
   	"actors" : [
   		"Matt Damon",
   		"Bill Pullman",
   		"John Leguizamo",
   		"Nathan Lane"
   	],
   	"plot" : "A young man learns that he has to find a hidden Earth ship before an enemy alien species does in order to secure the survival of humanity.",
   	"poster" : "http://ia.media-imdb.com/images/M/MV5BMjE0NTU0ODg4NV5BMl5BanBnXkFtZTcwNzY3MTQyMQ@@._V1_SX300.jpg",
   	"imdb" : {
   		"id" : "tt0120913",
   		"rating" : 6.6,
   		"votes" : 50875
   	},
   	"tomato" : {
   		"meter" : 52,
   		"image" : "rotten",
   		"rating" : 5.7,
   		"reviews" : 99,
   		"fresh" : 51,
   		"consensus" : "Great visuals, but the story feels like a cut-and-paste job of other sci-fi movies.",
   		"userMeter" : 60,
   		"userRating" : 3.2,
   		"userReviews" : 69055
   	},
   	"metacritic" : 48,
   	"awards" : {
   		"wins" : 1,
   		"nominations" : 7,
   		"text" : "1 win & 7 nominations."
   	},
   	"type" : "movie"
   }

Import the Data
---------------

Before you can use your dataset with |charts-short|, you need to add
it to a MongoDB collection. Use :manual:`mongoimport
</reference/program/mongoimport/>` to import the contents of that file
into the ``test.movieDetails`` collection on your Atlas cluster.

.. code-block:: javascript

   mongoimport --host <atlasHostname> --ssl -u <username> -p <password> --authenticationDatabase admin \
   --db test --collection movieDetails \
   --drop --file <path/to/movieDetails.json>

.. note::

   Refer to :manual:`mongoimport </reference/program/mongoimport/>`
   for more information on using the import tool to add data to
   a MongoDB collection.

Add the Data Collection as a Data Source
----------------------------------------

.. include:: /includes/add-data-source-steps.rst

Next Steps
----------

Now that you have established the data source in |charts-short|, you
can :ref:`Create a New Dashboard <movie-data-new-dash>` which will
hold the visualizations.

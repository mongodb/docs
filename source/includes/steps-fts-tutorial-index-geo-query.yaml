stepnum: 1
level: 4
ref: nav-to-fts-geo
inherit:
  file: steps-source-project-nav.yaml
  ref: project-nav-search

---
stepnum: 2
level: 4
ref: click-create-fts-index-geo
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-fts-index

---
stepnum: 3
level: 4
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: select-a-configuration-method
ref: select-a-configuration-method

---
stepnum: 4
level: 4
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: name-index
ref: name-index
content: |

  a. In the :guilabel:`Index Name` field, enter ``geo-json-tutorial``.

     .. include:: /includes/default-fts-index-name.rst 

  #. In the :guilabel:`Database and Collection` section, find the 
     ``sample_airbnb`` database, and select the ``listingsAndReviews`` collection.

---
stepnum: 5
level: 4
ref: enter-index-definition-geo
title: "Define an index on the ``address`` field."
content: |

  You can use the |fts| :guilabel:`Visual Editor` or the |fts| :guilabel:`JSON 
  Editor` in the |service| user interface to create the index. The
  following index definition specifies that |fts| must index: 
    
  - All of the fields in the collection automatically.
  - The ``address.location`` field of a ``document`` as type ``geo``. 

  .. tabs:: 
  
     .. tab:: Visual Editor
        :tabid: vib
  
        a. Click :guilabel:`Next`.
        #. Click :guilabel:`Refine Your Index`.
        #. In the :guilabel:`Field Mappings` section, click
           :guilabel:`Add Field`. 
        #. Select :guilabel:`address.location` from the :guilabel:`Field
           Name` dropdown. 
        #. Click the :guilabel:`Data Type` dropdown and select
           :guilabel:`Geo`. 
        #. Click :guilabel:`Add`.
        #. Click :guilabel:`Save Changes`.

     .. tab:: JSON Editor
        :tabid: jsonib

        a. Replace the default index definition with the following
           example index definition.

           .. code-block::

              {
                "mappings": {
                  "dynamic": true,
                  "fields": {
                    "address": {
                      "fields": {
                        "location": {
                          "type": "geo"
                        }
                      },
                      "type": "document"
                    }
                  }
                }
              }
             
        #. Click :guilabel:`Next`.

---
ref: fts-geo-tutorial-click-create
level: 4
stepnum: 6
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-search-index

---
ref: fts-tutorial-confirmation-modal
level: 4
stepnum: 7
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: close-in-progress
---
ref: wait-for-index-geo
level: 4
stepnum: 8
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: wait-for-index

...


ref: fts-search-nodes-cluster-tier
content: |
  You can deploy search nodes for dedicated (``M10`` or higher)
  {+clusters+} only. You can't add search nodes on free (``M0``) and
  shared (``M2`` and ``M5``) tier {+clusters+}. You can use the
  {+atlas-ui+} and the {+atlas-admin-api+} to provision search nodes for
  new and existing single-region {+clusters+} on |aws|. 

---
ref: fts-search-nodes-cloud-provider
content: |
  You can host the search nodes only on |aws|. You can't deploy search
  nodes separately for |gcp| or |azure| {+clusters+} when you create or
  modify these {+clusters+}. You can't deploy search nodes separately
  for :ref:`serverless instances <create-new-serverless-instance>`,
  :ref:`multi-cloud clusters <create-cluster-multi-region>`, or
  :ref:`global clusters <global-clusters>`.

---
ref: fts-search-nodes-cloud-provider-regions
content: |
  |service| deploys the search nodes in the same region as your electable,
  read-only, and analytics nodes. However, you can't deploy search nodes
  separately for workload isolation in certain |aws| regions. So, the
  following {+atlas-ui+} behavior applies:
  
  - If you select any of the following regions for your {+cluster+} 
    nodes first, |service| disables the :guilabel:`Search nodes for
    workload isolation` toggle.
  - If you enable :guilabel:`Search nodes for workload isolation`
    first, |service| disables the following in the dropdown for regions
    under :guilabel:`Electable nodes for high availability`.

  |service| doesn't support the following |aws| regions for search
  nodes.

  .. list-table:: 
     :header-rows: 1

     * - Region Name
       - AWS Region  

     * - Paris 
       - ``eu-west-3``

     * - Zurich 
       - ``eu-central-2`` 

     * - Milan 
       - ``eu-south-1``

     * - Spain 
       - ``eu-south-2``

     * - UAE 
       - ``me-central-1``

     * - Bahrain
       - ``me-south-1``

     * - Cape Town
       - ``af-south-1``

     * - Hong Kong
       - ``ap-east-1``

     * - Jakarta
       - ``ap-southeast-3``

     * - Melbourne 
       - ``ap-south-4``

     * - Hyderabad 
       - ``ap-south-2``

---
ref: fts-search-nodes-search-tier
content: |
  You can select a search tier for your search nodes in the
  :guilabel:`Search Tier` tab. |aws| provides different search tiers in
  different regions. By default, |service| deploys search nodes on
  ``S20``. You can select a higher tier for faster queries and more
  complex aggregations or a lower tier for smaller workloads. If the
  search tier that you selected is not available for your region,
  |service| automatically deploys the search nodes in the next higher
  tier that is available in that region. For some tiers, you can also
  choose between low-CPU, which is recommended for {+avs+}, and
  high-CPU, which is optimized for |fts|.
  
  The following table shows the search tiers and the regions where the
  search tiers are available for each class of hardware, low-CPU or
  high-CPU.  

  .. tabs:: 

     .. tab:: Americas
        :tabid: americas

        .. tabs:: 

           .. tab:: Low-CPU 
              :tabid: low-cpu

              .. include:: /includes/list-tables/atlas-search/search-tier-aws-regions-americas-low-cpu.rst

           .. tab:: High-CPU 
              :tabid: high-cpu

              .. include:: /includes/list-tables/atlas-search/search-tier-aws-regions-americas-high-cpu.rst

     .. tab:: Asia Pacific 
        :tabid: asia-pacific

        .. tabs:: 

           .. tab:: Low-CPU 
              :tabid: low-cpu

              .. include:: /includes/list-tables/atlas-search/search-tier-aws-regions-ap-low-cpu.rst

           .. tab:: High-CPU 
              :tabid: high-cpu

              .. include:: /includes/list-tables/atlas-search/search-tier-aws-regions-ap-high-cpu.rst

     .. tab:: Europe 
        :tabid: europe

        .. tabs:: 

           .. tab:: Low-CPU 
              :tabid: low-cpu

              .. include:: /includes/list-tables/atlas-search/search-tier-aws-regions-europe-low-cpu.rst

           .. tab:: High-CPU 
              :tabid: high-cpu

              .. include:: /includes/list-tables/atlas-search/search-tier-aws-regions-europe-high-cpu.rst

---
ref: fts-migrate-delete-search-nodes
content: |
  If you delete all existing search nodes on your {+cluster+}, there will
  be a brief interruption in processing your search query results while
  |service| migrates from ``mongot`` processes running separately on
  dedicated search nodes to ``mongot`` processes running alongside
  ``mongod``. However, you won't experience any downtime while indexes
  are migrated and no stale data.

---
ref: fts-migrate-add-search-nodes
content: |
  When you add search nodes to a {+cluster+} that doesn't have any search
  nodes, the existing ``mongot`` processes running alongside ``mongod``
  tail writes to the database that happen after |fts| completed the
  initial sync and the ``mongot`` processes on the new dedicated search
  nodes perform an initial sync on the required collections. This
  results in dual reads during the migration process. 
  
...

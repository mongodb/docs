=====
Hosts
=====

.. default-domain:: mongodb

.. only:: cloud

    .. include:: /includes/api-cm-base-url.rst

.. only:: onprem

    .. include:: /includes/api-ops-base-url.rst

The ``hosts`` resource defines the ``mongod`` and ``mongos`` processes in your
deployment. Each process is identified by a unique hostname and port combination.
When you add a ``mongod`` or ``mongos`` to |mms|, |mms| automatically
discovers various valid hostname and port combinations for the process.
DNS records the names you can
use to access a given host. |mms| ranks the hostnames to choose a "primary"
hostname. Hostnames with the most periods rank highest, while the
loopback address (``127.0.0.1``) and ``localhost`` lowest. |mms|
treats the "losing" hostnames as host aliases.

When |mms| processes a ping from the Monitoring agent, the algorithm for
assigning a primary hostname repeats. As a result, the primary hostname
may change over time. You can also :ref:`specify preferred hostnames
<group-settings-page>` in |mms|'s group settings to override the hostname
algorithm.

Endpoints
---------

The following endpoints are available for ``hosts``.

.. list-table::
   :header-rows: 1
   :widths: 10 70 20

   * - Method
     - Endpoint
     - Description

   * - ``GET``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/hosts </reference/api/hosts-get-all-in-group>`

     - Get all MongoDB processes in a group.

   * - ``GET``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/hosts/{HOST-ID} </reference/api/host-get-by-id>`

     - Get a MongoDB process by host ID.

   * - ``GET``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/hosts/byName/{HOSTNAME:PORT} </reference/api/host-get-by-hostname-port>`

     - Get a MongoDB process by its hostname and port.

   * - ``POST``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/hosts </reference/api/create-host>`

     - Start monitoring a new MongoDB process.

   * - ``PATCH``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/hosts/{HOST-ID} </reference/api/update-host>`

     - Update a MongoDB process.

   * - ``DELETE``

     - :doc:`/api/public/v1.0/groups/{GROUP-ID}/hosts/{HOST-ID} </reference/api/delete-host>`

     - Stop monitoring a MongoDB host.


.. class:: hidden

   .. toctree::
      :titlesonly:

      /reference/api/hosts-get-all-in-group
      /reference/api/host-get-by-id
      /reference/api/host-get-by-hostname-port
      /reference/api/create-host
      /reference/api/update-host
      /reference/api/delete-host

title: "Open ``automation-agent.config`` in a text editor."
ref: configure-automation-agent
level: 4
stepnum: 1
content: |

  .. include:: /includes/fact-automation-agent-config-location.rst

---
title: "Change ``mmsBaseUrl`` and |tls-ssl| settings."
ref: change-ssl
level: 4
stepnum: 2
content: |

  Set or add the following properties where needed:

  .. list-table::
     :stub-columns: 1
     :widths: 20 10 70

     * - :asetting:`mmsBaseUrl`
       - Required
       - Set this value to match the |url| you entered in the
         :guilabel:`URL to Access Ops Manager` box.

     * - :asetting:`sslRequireValidMMSServerCertificates`
       - Conditional
       - If you are using certificates that are not signed by any 
         |certauth|, add this property and set it to ``false``.

         If you want to use your own certificates, set this to ``true``
         and upload the |certauth| file that signed your certificates 
         to each MongoDB host.

     * - :asetting:`sslTrustedMMSServerCertificate`
       - Optional
       - If you are using your own self-signed |certauth| ``.pem`` 
         files, add this property and set it to the absolute path to 
         your |certauth| file on the MongoDB host.

         .. important::

            This |certauth| file must be in the same location on each
            MongoDB host in the same deployment or that MongoDB host 
            may be unaccessible.

     * - :asetting:`sslMMSServerClientCertificate`
       - Conditional
       - If you set :guilabel:`Client Certificate Mode` in |onprem| to 
         ``Required for Agents Only`` or ``Required for All 
         Requests``, add this value and specify the absolute path to 
         the file containing the client's private key, certificate, and
         optional intermediate certificates in ``.pem`` format .

     * - :asetting:`sslMMSServerClientCertificatePassword`
       - Conditional
       - If you encrypted the
         :asetting:`sslMMSServerClientCertificate` ``.pem`` file, 
         provide the password needed to decrypt it.

---
title: "Click :guilabel:`Save`."
ref: save-automation-agent-config
level: 4
stepnum: 3
content: |
---
title: "Restart the Automation Agent."
ref: restart-hosts
level: 4
stepnum: 4
content: |
...

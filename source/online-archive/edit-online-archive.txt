.. _edit-online-archive:

======================
Edit an Archiving Rule
======================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/fact-online-archive-beta-message.rst

You can modify the number of days to keep data on the |service| cluster, 
referred to as the the :guilabel:`Age Limit` in the archiving rule, from 
the |service| UI and |api|. 

.. _edit-online-archive-ui:

Edit an Archiving Rule Through the UI 
-------------------------------------

To edit an online archive, in your |service| UI: 

.. include:: /includes/steps/edit-online-archive-rule.rst 

.. _edit-online-archive-partitions:

Edit the Partition on the Cloud Object Store
--------------------------------------------

You cannot modify the partition fields or structure from the |service| 
UI or |api|. However, you can manually migrate the data from the cloud object 
storage using |mongodump|, :ref:`delete <delete-online-archive>` the online 
archive, use |mongorestore| to restore the data on the |service| cluster, and 
then create a new online archive for the collection with the desired partition 
fields and/or structure. 

.. _edit-online-archive-api:

Edit an Archiving Rule Through the API 
--------------------------------------

To edit an online archive through the |api|, send a ``PATCH`` request to 
the :ref:`onlineArchives <api-online-archive>` endpoint with the 
unique ID of the online archive to update. To learn more about the |api| 
syntax and options, see :ref:`api-online-archive-update-one`.

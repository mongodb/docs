==========================
MMS Optional Configuration
==========================

.. default-domain:: mongodb

Overview
--------

A number of optional services provide additional functionality to MMS, for
example, password policy and session management.

Restart the MMS application to effect any configuration changes:

.. code-block:: sh

   sudo <install_dir>/bin/mongodb-mms restart

Password Policy
---------------

You can configure the password policy for MMS user accounts with the
following properties:

.. code-block:: ini

   # The number of previous passwords to remember. A remembered password can not be reused.
   mms.password.minChangesBeforeReuse=

   # The number of failed login attempts before an account becomes locked. An account can only be
   # unlocked by an MMS Administrator.
   mms.password.maxFailedAttemptsBeforeAccountLock=

   # The number of days before an account that has not visisted the MMS website should be locked.
   mms.password.maxDaysInactiveBeforeAccountLock=

   # The number of days a password can be in use before it must be changed.
   mms.password.maxDaysBeforeChangeRequired=

Session Management
------------------

You can configure the number of hours before a session on the MMS
website expires with the following property:

.. code-block:: ini

   mms.session.maxHours=

Change Port Number
------------------

#. Edit ``<install_dir>/conf/conf-mms.properties``:

   .. code-block:: ini

      mms.centralUrl=http://mms.acmewidgets.com:<newport>

#. Edit ``<install_dir>/conf/mms.conf``

   .. code-block:: ini

      BASE_PORT=<newport>

#. Restart MMS server:

   .. code-block:: sh

      sudo <install_dir>/bin/mongodb-mms restart

Configure a Required reCaptcha for User Registration
----------------------------------------------------

To enable `reCaptcha anti-spam test
<http://www.google.com/recaptcha/whyrecaptcha>`_ on new user
registration, `sign up for a reCaptcha account
<https://www.google.com/recaptcha/admin/create>`_ and provide the API
credentials in the following two properties:

.. code-block:: ini

   reCaptcha.public.key=
   reCaptcha.private.key=

Additional Information
----------------------

- :doc:`/management/ldap-authentication`

- :doc:`/monitoring/tutorial/configure-jetty-https`

===================================
Manage File System Snapshot Storage
===================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/fact-backup-snapshot-store-options.rst

This tutorial covers backing up your snapshots on file system storage.

.. include:: /includes/note-add-capacity-using-multiple-stores.rst

Prerequisites
-------------

Before creating any file system snapshot stores:

- Ensure storage volumes with sufficient capacity is attached to the |onprem|
  server to store the snapshot files and the :term:`Oplog Store <Oplog Store Database>` 
  MongoDB database. The Oplog Store does not need to be on the same host as
  the file system snapshot store.

- :doc:`Deploy the dedicated MongoDB instance(s) 
  </tutorial/prepare-backing-mongodb-instances>` to host the Oplog Stores for this 
  snapshot store.

- Ensure the host running the |onprem| :term:`Backup Daemon` service has
  sufficient capacity to store the :term:`head` database.

- If you use multiple |onprem| instances (including those activated as
  additional Backup Daemons), set up an :abbr:`NFS (Network File System)`
  application or something similar to ensure the all instances share the same
  view of file system snapshot storage. If the |onprem| instances do not share
  the same view of file system snapshot storage, restores are not possible and
  |onprem| cannot remove expired snapshots.

.. include:: /includes/important-multiple-instances-share-view-filesystem-snapshots.rst

.. _add-filestore:

Add a File System Store
-----------------------

.. include:: /includes/steps/admin-add-filestore.rst

.. _edit-filestore:

Edit an Existing File System Store
----------------------------------

Once created, file system stores are listed directly on the
:guilabel:`Snapshot Storage` page in a table. Each row contains the settings
for each File System Store.

.. include:: /includes/steps/admin-edit-filestore.rst

.. _delete-filestore:

Delete a File System Store
--------------------------

.. include:: /includes/steps/admin-delete-filestore.rst


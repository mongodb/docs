.. _om-cancel-import-deployment-request:

================================
Cancel Import Deployment Request
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. include:: /includes/fact-groups-projects-synonyms.rst

Cancel an in-progress import deployment request. This endpoint allows you to
stop an import deployment request that is currently running. Once cancelled,
the import process will stop and the request state will change to ``CANCELLED``.

.. important::

   This feature is available starting in |mms| 8.0.13. 

.. note::

   This endpoint can only be used on import requests that are currently
   in progress. Use the :ref:`delete endpoint <om-delete-import-deployment-request>`
   to clean up failed requests.Required Roles
--------------

This endpoint requires the :authrole:`Project Automation Admin` role.

Endpoint
--------

.. include:: /includes/api/base-api-uri.rst

.. code-block:: http

   POST /automation/importDeployment/{PROJECT-ID}/{REQUEST-ID}/cancel

Request
-------

Path Parameters
~~~~~~~~~~~~~~~

.. list-table::
   :widths: 20 14 11 55
   :header-rows: 1
   :stub-columns: 1

   * - Name
     - Type
     - Necessity
     - Description

   * - PROJECT-ID
     - string
     - Required
     - Unique identifier of the :opsmgr:`project </reference/glossary/#std-term-project>`.

   * - REQUEST-ID
     - string
     - Required
     - Unique identifier of the import deployment request to cancel.

Query Parameters
~~~~~~~~~~~~~~~~

.. include:: /includes/api/no-query-single-parameters.rst

Body Parameters
~~~~~~~~~~~~~~~

.. include:: /includes/api/no-body-parameters.rst

Response
--------

Returns an empty success response with HTTP status 200 if the import 
request is successfully cancelled.

Example Request
---------------

.. code-block:: sh

   curl --user "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest \
        --header "Accept: application/json" \
        --include \
        --request POST "https://{+opsmgr-url+}/api/public/v1.0/automation/importDeployment/{PROJECT-ID}/{REQUEST-ID}/cancel?pretty=true"

Example Response
----------------

Response Header
~~~~~~~~~~~~~~~

.. include:: /includes/api/api-headers/401.rst

.. include:: /includes/api/api-headers/200.rst

Response Body
~~~~~~~~~~~~~

.. code-block:: json

   {}
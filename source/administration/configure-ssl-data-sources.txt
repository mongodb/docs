==================================
Configure TLS/SSL for Data Sources
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

|charts| can connect to MongoDB deployments running with or without
|tls-ssl| enabled. If the deployment is running with TLS/SSL enabled,
configuring your data source depends on whether the certificate is:

- signed by a trusted root certificate authority, or

- self-signed or issued by an internal certificate authority.

.. note::

   MongoDB deployments should use |tls-ssl| 1.1 or later.

Certificate Signed by a Trusted Root CA
---------------------------------------

To connect |charts-short| to a MongoDB deployment using a certificate
signed by a trusted root certificate authority,
:ref:`add a data source <add-data-source>` and append the ``ssl=true``
option to the
:manual:`Connection String URI </reference/connection-string>`:

.. include:: /includes/data-source-uri-ssl.rst

.. note::

   No additional configuration is required when using a certificate
   signed by a trusted root certificate authority.

Self-Signed Certificate or Certificate Issued by an Internal CA
---------------------------------------------------------------

To connect |charts-short| to a MongoDB deployment using a self-signed
certificate or a certificate issued by an internal certificate
authority, you must copy the certificate to the
`Docker volume <https://docs.docker.com/storage/volumes/>`_. The
following steps copy the certificate to the Docker volume, redeploy the
|charts-short| application, and add a new data source configured to use
|tls-ssl|:

.. include:: /includes/steps/copy-ssl-certs.rst

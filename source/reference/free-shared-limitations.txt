.. _atlas-free-tier:

================================================
|service| M0 (Free Tier), M2, and M5 Limitations
================================================

The following table lists the configuration limitations of |service| 
``M0`` Free Tier and ``M2/M5`` shared clusters:

.. list-table::
   :widths: 20 80
   :header-rows: 1

   * - Configuration Option
     - Limitation

   * - Cloud Service Provider and Region
     - |service| supports the following cloud service providers
       and regions for deploying ``M0`` clusters:

       .. list-table::
          :header-rows: 1
          :widths: 20 80
 
          * - Cloud Provider
            - Supported Regions
 
          * - AWS
            - - ``N. Virginia (us-east-1)``
              - ``Frankfurt (eu-central-1)``
              - ``Singapore (ap-southeast-1)``
              - ``Mumbai (ap-south-1)``
 
          * - GCP
            - - ``Iowa (us-central-1)``
              - ``Belgium (europe-west-1)``
              - ``Singapore (asia-southeast1)``
       
       |service| supports the following cloud service providers and
       regions for deploying ``M2/M5`` clusters:

       .. list-table::
          :header-rows: 1
          :widths: 20 80
 
          * - Cloud Provider
            - Supported Regions

          * - AWS
            - - ``N. Virginia (us-east-1)``
              - ``N. California (us-west-1)``
              - ``Oregon (us-west-2)``
              - ``Singapore (ap-southeast-1)``
              - ``Sydney (ap-southeast-2)``
              - ``Mumbai (ap-south-1)``
            
          * - GCP
            - - ``Iowa (us-central1)``
              - ``Belgium (europe-west1)``
              - ``Taiwan (asia-east1)``

          * - Azure
            - - ``Virginia (eastus2)``
              - ``Ireland (northeurope)``

   * - MongoDB Version and Storage Engine
     - |service| locks the MongoDB version and storage engine for
       ``M0/M2/M5`` clusters to ``MongoDB 3.6 with WiredTiger``.

   * - Instance Size
     - You must select the ``M0`` instance size to deploy a Free Tier 
       cluster.

   * - Instance Memory
     - You cannot configure memory for ``M0`` Free Tier or ``M2/M5`` shared
       instances.

   * - Instance Storage
     - You cannot configure storage size for ``M0`` Free Tier or ``M2/M5``
       shared instances.

   * - Replication Factor
     - Replication Factor is set to ``3 Nodes`` and cannot be modified for
       ``M0`` Free Tier, or ``M2/M5`` shared clusters.

   * - Do You Want A Sharded Cluster
     - You cannot deploy a ``M0`` Free Tier or ``M2/M5`` shared cluster 
       as a Sharded Cluster.

   * - Do You Want To Enable Backup
     - You cannot enable backups on ``M0`` Free Tier or ``M2/M5`` shared
       clusters.

   * - Test Failovers
     - You cannot perform primary failover testing on ``M0`` Free Tier or
       ``M2/M5`` shared clusters.

   * - Database Auditing
     - You cannot configure :doc:`/database-auditing` on ``M0`` Free
       Tier or ``M2/M5`` shared clusters.

The following table lists the operational limitations of |service| 
``M0`` Free Tier and ``M2/M5`` shared clusters:

.. list-table::
   :widths: 20 80

   * - :manual:`Aggregation </aggregation>`
     - |service| Free Tier clusters do not support the
       ``allowDiskUse`` option for the
       :manual:`aggregation command </reference/command/aggregate>`
       or its
       :manual:`helper method 
       </reference/method/db.collection.aggregate>`.

   * - Throughput
     - Maximum of 100 operations per second allowed for ``M0`` Free Tier and
       ``M2/M5`` shared clusters.

   * - Query Utilization
     - The percentage of time that a query is running over any five
       minute period must remain under 100% on ``M0`` Free Tier and ``M2/M5``
       shared clusters .

   * - Connections
     - ``M0`` Free Tier and ``M2/M5`` shared clusters are allowed a maximum
       of 100 connections.

   * - Data Transfer Limits

     - ``M0/M2/M5`` clusters limit the total data transferred into
       or out of the cluster as follows:

       - ``M0``: 10 GB per week 

       - ``M2``: 20 GB per week

       - ``M5``: 50 GB per week

       |service| throttles the network speed of clusters which
       exceed the posted limits.

   * - Javascript
     - ``M0`` Free Tier and ``M2/M5`` shared clusters do not support 
       server side javascript. For example, 
       :manual:`$where </reference/operator/query/where>` and
       :manual:`map-reduce </core/map-reduce>` are not supported.

   * - Data Explorer
     - :doc:`/data-explorer` is not available for ``M0`` Free Tier or
       ``M2/M5`` shared clusters.

   * - API Access
     - You cannot modify or configure an ``M0`` Free Tier cluster using 
       the :doc:`/reference/api/clusters` API endpoint. A subset of 
       API endpoints support ``M2`` and ``M5`` shared clusters.

   * - Number of Free Tier clusters
     - You can deploy at most *one* Free Tier cluster per |service| 
       project.

   * - Database Commands
     - Certain database commands are unsupported or behavior differently
       in a Free Tier cluster. See :doc:`Command Limitations in Free
       Tier Clusters </unsupported-commands>` for more information.

       Please contact |service| support for any questions or comments
       related to restricted commands.

   * - |service| Monitoring
     - The :guilabel:`Metrics` view of an ``M0`` Free Tier or ``M2/M5`` 
       shared cluster only displays the following metrics:

       - Connections
       - Logical Size
       - Network
       - Opscounter

       For more information on these metrics, see
       :ref:`Real Time Metrics <real-time-metrics-status-tab>`.

   * - |service| Alerts
     - ``M0/M2/M5`` clusters can only trigger alerts configured with
       one of the following 
       :doc:`alert conditions </reference/alert-conditions>`:

       - Connections
       - Logical Size
       - Network
       - Opscounter

   * - Namespaces and Database Names
     - ``M0`` Free Tier and ``M2/M5`` shared cluster namespaces are limited
       to 95 bytes. Database names are limited to 38 bytes.

   * - Database and Collections
     - ``M0`` Free Tier and ``M2/M5`` shared clusters have a maximum of 100
       databases and 500 collections total.

   * - Cluster Persistance
     - |service| may terminate idle Free Tier clusters as per the
       Terms of Service.

   * - VPC Peering
     - ``M0`` Free Tier and ``M2/M5`` shared clusters do not support 
       :ref:`VPC peering <security-vpc>`.

   * - Database Logs
     - ``M0`` Free Tier and ``M2/M5`` shared clusters do not provide 
       downloadable logs.

   * - Auto-Expand Storage
     - ``M0`` Free Tier and ``M2/M5`` shared clusters do not provide
       automatically scaling storage.

   * - Performance Advisor
     - ``M0`` Free Tier and ``M2/M5`` shared clusters do not provide
       access to the :doc:`Performance Advisor </performance-advisor>`.

   * - Real-Time Performance Panel
     - ``M0`` Free Tier and ``M2/M5`` shared clusters do not provide
       access to the :doc:`Real-Time Performance Panel </real-time-performance-panel>`.

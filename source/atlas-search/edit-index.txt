.. _ref-edit-index:

==========================
Edit an Atlas Search Index
==========================

.. default-domain:: mongodb

.. meta:: 
   :keywords: code example, java sync, node.js
   :description: Learn how to modify your Atlas Search index definition through the Atlas UI, Atlas Search API, or Atlas CLI.

.. facet::
   :name: genre
   :values: tutorial

.. facet::
   :name: programming_language
   :values: csharp, java

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can change the :ref:`index definition <ref-index-definitions>`
of an existing |fts| index. You cannot rename an index; if you need to
change an index's name, you must create a new index and delete the old
one.

Required Access 
---------------

.. include:: /includes/fact-fts-required-roles.rst

Edit an |fts| Index Using the |service| UI
------------------------------------------

.. include:: /includes/steps/edit-fts-index.rst

Edit an |fts| Index Using the |fts| API
---------------------------------------

To edit an |fts| index through the |api|, send a ``PATCH`` request with 
the ``ID`` of the |fts| index that you wish to modity to the 
``fts/indexes/`` :oas-atlas-op:`endpoint 
</updateAtlasSearchIndex>`. To learn more about the 
syntax and parameters for this endpoint, see 
:oas-atlas-op:`Update One </updateAtlasSearchIndex>`.

Edit an |fts| Index Using the {+atlas-cli+}
-------------------------------------------

.. include:: /includes/extracts/atlas-clusters-search-indexes-update.rst

.. _ref-edit-index-programmatically:

Edit an |fts| Index Programmatically
------------------------------------

You can edit an |fts| index programmatically by using
{+mongosh+} or a supported :driver:`MongoDB Driver </>` 
in your preferred language. 

.. note:: 

   You can't use the {+mongosh+} command or driver helper methods to
   edit |fts| indexes on ``M0``, ``M2``, or ``M5`` |service|
   {+clusters+}. To create and manage |fts| indexes using {+mongosh+} or
   the driver, upgrade to a dedicated {+cluster+} tier. 

You must have at least the 
:atlasrole:`atlasAdmin` role or ``dbAdmin`` access to
the database that contains the indexes.  To learn more, 
see :ref:`atlas-user-privileges` or :ref:`atlas-specific-privileges`.

----------

.. |arrow| unicode:: U+27A4

|arrow| Use the **Select your language** drop-down menu to set the 
language of the example in this section.

----------

.. tabs-selector:: drivers

.. tabs-drivers::

   .. tab::
      :tabid: shell

      .. include:: /includes/steps-fts-edit-index-shell.rst

   .. tab::
      :tabid: nodejs

      .. include:: /includes/steps-fts-edit-index-node.rst
   
   .. tab::
      :tabid: csharp

      .. include:: /includes/steps-fts-edit-index-csharp.rst

   .. tab::
      :tabid: java-sync

      To edit an |fts| index on a collection using the :driver:`Java
      Driver </java/sync/current/fundamentals/indexes/#atlas-search-indexes>`,
      construct a document that modifies the search index settings, and
      then pass the document to the ``updateSearchIndex()`` method. You
      must have :driver:`Java Driver </java/sync/current/>` v4.11.0 or
      higher. 

      .. include:: /includes/steps-fts-edit-index-java.txt

      .. seealso:: 
      
         :driver:`Atlas Search Indexes </java/sync/current/fundamentals/indexes/#atlas-search-indexes>`

   .. tab::
      :tabid: cpp

      .. include:: /includes/steps-fts-edit-index-cpp.rst
      
   .. tab::
      :tabid: c

      .. include:: /includes/steps-fts-edit-index-c.rst

   .. tab::
      :tabid: python

      .. include:: /includes/steps-fts-edit-index-python.rst

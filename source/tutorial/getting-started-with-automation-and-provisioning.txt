========================================================
Getting Started with MongoDB Automation and Provisioning
========================================================

.. default-domain:: mongodb

Overview
--------

MMS Automation provides an interface for provisioning machines,
configuring MongoDB nodes and clusters, and upgrading your MongoDB
deployment. This tutorial describes configuring |automation| using
provisioning, which integrates with Amazon Web Services (AWS) to
deploy EC2 instances and deploy Automation agents automatically.

.. _automation-prereqs:

Prerequisites
-------------

To set up MongoDB Automation with Provisioning, you must have the following:

- An EC2 or VPC account with Amazon Web Services (AWS).

- Access to the AWS account's Access Key ID and Secret Access Key. To
  access the keys, click your username in the top right corner of AWS and
  select Security Credentials.

- Access to the AWS account's SSH public key, if it exists. If it does
  not yet exist, you can create the public key when configuring automation
  settings in MMS.

- An existing security group on that account.

- If you are deploying into an AWS Virtual Private Cloud (VPC), then the
  VPC must exist.

.. _automation-machine-size-considerations:

Considerations
--------------

In general, provision one machine per MongoDB instance. Make sure the
machines are large enough to support your deployment. Give your root
volume at least 20 GB.

MMS does not allow selection of AWS instances smaller than the "m1large"
instance. MMS currently allows selection of the AWS Linux or Unbuntu
operating systems for an instance.

Procedures
----------

.. This isn't really relevant here

   Create an MMS Group for Use with MMS Automation
   +++++++++++++++++++++++++++++++++++++++++++++++

   Create a new MMS group and send an email to your system administrator
   asking that your MMS account be enabled for automation. Use the following
   procedure to create the group:

   .. include:: /includes/steps/add-group.rst

.. only relevant after you already have an automation agent
   installed.

   this does describe the onboarding flow, so we could use a variant
   of it to be the onboarding tutorial.

   Configure Automation Settings
   +++++++++++++++++++++++++++++

   .. include:: /includes/steps/automation-configure.rst

Provision Machines
++++++++++++++++++

This procedure launches the specified AWS instances and installs the
automation agent onto each one.

.. include:: /includes/steps/automation-provision-machines.rst

Next Steps
----------

Once you have successfully deployed automation, see
:doc:`/tutorial/manage-deployments-with-automation` to begin using
Automation to manage MongoDB deployments.

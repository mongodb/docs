title: "Set the source for |onprem| and its Agents to install binaries to the :guilabel:`Ops Manager Application Server`."
stepnum: 1
level: 4
ref: edit-config-file
content: |

  a. Click :guilabel:`Admin` in the upper right corner to open system
     administration.

  #. From the :guilabel:`General` tab, click
     :guilabel:`Ops Manager Config`.

  #. Click the :guilabel:`Miscellaneous` tab at the top of the page.

  #. Scroll to the :guilabel:`MongoDB Version Management` heading.

  #. Select the following settings:

     .. list-table::
        :widths: 30 70
        :header-rows: 1

        * - Option
          - Action

        * - :guilabel:`Agents get the installers from:` under
            :guilabel:`Installer Download Source`

          - Select :guilabel:`Ops Manager Application Server`.

            All necessary installers are downloaded from |onprem|
            Application Servers. Agent hosts do not need an internet
            connection.

        * - :guilabel:`Ops Manager gets installers from:` under
            :guilabel:`Installer Download Source`
          - Select
            :guilabel:`Direct connection to MongoDB`.

            |onprem| fetches installation binaries from |company| and
            serves them to Agents. |application| hosts require an
            internet connection.

            .. note::

               This option appears if :guilabel:`Agents get the
               installers from:` is set to :guilabel:`Ops Manager
               Application Server`.

        * - :guilabel:`Versions Directory`
          - Leave this value to the plaform default unless you need to
            change to meet a requirement for your environment.

            The default locations for the :setting:`Versions Directory`
            depend on your |onprem| host platform:

            .. list-table::
               :header-rows: 1
               :widths: 30 70
          
               * - Platform
                 - Versions Directory Default Path
          
               * - RHEL, Ubuntu
                 - ``/opt/mongodb/mms/mongodb-releases``
          
               * - Linux Archive
                 - ``<userSelected>/mongodb-releases``
          
               * - Windows
                 - ``C:\MMSData\MongoDBReleases``

            The |application| expects the MongoDB binaries to be
            stored in this directory on every |onprem| host.

        * - :guilabel:`Backup Versions Auto Download`
          - Select ``true`` unless your :term:`Backup Daemon` and
            |application| run on different platforms (chip
            architectures, operating systems, or operating system
            versions). If they run on separate platforms, select
            ``false``.

        * - :guilabel:`Backup Versions Auto Download Enterprise Builds`
          - Select ``true`` if you want the Backup Daemon to download
            MongoDB Enterprise builds as well as MongoDB Community
            builds.

        * - :guilabel:`Required Module for Backup`
          - Select which build of MongoDB you want the
            :term:`Backup Daemon` to use for the :term:`head database`.
            Select :guilabel:`Enterprise Required` if you want the 
            Backup Daemon to download only MongoDB Enterprise builds.

---
title: "Specify which versions the Automation Agents can download per project."
stepnum: 2
level: 4
ref: select-versions
content: |

  a. In |onprem|, click :guilabel:`Back To Project` in the upper left
     to exit system administration.

  #. Click the :guilabel:`Project` link at the top of the page and
     select the desired project.

  #. Click :guilabel:`Deployment`, then the :guilabel:`More` drop-down
     list, then :guilabel:`Version Manager`.

  #. Select the checkboxes for the versions of MongoDB that you have
     made available on the |application| host.

  .. important::
    
     Download and place the archived binaries for the selected
     versions in the :setting:`Versions Directory`. For |onprem|
     deployments operating in :guilabel:`Local Mode`, |onprem| fails a
     pre-flight check when starting if one or more archived binaries
     are missing.

     .. seealso::
  
       :ref:`Start Ops Manager When All Versions Are Not Downloaded <fix-local-mode-start-failure>`.

---
title: "Review and approve your changes."
stepnum: 3
level: 4
ref: confirm-deployment
content: |

  |mms| displays your proposed changes.

  a. If you are satisfied, click :guilabel:`Confirm & Deploy`.

  #. Otherwise, click :guilabel:`Cancel` and you can make
     additional changes.

...

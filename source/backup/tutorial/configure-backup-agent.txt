============================
|backup| Agent Configuration
============================

.. _backup-ssl:

.. start-content

Using SSL with |backup|
~~~~~~~~~~~~~~~~~~~~~~~

|backup| can backup MongoDB instances running with SSL. To use SSL with
``mongod`` and ``mongos``, you must enable it at compile time, or use
one of the `subscriber builds <http://www.mongodb.com/mongodb-subscriber-edition-download>`_.

The backup agent must be configured with the trusted CA certificates used to
sign the certificates used by any MongoDB instances running with SSL. Edit the
``local.config`` file in your agent installation to set
``sslTrustedServerCertificates`` to the path of a file containing one or more
certificates in PEM format.

By default, the backup agent will only connect to MongoDB instances using a
trusted certificate. For testing purposes, the
``sslRequireValidServerCertificates`` setting in the ``local.config`` file can
be set to ``False`` to bypass this check. This configuration is NOT recommended
for production use as it makes the connection insecure.

Activate SSL
~~~~~~~~~~~~

#. Go to :guilabel:`Backup`.

#. Click on :guilabel:`Replica Set Status`.

#. Click on the appropriate :guilabel:`Start` button for the replica set or
   shared cluster.

#. Click the check-box to enable SSL.

.. end-content

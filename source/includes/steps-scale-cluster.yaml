title: "Go to the :guilabel:`Clusters` view."
level: 4
ref: select-clusters
content: |
   
   For the cluster you want to modify, click the ellipses :guilabel:`...`
   icon, then select :guilabel:`Edit Configuration`.
   
   Alternatively, if you are already viewing the specific cluster, click
   the :guilabel:`Configuration` button.
   
   For ``M0`` Free Tier clusters, you can also click the :guilabel:`Upgrade`
   button for the cluster.

   |service| displays the configuration screen for the cluster.
---
title: "Modify the cluster configuration."
level: 4
ref: modify-cluster
content: |
  For an existing ``M10+`` paid cluster, you can modify the fields
  listed in the table below. As you make changes, |service| displays
  the updated costs.
  
  For ``M0`` Free Tier clusters, you must first change the 
  :guilabel:`Instance Size` to ``M10`` or greater before you can modify
  other configuration options.

  .. note::

     .. include:: /includes/fact-aws-instance.rst

  .. list-table::
     :widths: 35 65
     :header-rows: 1

     * - Option

       - Description

     * - :guilabel:`MongoDB Version`

       - You can upgrade a cluster running MongoDB 3.2 to MongoDB 3.4.
       
         |service| always upgrades the cluster to the latest stable 
         release of the specified version.
         
         .. include:: /includes/extracts/fact-mongodb-version-3.4-downgrade-restriction-scale.rst

     * - :guilabel:`Instance Size`

       - You can change the memory, storage, and IOPS (speed)
         specification.

         .. include:: /includes/fact-instance-size-groupings.rst
         
         .. include:: /includes/enable-sharding-requirements.rst

         Each instance size comes with a default set of resources. Depending
         on the selected cloud service provider and instance size, 
         |service| can provide the following configuration options:

         - :guilabel:`Custom Storage Capacity`: The size of the server
           root volume. Changes to storage capacity affects :ref:`cost
           <instance-size-costs>`.

         - :guilabel:`Custom Storage Speed`: The input/output
           operations per second (IOPS) the system can perform. Changes to
           storage speed affects :ref:`cost <instance-size-costs>`.

         - :guilabel:`Use encrypted storage volumes`: Encrypts root
           volume for data at rest inside the volume and all data moving between
           the volume and the instance.
         
         For more information on the default resources and available
         configuration options for each cloud service provider, see:
       
         - :ref:`AWS Configuration Options <amazon-aws-configuration-options>`
         - :ref:`GCP Configuration Options <google-gcp-configuration-options>`
         - :ref:`Azure Configuration Options 
           <microsoft-azure-configuration-options>`.

         .. seealso:: :ref:`connection-limits`

     * - :guilabel:`Replication Factor`

       - You can change the number of members in your cluster's :term:`replica
         set`. 

         |service| deploys replica set members across the cluster's region. For
         more information, see :ref:`amazon-aws-availability-zones` for AWS,
         :ref:`google-gcp-availability-zones` for GCP, or
         :ref:`microsoft-azure-availability-zones` for Azure.
           
         .. include:: /includes/extracts/fact-no-node-restriction-base.rst
           
         Each member of the replica set runs on a separate instance. For details
         on how the number of server instances affects cost, see
         :ref:`server-number-costs`.
           
         If your deployment is a sharded cluster, each shard is a
         replica set, and the replica factor determines the number of
         members in each shard replica set.
           
         For more information on replica sets, see :manual:`Replication
         </replication>` in the MongoDB manual.

     * - :guilabel:`Do you want a sharded cluster?`

       - If your cluster is a replica set, you can change the
         deployment to a sharded cluster. :term:`Sharded clusters
         <sharded cluster>` support horizontal scaling.

         .. include:: /includes/enable-sharding-requirements.rst

         .. include:: /includes/list-sharded-cluster-components.rst

         For details on how the number of server instances affects
         cost, see :ref:`server-number-costs`.

         For more information on sharded clusters, see
         :manual:`Sharding </sharding>` in the MongoDB manual.

         .. important::

            Changing to a sharded cluster requires a new
            :doc:`connection string </connect-to-cluster>` for
            accessing MongoDB. For the new connection string,
            see :doc:`connect-to-cluster` after the changes are
            deployed. You must update your applications to use the new
            string.

     * - :guilabel:`Number of Shards`

       - This field appears only if the value for :guilabel:`Do you
         want a sharded cluster?` is ``Yes``. You can increase or
         decrease the number of shards. You cannot have fewer than two
         shards.

     * - :guilabel:`Do you want to enable backup?`

       - If enabled, |service| takes snapshots of your databases at regular
         intervals and retains them according to your project's :ref:`retention
         policy <retention-policy>`. You can restore a backup to the same
         cluster or any cluster in your project that has the same topology.

---
title: "Click :guilabel:`Confirm & Deploy`."
level: 4
ref: confirm-payment
...

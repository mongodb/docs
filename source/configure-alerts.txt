========================
Configure Alert Settings
========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

For each organization and project, you can select which conditions
trigger alerts and how users are notified.

.. include:: /includes/fact-free-shared-alerts.rst

.. _configure-alert-settings-tabs:

.. tabs::

   tabs:
     - id: org
       name: Organization Alerts
       content: |

     - id: project
       name: Project Alerts
       content: |

.. _default-alert-settings:

Default Alert Settings
----------------------

.. tabs::

   hidden: true

   tabs:
     - id: org
       name: Organization Alerts
       content: |

         |service| provides no default alerts for organizations.

     - id: project
       name: Project Alerts
       content: |

         |service| provides the following default alerts for a new
         project:

         - :alert:`Cluster is missing an active mongos`
         - :alert:`Connections % of configured limit is`
         - :alert:`Credit card is about to expire`
         - :alert:`Disk I/O % utilization on Data Partition is`
         - :alert:`Disk space % used on Data Partition is`
         - :alert:`Host has index suggestions`
         - :alert:`Query Targeting: Scanned Objects / Returned`
         - :alert:`Replica set has no primary`
         - :alert:`Replication Oplog Window is`
         - :alert:`System: CPU (Steal) % is`
         - :alert:`System: CPU (User) % is`
         - :alert:`User joined the project`

         |service| provides the following default alert for projects
         using :ref:`security-aws-kms`:

         - :alert:`AWS encryption key elapsed time since last rotation is above 365 days <AWS encryption key elapsed time since last rotation is above (n) days>`

.. _notification-options:

Notification Options
--------------------

.. tabs::

   hidden: true

   tabs:
     - id: org
       name: Organization Alerts
       content: |

         When you configure an alert, you select how notifications are
         sent. You can select multiple notification methods, such as
         email, text message, or team collaboration tools.

         |service| supports Slack as a notification method. From the
         organization's :guilabel:`Settings` menu, click
         :guilabel:`Add to Slack` in :guilabel:`Slack` Settings and
         log in to your preferred Slack workspace.

         |service| supports configuring all of the following
         notification methods during alert configuration:

         - |service| Organization

         - |service| User

         - Email
      
         - SMS

         - PagerDuty

         - Flowdock

         - Datadog

         - VictorOps

         - Opsgenie

     - id: project
       name: Project Alerts
       content: |

         When you configure an alert, you select how notifications are
         sent. You can select multiple notification methods, such as
         email, text message, or team collaboration tools.

         To use certain notification methods, you must first set up
         notification methods in the project's :guilabel:`Settings`.
         If the notification method's value becomes invalid, |service|
         sends an email to the project owner. The following
         notification methods require set up in the project's
         :guilabel:`Settings`:

         - |service| Project

         - |service| Organization

         - |service| User

         - Email
      
         - SMS

         - PagerDuty

         - Flowdock

         - Datadog

         - VictorOps

         - Opsgenie

.. _configure-alert-settings:

Configure an Alert
------------------

When you create a new alert, you can clone an existing alert.

.. tabs::

   hidden: true

   tabs:
     - id: org
       name: Organization Alerts
       content: |

         .. include:: /includes/steps/configure-org-alert.rst

     - id: project
       name: Project Alerts
       content: |

         .. include:: /includes/steps/configure-project-alert.rst

.. _configure-mw-alert:

Configure a Maintenance Window Alert
------------------------------------

You can configure :ref:`maintenance-window-alerts` for projects with
:ref:`configured maintenance windows <atlas-modify-project-settings>`.

.. include:: /includes/steps/configure-maintenance-window-alert.rst

.. _disable-alert-setting:

Disable an Alert
----------------

.. tabs::

   hidden: true

   tabs:
     - id: org
       name: Organization Alerts
       content: |

         .. include:: /includes/steps/disable-org-alert.rst

         If you disable an alert setting, |service| cancels active
         alerts related to the setting. A disabled alert setting
         remains visible but grayed-out and can be later re-enabled.

   tabs:
     - id: project
       name: Project Alerts
       content: |

         .. include:: /includes/steps/disable-project-alert.rst

         If you disable an alert setting, |service| cancels active
         alerts related to the setting. A disabled alert setting
         remains visible but grayed-out and can be later re-enabled.

.. _delete-alert-setting:

Delete an Alert
---------------

.. tabs::

   hidden: true

   tabs:
     - id: org
       name: Organization Alerts
       content: |

         .. include:: /includes/steps/delete-org-alert.rst

         If you delete an alert setting, |service| cancels active
         alerts related to the setting. A deleted alert setting does
         not remain visible.

   tabs:
     - id: project
       name: Project Alerts
       content: |

         .. warning::

            Don't delete the :ref:`maintenance-window-alerts` 
            that are created when you configure a maintenance window.

            If you delete a maintenance window alert, disable and then
            re-enable your
            :ref:`maintenance window <atlas-modify-project-settings>`
            to re-create the alerts. 

         .. include:: /includes/steps/delete-project-alert.rst

         If you delete an alert setting, |service| cancels active
         alerts related to the setting. A deleted alert setting does
         not remain visible.


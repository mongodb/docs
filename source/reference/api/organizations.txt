=============
Organizations
=============

.. default-domain:: mongodb

The ``orgs`` resource provides access to retrieve, create, or delete
|mms-full| :ref:`organizations <organizations>`.

.. include:: /includes/api/base-api-uri.rst

Endpoints
---------

.. list-table::
   :header-rows: 1
   :stub-columns: 1
   :widths: 10 50 40

   * - Method
     - Endpoint
     - Description

   * - GET

     - :doc:`/orgs </reference/api/organizations/organization-get-all>`

     - Get all organizations the authenticated user has access to.

   * - GET

     - :doc:`/orgs/{ORG-ID} </reference/api/organizations/organization-get-one>`

     - Get information about the organization associated to ``{ORG-ID}``.

   * - GET

     - :doc:`/orgs/{ORG-ID}/groups </reference/api/organizations/organization-get-all-projects>`

     - Get all projects in the organization associated to ``{ORG-ID}``.

   * - GET

     - :doc:`/orgs/{ORG-ID}/users </reference/api/organizations/organization-get-all-users>`

     - Get all users in the specified organization.

   * - POST

     - :doc:`/orgs </reference/api/organizations/organization-create-one>`

     - Create an organization.

.. COMMENT probably should have broken up the ticket into: 1) patch api (atlas cloud-docs master branch + mms-docs master branch for cloudmgr and opsmgr 4.0) 2) ldap (opsmgr) api because now, we have this weird table condition

.. cond:: cloud

   .. list-table::
      :stub-columns: 1
      :widths: 5 65 50

      * - PATCH

        - :doc:`/orgs/{ORG-ID} </reference/api/organizations/organization-rename>`

        - Rename an organization.

.. COMMENT This list-table before DELETE row should go when above cond for patch goes but keep the * - DELETE row. Needed wonky formatting due to ..cond.

.. list-table::
   :stub-columns: 1
   :widths: 10 50 40


   * - DELETE

     - :doc:`/orgs/{ORG-ID} </reference/api/organizations/organization-delete-one>`

     - Delete the organization associated to ``{ORG-ID}``.


.. cond:: cloud

   .. list-table::
      :stub-columns: 1
      :widths: 10 50 40

      * - GET

        - :doc:`/orgs/{ORG-ID}/invoices/ </reference/api/organizations/get-all-organization-invoices>`

        - Get all invoices for one organization.

      * - GET

        - :doc:`/orgs/{ORG-ID}/invoices/{INVOICE-ID}.csv </reference/api/organizations/get-one-organization-invoice-in-csv>`

        - Get one invoice from one organization in CSV format.

.. cond:: cloud

   .. class:: hidden
 
      .. toctree::
         :titlesonly:
 
         /reference/api/organizations/organization-get-all
         /reference/api/organizations/organization-get-one
         /reference/api/organizations/organization-get-all-projects
         /reference/api/organizations/organization-get-all-users
         /reference/api/organizations/organization-create-one
         /reference/api/organizations/organization-rename
         /reference/api/organizations/organization-delete-one
         /reference/api/organizations/get-all-organization-invoices
         /reference/api/organizations/get-one-organization-invoice-in-csv

.. cond:: onprem

   .. class:: hidden
 
      .. toctree::
         :titlesonly:
 
         /reference/api/organizations/organization-get-all
         /reference/api/organizations/organization-get-one
         /reference/api/organizations/organization-get-all-projects
         /reference/api/organizations/organization-get-all-users
         /reference/api/organizations/organization-create-one
         /reference/api/organizations/organization-delete-one

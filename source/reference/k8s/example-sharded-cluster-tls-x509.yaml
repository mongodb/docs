---
apiVersion: mongodb.com/v1
kind: MongoDB
metadata:
  name: <my-secure-sharded-cluster>
  namespace: <metadata.namespace>       # Should match
                                        # metadata.namespace in
                                        # your configmap file.
spec:
  shardCount: 2
  mongodsPerShardCount: 3
  mongosCount: 2
  configServerCount: 3
  version: 4.2.1
  opsManager:                           # Alias of cloudManager
    configMapRef:
      name: <configMap.metadata.name>   # Should match metadata.name
                                        # in your configmap file.
  credentials: <mycredentials>
  type: ShardedCluster
  persistent: true
  security:
     tls:
       enabled: true
     authentication:
       enabled: true
       modes: ["X509"]
       internalCluster: "X509"
  additionalMongodConfig: # Optional
    net:
      ssl:
        mode: requireSSL
...

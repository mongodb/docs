.. _rm-prereq-db2:

=========================================
Configure Migration Prerequisites for DB2
=========================================

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

To run migration jobs from a DB2 source database, the target database requires
creating a specific schema and a specific table within the schema in the 
database you are migrating. If Relational Migrator determines the database 
needs configuration changes, it automatically generates a SQL script with 
the required changes. It is recommended to have a Database Administrator (DBA) 
review the commands in this script and perform their execution on the database server.

Before you Begin
----------------

Download and install the DB2 jdbc driver to the correct Relational Migrator
directory. For details, see the :ref:`local-machine-install` for 
your operating system.

About this Task
---------------

- This page covers the details of the SQL scripts automatically 
  generated by Relational Migrator.

- Relational Migrator automatically detects configuration settings when 
  connecting to your database and generates the appropriate SQL 
  statements.

- Relational Migrator does not create any indexes on your DB2 instance to 
  facilitate migration jobs. The create index creation permission is not 
  required.

- Creating the required schema and table have no impact on database performance.

- Relational Migrator does not support ``BLOB``, ``CBLOB`` or ``DBCLOB`` columns 
  of DB2 tables. If this feature is important to you, create or upvote the 
  feature request on `feedback.mongodb.com <https://feedback.mongodb.com/forums/952450-relational-migrator>`__.
  
- Relation Migrator only supports snapshot migration jobs for DB2 connections.

Steps
-----

.. procedure::
   :style: normal

   .. step:: Create the ``ASNCDC`` schema

      Use the following statements to create the schema: 

      .. code-block:: sql
         :copyable: true

         CREATE SCHEMA "ASNCDC";

   .. step:: Create the ``IBMSNAP_REGISTER`` table in the ``ASNCDC`` schema

      Use the following statements to create the table:

      .. code-block:: sql
         :copyable: true

         CREATE TABLE "ASNCDC"."IBMSNAP_REGISTER" 
         (SYNCHPOINT INTEGER, CD_NEW_SYNCHPOINT INTEGER);
   
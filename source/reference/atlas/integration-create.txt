.. _mcli-atlas-integration-create-cmd:

==================================
mongocli atlas integrations create
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol


The ``integrations create`` command integrates |service| with the 
specified third-party monitoring service. You can use the integrated 
third-party service to view and analyze performance metrics that 
|service| collects about your cluster. You can also 
integrate third-party services with |service| using the :atlas:`UI 
</tutorial/third-party-service-integrations/>` or the :atlas:`API 
</reference/api/third-party-integration-settings-create/>`.

You must have :atlas:`Organization Owner 
</reference/user-roles/#Organization-Owner>` or :atlas:`Project 
Owner </reference/user-roles/#Project-Owner>` role to configure 
integrations with third-party services. 

.. _mcli-atlas-integration-create-syntax:

Syntax 
~~~~~~

.. tabs::

   .. tab:: Datadog
      :tabid: datadog

      .. include:: /includes/extracts/fact-datadog-syntax.rst

      .. seealso:: 
      
         :atlas:`Integrate Atlas with Datadog 
         </tutorial/monitoring-integrations/#integrate-service-with-datadog>`

   .. tab:: Flowdock
      :tabid: flowdock 

      .. include:: /includes/extracts/fact-flowdock-syntax.rst

   .. tab:: New Relic
      :tabid: newrelic 

      .. include:: /includes/extracts/fact-newrelic-syntax.rst

   .. tab:: Opsgenie
      :tabid: opsgenie 

      .. include:: /includes/extracts/fact-opsgenie-syntax.rst

   .. tab:: PagerDuty
      :tabid: pagerduty 

      .. include:: /includes/extracts/fact-pagerduty-syntax.rst

   .. tab:: VictorOps
      :tabid: victorops 

      .. include:: /includes/extracts/fact-victorops-syntax.rst

   .. tab:: Webhook
      :tabid: webhook 

      .. include:: /includes/extracts/fact-webhook-syntax.rst

.. include:: /includes/fact-command-line-help.rst

.. _mcli-atlas-integration-create-options:

Options
~~~~~~~

.. tabs::  string
   :hidden: true

   .. tab:: Datadog
      :tabid: datadog

      .. include:: /includes/list-table-datadog-options.rst

   .. tab:: Flowdock
      :tabid: flowdock 

      .. include:: /includes/list-table-flowdock-options.rst

   .. tab:: New Relic
      :tabid: newrelic 

      .. include:: /includes/list-table-newrelic-options.rst

   .. tab:: Opsgenie
      :tabid: opsgenie 

      .. include:: /includes/list-table-opsgenie-options.rst 

   .. tab:: PagerDuty
      :tabid: pagerduty 

      .. include:: /includes/list-table-pagerduty-options.rst

   .. tab:: VictorOps
      :tabid: victorops 

      .. include:: /includes/list-table-victorops-options.rst

   .. tab:: Webhook
      :tabid: webhook 

      .. include:: /includes/list-table-webhook-options.rst

.. _mcli-atlas-integration-create-output:

Output
~~~~~~

The command returns the following output to the terminal if the 
command succeeds. If the command prints an error, see 
:ref:`Troubleshooting <mcli-troubleshooting>` for recommended 
solutions.

.. code-block:: text 
   :copyable: false 

   <third-party-service> integration configured.

For the complete list of |json| fields returned by the command, see the 
public API :atlas:`reference 
</reference/api/third-party-integration-settings-create/#response-elements>`. 
The default output contains only a subset of the fields returned by this 
command. 

.. _mcli-atlas-integration-create-examples:

Example
~~~~~~~

The following examples use the ``mongocli atlas integrations create`` 
command to integrate the specified third-party service with 
|service|. It uses the {+default-profile+} to access |service|. 

.. tabs:: 

   .. tab:: Default Output
   
      .. code-block:: text 

         mongocli atlas integrations create FLOWDOCK --apiToken 123456 --flowName mySampleFlow --orgName mySampleOrg

      The previous command returns the following output to the terminal.

      .. code-block:: text 
         :copyable: false 

         Flowdock integration configured.

   .. tab:: JSON Output
          
      .. code-block:: text 

         mongocli atlas integrations create PAGER_DUTY --serviceKey aBcdEFGhIJkLmOSr7xyz --output json

      The previous command returns the following output to the terminal.

      .. code-block:: json 
         :copyable: false 

         {
           "links": [
             {
               "rel": "self",
               "href": "https://cloud.mongodb.com/api/atlas/v1.0/groups/5e2211c17a3e5a48f5497de3/integrations/PAGER_DUTY?pageNum=1\u0026itemsPerPage=100"
             }
           ],
           "results": [
             {
               "type": "PAGER_DUTY",
               "serviceKey": "aBcdEFGhIJkLmOSr7xyz"
             }
           ],
           "totalCount": 1
         }

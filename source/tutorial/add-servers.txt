====================
Add Servers to |mms|
====================

.. default-domain:: mongodb

Overview
--------

|mms| Automation provides an interface for provisioning machines,
configuring MongoDB nodes and clusters, and upgrading your MongoDB
deployment.

.. image:: /figures/how-it-works.gif
   :alt: "Automation coordinates MongoDB instances running in a public cloud, in your private data center, or on your local system."
   :width: 700px
   :align: center

|mms| can manage a deployment in the following ways:

.. only:: cloud

   - Systems provisioned directly with Amazon Web Services (AWS). |mms| provides
     integration with AWS and lets you deploy new EC2 instances directly from
     the |mms| interface. To use EC2 instances for your deployments, you
     must:

     - :doc:`/tutorial/configure-aws-settings`

     - :doc:`/tutorial/provision-aws-servers`

- Existing systems and infrastructure. |mms| can deploy and manage
  MongoDB on your existing servers. To use your existing hardware, you
  must deploy the Automation Agent to each server on which |mms| will deploy
  MongoDB. See :doc:`/tutorial/add-existing-hardware`.

- For testing, on your local system, |mms| can deploy MongoDB to your
  laptop or desktop system. Do not use local systems for production
  deployments. To deploy to your local
  machine, see :doc:`/tutorial/nav/install-automation-agent`.

The Automation Agent maintains your deployments' Monitoring and Backup
agents. The Automation Agent starts, restarts, and upgrades the agents as
needed.

Automation allows only one agent per machine for per agent type and
will remove additional agents. For example, when maintaining Backup
Agents, automation will remove one of the Backup
Agents from a machine that has two Backup Agents.

Automation maintains agents only if they are configured appropriately in
the :doc:`automation configuration </reference/cluster-configuration>`:

- To automate the maintenance of **Monitoring Agents**, add each
  Monitoring Agent's information to the :data:`monitoringVersions`
  array in the :doc:`automation configuration </reference/cluster-configuration>`.

- To automate the maintenance of **Backup Agents**, add each Backup
  Agent's information to the :data:`backupVersions` array in the
  :doc:`automation configuration </reference/cluster-configuration>`.

.. _ref-language-analyzers:

==================
Language Analyzers
==================

.. default-domain:: mongodb

.. meta::
   :keywords: language analyzer, stop words, cjk, morfologik, kuromoji, nori, smartcn, french, german, dutch, irish, spanish, italian, lucene analyzer, text analyzer, full text search
   :description: Use a language analyzer to create search keywords in your Atlas Search index that are optimized for a particular natural language.

Use language-specific analyzers to create indexes tailored to a particular
language. Each language analyzer has built-in stop words and word divisions
based on that language's usage patterns.

|fts| offers the following language analyzers:

.. list-table::
   :widths: 25 25 25 25 

   * - ``lucene.arabic``
     - ``lucene.armenian``
     - ``lucene.basque``
     - ``lucene.bengali``
   * - ``lucene.brazilian``
     - ``lucene.bulgarian``
     - ``lucene.catalan``
     - ``lucene.chinese`` 
   * - ``lucene.cjk`` :sup:`1`
     - ``lucene.czech``
     - ``lucene.danish``
     - ``lucene.dutch``
   * - ``lucene.english``
     - ``lucene.finnish``
     - ``lucene.french``
     - ``lucene.galician``
   * - ``lucene.german``
     - ``lucene.greek``
     - ``lucene.hindi``
     - ``lucene.hungarian``
   * - ``lucene.indonesian``
     - ``lucene.irish``
     - ``lucene.italian``
     - ``lucene.japanese`` 
   * - ``lucene.korean`` 
     - ``lucene.kuromoji`` :sup:`2`
     - ``lucene.latvian``
     - ``lucene.lithuanian``
   * - ``lucene.morfologik`` :sup:`3`
     - ``lucene.nori`` :sup:`4`
     - ``lucene.norwegian``
     - ``lucene.persian``
   * - ``lucene.portuguese``
     - ``lucene.romanian``
     - ``lucene.russian``
     - ``lucene.smartcn`` :sup:`5`
   * - ``lucene.sorani``
     - ``lucene.spanish``
     - ``lucene.swedish``
     - ``lucene.thai``
   * - ``lucene.turkish``
     - ``lucene.ukrainian``
     - 
     - 

:sup:`1` ``cjk`` is a generic Chinese, Japanese, and Korean analyzer

:sup:`2` ``kuromoji`` is a Japanese analyzer

:sup:`3` ``morfologik`` is a Polish analyzer

:sup:`4` ``nori`` is a Korean analyzer

:sup:`5` ``smartcn`` is a Chinese analyzer

Example
-------

The following example index definition specifies an index on
the ``sujet`` field using the ``french`` analyzer:

.. code-block:: json

   {
     "mappings": {
       "fields": {
         "sujet": {
           "type": "string",
           "analyzer": "lucene.french"
         }
       }
     }
   }

Consider a collection named ``voitures`` with the following documents:

.. code-block:: json

   { "_id": 1, "sujet": "Mieux équiper nos voitures pour comprendre les causes d'un accident." }
   { "_id": 2, "sujet": "Le meilleur moment pour le faire c'est immédiatement après que vous aurez fait le plein de carburant." }

The following query uses the index on the ``sujet`` field:

.. code-block:: json

   db.voitures.aggregate([
     { 
        $search: {
          "text": {
            "query": "pour",
            "path": "sujet"
           }
        }
     }
   ])

The previous query returns no results when using the ``french`` analyzer,
because ``pour`` is a built-in stop word. Using the ``standard``
analyzer, the same query would return both documents.

The following query searches for the string ``carburant`` in the
``sujet`` field:

.. code-block:: json

   db.voitures.aggregate([
     { 
        $search: {
          "text": {
            "query": "carburant",
            "path": "sujet"
           }
        }
     }
   ])

The previous query returns the document with ``"_id": 2`` from the collection.

.. code-block:: json
   :copyable: false

   { "_id": 2, "sujet": "Le meilleur moment pour le faire c'est immédiatement après que vous aurez fait le plein de carburant." }

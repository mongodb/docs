===================
Performance Advisor
===================

.. default-domain:: mongodb

Use the following resources to retrieve existing and suggested indexes
for a deployment, as well as the namespaces on which slow queries were
run and the queries that were slow. For more information about slow
queries and possible performance improvements, see the
:doc:`Performance Advisor monitoring page </performance-advisor>`.

To view field values in a sample query in the Performance
Advisor, you must be a user with at least one of the following
project roles:

- :authrole:`Project Owner`

- :authrole:`Project Data Access Admin`

- :authrole:`Project Data Access Read/Write`

- :authrole:`Project Data Access Read Only`

Users without one of these roles see redacted data rather than the
field values. 

.. include:: /includes/api-base-url-new.rst

Endpoints
---------

.. list-table::
   :header-rows: 1
   :widths: 10 60 30

   * - Method
     - Endpoint
     - Description

   * - ``GET``
     - :doc:`/api/atlas/v1.0/groups/{GROUP-ID}/processes/{PROCESS-ID}/performanceAdvisor/namespaces </reference/api/pa-namespaces-get-all>`
     - Retrieves the namespaces for collections experiencing slow
       queries for a specified host.

   * - ``GET``
     - :doc:`/api/atlas/v1.0/groups/{GROUP-ID}/processes/{PROCESS-ID}/performanceAdvisor/slowQueryLogs
       </reference/api/pa-get-slow-query-logs>`
     - Get log lines for slow queries as determined by the
       :doc:`Performance Advisor </performance-advisor>`.

   * - ``GET``
     - :doc:`/groups/{GROUP-ID}/processes/{PROCESS-ID}/performanceAdvisor/suggestedIndexes
       </reference/api/pa-suggested-indexes-get-all>`
     - Get suggested indexes as determined by the
       :doc:`Performance Advisor </performance-advisor>`.

   * - ``POST``
     - :doc:`/groups/{GROUP-ID}/managedSlowMs/enable
       </reference/api/pa-managed-slow-ms-enable>`
     - Enable the |service| managed slow operation
       threshold for your project.

   * - ``DELETE``
     - :doc:`/groups/{GROUP-ID}/managedSlowMs/disable
       </reference/api/pa-managed-slow-ms-disable>`
     - Disable the |service| managed slow operation
       threshold for your project.

.. toctree::
   :titlesonly:

   /reference/api/pa-namespaces-get-all
   /reference/api/pa-get-slow-query-logs
   /reference/api/pa-suggested-indexes-get-all
   /reference/api/pa-managed-slow-ms-enable
   /reference/api/pa-managed-slow-ms-disable

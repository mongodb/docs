.. _database-deployment-tags:

==================================
Configure Database Deployment Tags
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can add :ref:`tags <configure-resource-tags>` to your 
{+database-deployments+} to better understand, organize, and identify 
your {+database-deployments+}. Categorize your {+database-deployments+} 
by purpose, environment, or team. Use tags to help with 
{+database-deployment+} management. To learn more, see 
:ref:`db-deployment-best-practices`.

.. note::

   These {+database-deployment+} tags differ from the 
   :ref:`pre-defined replica set tags <replica-set-tags>` that 
   |service| provides. You can't change those replica set tags. You 
   can provide and manage these {+database-deployment+} tags.

.. important::

   If you delete a {+database-deployment+} and the associated tags 
   don't apply to any other {+database-deployment+}, |service| deletes 
   the tags. You can't restore these deleted tags.

.. _suggested-tags:

Suggested {+Database-Deployment+} Tags
--------------------------------------

When you create {+database-deployments+} tags in the {+atlas-ui+}, 
|service| automatically suggests tag keys and values. We recommend that 
you apply the ``environment`` and ``application`` tag keys to every 
{+database-deployment+}. 

The following suggested tag keys appear in the :guilabel:`Key` 
drop-down:

.. list-table::
   :header-rows: 1

   * - Tag Key
     
     - Description
     
   * - ``application``
     
     - Key for the project, service, or application of the resource.

   * - ``environment``

     - Key for the deployment environment of the resource. 

If you select the ``environment`` suggested tag key, the following 
suggested tag values appear in the :guilabel:`Value` drop-down:

- ``development``
- ``production``
- ``staging``
- ``test``

Your recent tags appear under the suggested ones. This list includes 
tags previously used for other resources.

.. _manage-tags-database-deployment-card:

Manage Tags from the :guilabel:`{+Database-Deployments+}` Page
--------------------------------------------------------------

You can add a tag, view existing tags, and manage tags from 
the :guilabel:`{+Database-Deployments+}` page. Before you begin, review 
the :ref:`requirements <resource-tag-reqs>`, :ref:`considerations 
<resource-tag-considerations>`, :ref:`best practices 
<tag-best-practices>`, :ref:`prerequisites <tag-prerequisites>`, and 
:ref:`suggested tags <suggested-tags>`. To learn more, see 
:ref:`monitor-cluster-metrics`.

.. procedure::
   :style: normal

   .. step:: Go to the :guilabel:`Database Deployments` page for your project.
    
      a. If it is not already displayed, select the organization that
         contains your desired project from the |ui-org-menu| in the
         navigation bar.

      #. If it is not already displayed, select your desired project
         from the :guilabel:`Projects` menu in the navigation bar.

      #. If the :guilabel:`{+Database-Deployments+}` page is not 
         already displayed, click
         :guilabel:`Database` in the sidebar.

   .. step:: Manage tags.

      a. In the lower-left corner of the {+database-deployment+}, 
         view any existing tags.
      
      #. On the {+database-deployment+}, click :guilabel:`Add Tag` 
         or :guilabel:`Manage tags`.

         .. include:: /includes/fact-sensitive-info-resource-tags.rst

      #. To manage your tags, see :ref:`manage-tags`.
      
      #. Click :guilabel:`Save`.

.. _manage-tags-overview-page:

Manage Tags from the :guilabel:`Overview` Page
----------------------------------------------

You can add a tag, view existing tags, and manage tags from 
the :guilabel:`Overview` page. Before you begin, review the 
:ref:`requirements <resource-tag-reqs>`, :ref:`considerations 
<resource-tag-considerations>`, :ref:`best practices 
<tag-best-practices>`, :ref:`prerequisites <tag-prerequisites>`, and 
:ref:`suggested tags <suggested-tags>`. To learn more, see 
:ref:`monitor-cluster-metrics`.

.. procedure::
   :style: normal

   .. step:: Go to the :guilabel:`Overview` page for your project.
    
      a. If it is not already displayed, select the organization that
         contains your desired project from the |ui-org-menu| in the
         navigation bar.

      #. If it is not already displayed, select your desired project
         from the :guilabel:`Projects` menu in the navigation bar.

      #. If the :guilabel:`{+Database-Deployments+}` page is not 
         already displayed, click
         :guilabel:`Database` in the sidebar.

      #. Click :guilabel:`View Monitoring`.

      #. Click the :guilabel:`Overview` tab.

   .. step:: Manage tags.

      a. In the upper-left corner of the :guilabel:`Overview` page, 
         view any existing tags.
      
      #. In the :guilabel:`Tags` section, click :guilabel:`Add Tag` or 
         :guilabel:`Manage tags`.

         .. include:: /includes/fact-sensitive-info-resource-tags.rst

      #. To manage your tags, see :ref:`manage-tags`.
      
      #. Click :guilabel:`Save`.

.. _apply-tags-new-cluster-template:

Apply a Tag to a New {+Database-Deployment+} from a Template
------------------------------------------------------------

You can add a tag, view existing tags, and manage tags when you create 
a new {+database-deployment+} from a template. Before you begin, review 
the :ref:`requirements <resource-tag-reqs>`, :ref:`considerations 
<resource-tag-considerations>`, :ref:`best practices 
<tag-best-practices>`, :ref:`prerequisites <tag-prerequisites>`, and 
:ref:`suggested tags <suggested-tags>`. To learn more, see 
:ref:`create-new-cluster` or :ref:`create-new-serverless-instance`.

.. procedure::
   :style: normal

   .. step:: Go to the :guilabel:`Database Deployments` page for your project.
    
      a. If it is not already displayed, select the organization that
         contains your desired project from the |ui-org-menu| in the
         navigation bar.

      #. If it is not already displayed, select your desired project
         from the :guilabel:`Projects` menu in the navigation bar.

      #. If the :guilabel:`{+Database-Deployments+}` page is not 
         already displayed, click
         :guilabel:`Database` in the sidebar.

   .. step:: Specify a tag key and value.
      
      a. Click :guilabel:`Build a Database`.

      #. In the :guilabel:`Tag` section, specify a :guilabel:`Key` and 
         :guilabel:`Value`.

         .. include:: /includes/fact-sensitive-info-resource-tags.rst

.. _apply-tags-new-cluster:

Apply Tags to a New {+Database-Deployment+} with Advanced Options
-----------------------------------------------------------------

You can add a tag, view existing tags, and manage tags when you create 
a new {+database-deployment+}. Before you begin, review the 
:ref:`requirements <resource-tag-reqs>`, :ref:`considerations 
<resource-tag-considerations>`, :ref:`best practices 
<tag-best-practices>`, :ref:`prerequisites <tag-prerequisites>`, and 
:ref:`suggested tags <suggested-tags>`. To learn more, see 
:ref:`create-new-cluster` or :ref:`create-new-serverless-instance`.

.. procedure::
   :style: normal

   .. step:: Go to the :guilabel:`Database Deployments` page for your project.
    
      a. If it is not already displayed, select the organization that
         contains your desired project from the |ui-org-menu| in the
         navigation bar.

      #. If it is not already displayed, select your desired project
         from the :guilabel:`Projects` menu in the navigation bar.

      #. If the :guilabel:`{+Database-Deployments+}` page is not 
         already displayed, click :guilabel:`Database` in the sidebar.

   .. step:: Open the :guilabel:`Create New Database Deployment` Dialog.
      
      - If you already have one or more database deployments, click
        :guilabel:`Create` to display the 
        :guilabel:`Create New Database Deployment` dialog.

      - If this is your first {+database-deployment+}:

        a. Click :guilabel:`Build a Database`.
        
        #. Click :guilabel:`advanced configuration options` at the 
           top of the screen to display the
           :guilabel:`Create New Database Deployment` dialog. 

   .. step:: Manage tags.
      
      #. In the :guilabel:`Cluster Details` or 
         :guilabel:`Serverless Instance Details` section, click 
         :guilabel:`Add Tag`.

         .. include:: /includes/fact-sensitive-info-resource-tags.rst

      #. To manage your tags, see :ref:`manage-tags`.

.. _manage-tags-modify-cluster:

Manage Tags When You Modify an Existing {+Database-Deployment+}
---------------------------------------------------------------

You can add a tag, view existing tags, and manage tags when you modify 
an existing {+database-deployment+}. Before you begin, review the 
:ref:`requirements <resource-tag-reqs>`, :ref:`considerations 
<resource-tag-considerations>`, :ref:`best practices 
<tag-best-practices>`, :ref:`prerequisites <tag-prerequisites>`, and 
:ref:`suggested tags <suggested-tags>`. To learn more, see 
:ref:`scale-cluster` or :ref:`manage-serverless-instances`.

.. procedure::
   :style: normal

   .. step:: Go to the :guilabel:`Database Deployments` page for your project.
    
      a. If it is not already displayed, select the organization that
         contains your desired project from the |ui-org-menu| in the
         navigation bar.

      #. If it is not already displayed, select your desired project
         from the :guilabel:`Projects` menu in the navigation bar.

      #. If the :guilabel:`{+Database-Deployments+}` page is not 
         already displayed, click
         :guilabel:`Database` in the sidebar.

   .. step:: Go to the {+database-deployment+} settings.

      Click :guilabel:`Edit Config` and select your cluster in the drop-down menu.

   .. step:: Manage tags.
      
      #. In the :guilabel:`Cluster Details` or 
         :guilabel:`Serverless Instance Details` section, click 
         :guilabel:`Add Tag`.

         .. include:: /includes/fact-sensitive-info-resource-tags.rst

      #. To manage your tags, see :ref:`manage-tags`.

.. _manage-tags:

Manage Tags
-----------

.. procedure::
   :style: normal

   .. step:: Go to your {+database-deployment+} tags.

      Do one of the following tasks:

      - :ref:`apply-tags-new-cluster`
      - :ref:`manage-tags-database-deployment-card`
      - :ref:`manage-tags-overview-page`
      - :ref:`manage-tags-modify-cluster`

   .. step:: Manage the tag.

      .. include:: /includes/fact-sensitive-info-resource-tags.rst

      Do any of the following tasks:

      - To add a tag, click :guilabel:`Add tag`, and specify a 
        :guilabel:`Key` and :guilabel:`Value`.
        
      - To edit a tag, update the :guilabel:`Key` or :guilabel:`Value` 
        for the tag.
        
      - To delete a tag, click the :icon-fa4:`trash-o` 
        :guilabel:`Delete` icon next to the tag.

        .. note::

           If you delete a tag, |service| removes the tag from the 
           associated resources.

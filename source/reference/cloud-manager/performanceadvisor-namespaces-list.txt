.. _mcli-cm-performanceadvisor-namespaces-list-cmd:

=========================================================
mongocli cloud-manager performanceAdvisor namespaces list
=========================================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The ``performanceAdvisor namespaces list`` command 
retrieves a list of collection namespaces experiencing slow 
queries for a specified host. Each namespace includes the database 
name, the dot (``.``) separator, and the collection name 
(e.g. ``<database>.<collection>``).

Syntax 
------

.. code-block:: text 

   mongocli cloud-manager|cm performanceadvisor|performanceAdvisor namespaces list|ls
        --hostId <host-id>
        [ --since <unix-epoch-timestamp> ]
        [ --duration <milliseconds> ]
        [ --output|-o <output-format> ]
        [ --profile|-P <profile-name> ]
        [ --projectId <project-ID> ]

.. include:: /includes/fact-command-line-help.rst

.. _cm-performanceadvisor-namespaces-list-options:

Options
-------

.. list-table::
   :widths: 20 10 60 10
   :header-rows: 1

   * - Option 
     - Type
     - Description
     - Required?

   * - ``--hostId``
     - string 
     - The unique identifier of the host of a MongoDB process.
     - yes

   * - ``--since``
     - integer
     - Point in time, specified as a |epoch-time-ms|, from which you 
       want to retrieve results.
     - no

   * - ``--duration``
     - string 
     - Length of time from the ``since`` parameter, in milliseconds, 
       for which you want to retrieve results.
     - no

   * - ``--output``, ``-o``
     - string 
     - .. include:: /includes/extracts/fact-basic-options-output.rst
     - no

   * - ``--profile``, ``-P``
     - string
     - Name of the profile where the public and private 
       keys for the project are saved. If omitted, uses the 
       {+default-profile+}. To learn more about creating a 
       profile, see :ref:`mcli-configure`.
     - no

   * - ``--projectId``
     - string
     - Unique identifier of the project that contains the host 
       from which you want to retrieve namespaces for collections with 
       slow-running queries. If omitted, uses
       the project ID in the profile or :ref:`environment variable
       <mcli-env-var>`.
     - no

.. _cm-performanceadvisor-namespaces-list-output:

Output
------

If the command succeeds, it returns the following output in the default
format. If the command returns errors, see
:ref:`Troubleshooting <troubleshooting>` for recommended solutions.

.. code-block:: sh
   :copyable: false

   NAMESPACE                          TYPE
   <database>.<collection>            collection

.. include:: /includes/fact-default-output.rst

- :cloudmgr:`Cloud Manager API </reference/api/performance-advisor/pa-namespaces-get-all/>`

Example
-------

.. tabs::

   .. tab:: Default Output
      :tabid: default-output

      The following command retrieves the namespaces for collections 
      experiencing slow queries for a project using the 
      {+default-profile+}, which contains credentials to access the 
      project and the project ID. The output is returned in the default 
      format.

      .. code-block:: sh

         mongocli cm performanceAdvisor namespaces list --hostId 78b0e5ae329f98047bddeac69ab40bc5

      The previous command prints the following to the terminal.

      .. code-block:: sh
         :copyable: false

         NAMESPACE                          TYPE
         sample_weatherdata.data            collection
         sample_mflix.movies                collection
         sample_analytics.transactions      collection
         sample_training.grades             collection
         sample_training.companies          collection
         sample_restaurants.neighborhoods   collection
         sample_training.inspections        collection
         sample_training.posts              collection
         sample_airbnb.listingsAndReviews   collection
         
   .. tab:: JSON Output
      :tabid: json-output

      The following command retrieves the namespaces for collections 
      experiencing slow queries for a project using the 
      {+default-profile+}, which contains credentials to access the 
      project and the project ID. The output is returned in |json| 
      format.

      .. code-block:: sh

         mongocli cm performanceAdvisor namespaces list --hostId 78b0e5ae329f98047bddeac69ab40bc5 --output json

      The previous command prints the following to the terminal in
      |json| format.

      .. code-block:: json
         :copyable: false

         {
           "namespaces": [
             {
               "namespace": "sample_weatherdata.data",
               "type": "collection"
             },
             {
               "namespace": "sample_airbnb.listingsAndReviews",
               "type": "collection"
             },
             {
               "namespace": "sample_mflix.movies",
               "type": "collection"
             },
             {
               "namespace": "sample_training.posts",
               "type": "collection"
             },
             {
               "namespace": "sample_training.inspections",
               "type": "collection"
             },
             {
               "namespace": "sample_restaurants.neighborhoods",
               "type": "collection"
             },
             {
               "namespace": "sample_training.grades",
               "type": "collection"
             },
             {
               "namespace": "sample_analytics.transactions",
               "type": "collection"
             },
             {
               "namespace": "sample_training.companies",
               "type": "collection"
             }
           ]
         }

==================
LDAP Configuration
==================

.. default-domain:: mongodb

Use the following endpoints to verify and save an LDAP configuration
for an |service| project. An LDAP configuration defines settings for
|service| to connect to your LDAP server over |tls| for user
authentication and authorization. Your LDAP server must be visible to
the internet or connected to your |service| cluster with
:doc:`VPC Peering </security-vpc-peering>`. In addition, your LDAP
server must use |tls|.

.. note::

   You must have the :atlasrole:`Atlas admin` user privilege to use
   these endpoints.

   In addition, to configure user authentication and authorization with
   LDAPS, your cluster must run MongoDB 3.6 or later. Groups for which
   you have configured LDAPS can not create a cluster using a version
   of MongoDB before 3.6 or later.

.. default-domain:: mongodb

.. include:: /includes/fact-projects-groups-synonyms.rst

.. include:: /includes/api-base-url.rst

Endpoints
---------

.. list-table::
   :header-rows: 1
   :widths: 10 60 30

   * - Method
     - Endpoint
     - Description


   * - ``POST``

     - :doc:`/api/atlas/v1.0/groups/{GROUP-ID}/userSecurity/ldap/verify
       </reference/api/ldaps-configuration-request-verification>`

     - Request verification of an LDAP configuration. Use this endpoint
       to test your LDAP configuration details before saving them.

   * - ``GET``

     - :doc:`/api/atlas/v1.0/groups/{GROUP-ID}/userSecurity/ldap/verify/{REQUEST-ID}
       </reference/api/ldaps-configuration-verification-status>`

     - Retrieve the status of a request for verification of an LDAP configuration.

   * - ``PATCH``

     - :doc:`/api/atlas/v1.0/groups/{GROUP-ID}/userSecurity
       </reference/api/ldaps-configuration-save>`

     - Save an LDAP configuration for a |service| project.

   * - ``GET``

     - :doc:`/api/atlas/v1.0/groups/{GROUP-ID}
       </reference/api/ldaps-configuration-get-current>`

     - Get the current LDAP configuration for an |service| project.

   * - ``DELETE``

     - :doc:`/api/atlas/groups/{GROUP-ID}/userSecurity
       </reference/api/ldaps-configuration-remove-usertodnmapping>`

     - Delete the current ``userToDNMapping`` from the LDAP configuration
       for an |service| project.

.. toctree::
   :titlesonly:

   /reference/api/ldaps-configuration-request-verification
   /reference/api/ldaps-configuration-verification-status
   /reference/api/ldaps-configuration-save
   /reference/api/ldaps-configuration-get-current
   /reference/api/ldaps-configuration-remove-usertodnmapping

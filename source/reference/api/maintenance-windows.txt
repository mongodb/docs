===================
Maintenance Windows
===================

.. default-domain:: mongodb

The ``maintenanceWindow`` resource provides access to retrieve or
update the current |service| project maintenance window. To learn more
about Maintenance Windows, see the
:guilabel:`Set Preferred Cluster Maintenance Start Time` setting on
the :ref:`View/Modify Project Settings page <atlas-modify-project-settings>`.

.. note::

   |service| performs maintenance the same way as the
   :manual:`manual maintenance procedure
   </tutorial/perform-maintence-on-replica-set-members/>`.
   This requires at least one
   :manual:`replica set election </core/replica-set-elections>` during
   the maintenance window per replica set.

You can :doc:`defer a scheduled maintenance event
</reference/api/maintenance-window-defer>` for a project up to two
times. Deferred maintenance events occur during your
:ref:`preferred maintenance window <atlas-modify-project-settings>`
exactly one week after the previously scheduled date and time.

.. include:: /includes/api/base-api-uri.rst

Endpoints
---------

.. list-table::
   :header-rows: 1
   :widths: 10 50 40

   * - Method
     - Endpoint
     - Description

   * - ``GET``

     - :doc:`/groups/{GROUP-ID}/maintenanceWindow </reference/api/maintenance-windows-view-in-one-project>`

     - Get the current user-defined maintenance window for the given
       project.

   * - ``PATCH``

     - :doc:`/groups/{GROUP-ID}/maintenanceWindow </reference/api/maintenance-window-update>`

     - Update the current maintenance window for the given project.

   * - ``POST``

     - :doc:`/groups/{GROUP-ID}/maintenanceWindow/defer </reference/api/maintenance-window-defer>`

     - Defer the next scheduled maintenance for the given project for
       one week.

   * - ``POST``

     - :doc:`/groups/{GROUP-ID}/maintenanceWindow/autoDefer </reference/api/maintenance-window-auto-defer>`

     - Defer any scheduled maintenance for the given project for one
       week.

   * - ``DELETE``

     - :doc:`/groups/{GROUP-ID}/maintenanceWindow </reference/api/maintenance-window-clear>`

     - Clear the current maintenance window for the given project.

.. toctree::
   :titlesonly:

   /reference/api/maintenance-windows-view-in-one-project
   /reference/api/maintenance-window-update
   /reference/api/maintenance-window-defer
   /reference/api/maintenance-window-auto-defer
   /reference/api/maintenance-window-clear


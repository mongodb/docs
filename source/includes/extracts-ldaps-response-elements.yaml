ref: api-ldaps-verification-response-elements
content: |

   .. list-table::
      :widths: 10 10 80
      :header-rows: 1

      * - Name
        - Type
        - Description

      * - ``groupId``
        - string
        - Identifier for the |service| project associated with the request
          to verify an LDAP over SSL configuration.

      * - ``links``
        - document array
        - One or more links to sub-resources. The relations in the URLs
          are explained in the `Web Linking Specification <https://tools.ietf.org/html/rfc5988>`_.

      * - ``request``
        - document
        - Contains the details of the request to verify an LDAP over SSL
          configuration. The ``bindPassword`` is not returned in the response.

      * - ``request.bindUsername``
        - string
        - The user DN that |service| uses to connect to the LDAP server.

      * - ``request.hostname``
        - string
        - The hostname or IP address of the LDAP server.

      * - ``request.port``
        - integer
        - The port to which the LDAP server listens for client connections
          from |service|.

      * - ``requestId``
        - string
        - The unique identifer for the request to verify the LDAP over SSL
          configuration.

      * - ``status``
        - string
        - The current status of the LDAP over SSL configuration. One of the
          following values: ``PENDING``, ``SUCCESS``, and ``FAIL``.

      * - ``validations``
        - array
        - Array of validation messages related to the verification of 
          the provided LDAP over SSL configuration details. The array
          contains a document for each test that |service| runs. |service| stops
          running tests after the first failure. The following return
          values are possible:

          |  ``{`` 
          |    ``status: "OK" || "FAIL",``
          |    ``validationType: "SERVER_SPECIFIED"``
          |  ``}``
          |  ``{`` 
          |    ``status: "OK" || "FAIL",``
          |    ``validationType: "CONNECT"``
          |  ``}``
          |  ``{`` 
          |    ``status: "OK" || "FAIL",``
          |    ``validationType: "AUTHENTICATE"``
          |  ``}``
          |  ``{``  
          |    ``status: "OK" || "FAIL",``
          |    ``validationType: "AUTHORIZATION_ENABLED"``
          |  ``}``
          |  ``{``
          |    ``status: "OK" || "FAIL",``
          |    ``validationType: "PARSE_AUTHZ_QUERY_TEMPLATE"``
          |  ``}``
          |  ``{``
          |    ``status: "OK" || "FAIL",``
          |    ``validationType: "QUERY_SERVER"``
          |  ``}``
---
ref: api-ldaps-save-response-elements
content: |

   .. list-table::
      :widths: 10 10 80
      :header-rows: 1

      * - Name
        - Type
        - Description

      * - ``ldap``
        - document
        - Specifies the LDAP over SSL configuration details for an
          |service| group.

      * - ``ldap.authenticationEnabled``
        - boolean
        - Specifies whether user authentication with LDAP is enabled.

      * - ``ldap.authorizationEnabled``
        - boolean
        - Specifies whether user authorization with LDAP is enabled.
          You cannot enable user authorization with LDAP without first
          enabling user authentication with LDAP.

      * - ``ldap.hostname``
        - string
        - The hostname or IP address of the LDAP server. The server 
          must be visible to the internet or connected to your |service|
          cluster with :doc:`VPC Peering </security-vpc-peering>`.

      * - ``ldap.port``
        - integer
        - The port to which the LDAP server listens for client connections.

      * - ``ldap.bindUsername``
        - string
        - The user DN that |service| uses to connect to the LDAP server.
          Must be the full DN, such as ``CN=BindUser,CN=Users,DC=myldapserver,DC=mycompany,DC=com``.

      * - ``ldap.userToDNMapping``
        - document array
        - The user to Distinguished Name (DN) mapping used to transform
          an LDAP username into an LDAP Distinguished Name.

      * - ``ldap.userToDNMapping[i].match``
        - string
        - The regular expression used to match against the provided LDAP
          username. Each parenthesis-enclosed section represents a 
          `regular expression capture group <http://www.regular-expressions.info/refcapture.html>`_
          used by the ``substitution`` or ``ldapQuery`` template.

      * - ``ldap.userToDNMapping[i].substitution``
        - string
        - The LDAP Distinguished Name (DN) formatting template that converts
          the LDAP username matched by the ``match`` regular
          expression into an LDAP Distinguished Name.

      * - ``ldap.userToDNMapping[i].ldapQuery``
        - string
        - The LDAP query formatting template that inserts the LDAP
          username matched by the ``match`` regular expression into an LDAP
          query URI as specified by `RFC 4515 <https://tools.ietf.org/search/rfc4515>`_
          and `RFC 4516 <https://tools.ietf.org/html/rfc4516>`_.

      * - ``caCertificate``
        - object
        - CA certificate used to verify the identify of the LDAP server.
          Self-signed certificates are allowed.

      * - ``authzQueryTemplate``
        - string
        - The LDAP query template that |service| executes to obtain the LDAP
          groups to which the authenticated user belongs. Used only for user authorization.
          Use the {USER} placeholder in the URL to substitute the authenticated
          username. The query is relative to the host specified with ``hostname``. 
          The formatting for the query must conform to `RFC4515 <https://tools.ietf.org/search/rfc4515>`_
          and `RFC 4516 <https://tools.ietf.org/html/rfc4516>`_. If you
          do not provide a query template, |service| attempts to use the
          default value: ``{USER}?memberOf?base``.
---
ref: api-ldaps-delete-response-elements
content: |

   .. list-table::
      :widths: 10 10 80
      :header-rows: 1

      * - Name
        - Type
        - Description

      * - ``ldap``
        - document
        - Specifies the LDAP over SSL configuration details for an
          |service| group.

      * - ``ldap.authenticationEnabled``
        - boolean
        - Specifies whether user authentication with LDAP is enabled.

      * - ``ldap.authorizationEnabled``
        - boolean
        - Specifies whether user authorization with LDAP is enabled.
          You cannot enable user authorization with LDAP without first
          enabling user authentication with LDAP.

      * - ``ldap.authzQueryTemplate``
        - string
        - The LDAP query template that |service| executes to obtain the LDAP
          groups to which the authenticated user belongs. Used only for user authorization.
          Use the ``{USER}`` placeholder in the URL to substitute the authenticated
          username. The query is relative to the host specified with ``hostname``. 
          The formatting for the query must conform to `RFC4515 <https://tools.ietf.org/search/rfc4515>`_
          and `RFC 4516 <https://tools.ietf.org/html/rfc4516>`_. If you
          do not provide a query template, |service| attempts to use the
          default value: ``{USER}?memberOf?base``.

      * - ``ldap.hostname``
        - string
        - The hostname or IP address of the LDAP server. The server 
          must be visible to the internet or connected to your |service|
          cluster with :doc:`VPC Peering </security-vpc-peering>`.

      * - ``ldap.port``
        - integer
        - The port to which the LDAP server listens for client connections.

      * - ``ldap.bindUsername``
        - string
        - The user DN that |service| uses to connect to the LDAP server.
          Must be the full DN, such as ``CN=BindUser,CN=Users,DC=myldapserver,DC=mycompany,DC=com``.

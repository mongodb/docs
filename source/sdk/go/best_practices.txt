.. NOTE TO WRITERS: Don't edit these files. Docurl pulls the content in automatically from the mongodb/atlas-sdk-go repo. To make copy edits, change the source files here: https://github.com/mongodb/atlas-sdk-go/tree/main/docs. For rST issues, open a Jira ticket and assign it to Sarah Simpers. 

.. _atlas-sdk-best_practices: 

==============
Best Practices
==============

Follow these best practices when using the Atlas Go SDK.

Using Getters Instead of Direct Field Access
--------------------------------------------

When accessing responses, use the getter function instead of direct field access.

For example, use ``response.GetField()`` instead of ``response.Field``.

Using getter functions allows seamless pointer handling and can help prevent panic errors.
Additionally, the Atlas Go SDK provides ``Set``\ , ``IsSet`` and ``Unset`` methods for safe field modifications.

Check for Empty Strings for String Pointers
-------------------------------------------

When a model contains a pointer to a ``string``\ , the Atlas Go SDK sends that value to the server,
even if it is set to an empty string (\ ``""``\ ).

Instead of direct assignment:

.. code-block:: go

   test := ""
   requestBody.StringPointerValue = test

Users should always check for empty strings before assigning them:

.. code-block:: go

   if test != ""   
       requestBody.StringPointerValue = test

Use Method for Creating Models
------------------------------

Use dedicated methods for creating new models.

For example, instead of using the following:

.. code-block::

   GroupInvitationUpdateRequest{
       ...
   }

Use the following dedicated method:

.. code-block::

   admin.NewGroupInvitationUpdateRequest(...)

Use golangci-lint Validators
----------------------------

Use `golangci-lint <https://golangci-lint.run/>`__ to detect common errors when using the Atlas Go SDK. 
The Atlas Go SDK doesn't provide its own linter.

Linting Issues
~~~~~~~~~~~~~~

We don't recommend using the ``bodyclose`` rule as it reports an many false positives with Atlas GO SDK and other libraries.

To learn more, see `bodyclose <https://github.com/timakin/bodyclose/issues/39>`__.

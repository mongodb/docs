title: "Specify path to trusted CA certificate."
stepnum: 1
level: 4
ref: certificate
content: |
  If your |onprem| deployment uses |tls-ssl|, then you must configure
  the Automation Agent to use |tls-ssl|. To configure the agent to use
  |tls-ssl|, you must have a trusted |certauth| certificate that signed
  the MongoDB instance's certificate.

  In the agent's install directory, edit the configuration file to set
  :asetting:`sslTrustedServerCertificate` field to the path of a
  file containing one or more certificates in |pem| format.

  .. include:: /includes/list-table-automation-agent-conf-file-locations.rst

  .. example::

     If you would use the following command to connect through the
     :program:`mongo` shell:

     .. code-block:: sh

        mongo --ssl --sslCAFile /etc/ssl/ca.pem example.net:27017

  Then you would modify the configuration file, setting this key/value
  pair:

  .. code-block:: ini

     sslTrustedServerCertificate=/etc/ssl/ca.pem

  To learn more about these settings, see
  :ref:`automation-server-ssl-settings`.
---
title: "Restart the agent."
stepnum: 2
level: 4
ref: restart

...

.. _autocomplete-tutorial:

==================================
How to Use Autocomplete with |fts|
==================================

.. default-domain:: mongodb

.. meta::
   :keywords: atlas search, autocomplete data type, autocomplete operator, search as you go, predict words, incomplete string search, partial string search, edgeGram tokenization
   :description: In this tutorial, learn how use the autocomplete operator to search for a word or phrase that contains a sequence of characters from an incomplete input string.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

This tutorial describes how to create an |fts| index that enables 
autocomplete queries. In the following examples, the index enables 
``autocomplete`` operators to query the specified field values. 

Both examples take you through the following steps:

1. Set up an |fts| index with autocomplete data type for the 
   ``sample_mflix.movies`` collection.

#. Run |fts| queries against the specified fields in the ``sample_mflix.movies`` 
   collection for an inputted sequence of characters.

Before you begin, ensure that your Atlas cluster meets the requirements 
described in the :ref:`Prerequisites <fts-tutorials-prereqs>`.

.. include:: /includes/atlas-roles/create-search-index.rst

Define an Index with Autocomplete
---------------------------------

.. include:: /includes/fact-autocomplete-field-type.rst

In this section, you will create an |fts| index that indexes the ``title`` and 
``plot`` fields for autocompletion using the ``edgeGram`` tokenization strategy. 

.. include:: /includes/steps/fts-autocomplete-tutorial-create-index.rst
   
Run an Autocomplete Query
-------------------------

----------

.. |arrow| unicode:: U+27A4

|arrow| Use the **Select your language** drop-down menu to set the 
language of the example on this page.

----------

.. tabs-selector:: drivers

.. include:: /includes/fact-autocomplete-operator.rst

.. tabs-drivers::

   .. tab::
      :tabid: atlas-ui 

      .. tabs::

         .. tab:: Basic Example
            :tabid: basic 
      
            .. include:: /includes/extracts/fts-autocomplete-basic-example-desc.rst
            
            .. include:: /includes/steps/fts-autocomplete-tutorial-run-query-atlas-ui.rst

            .. include:: /includes/extracts/fts-autocomplete-basic-example-result.rst

         .. tab:: Advanced Example
            :tabid: advanced 
      
            .. include:: /includes/extracts/fts-autocomplete-advanced-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-multi-field-tutorial-run-query-atlas-ui.rst

            .. include:: /includes/extracts/fts-autocomplete-advanced-example-result.rst

   .. tab::
      :tabid: shell 

      .. tabs::

         .. tab:: Basic Example
            :tabid: basic 
      
            .. include:: /includes/extracts/fts-autocomplete-basic-example-desc.rst
            
            .. include:: /includes/steps/fts-autocomplete-tutorial-run-query-shell.rst

            .. include:: /includes/extracts/fts-autocomplete-basic-example-result.rst

         .. tab:: Advanced Example
            :tabid: advanced 
      
            .. include:: /includes/extracts/fts-autocomplete-advanced-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-multi-field-tutorial-run-query-shell.rst

            .. include:: /includes/extracts/fts-autocomplete-advanced-example-result.rst 

   .. tab::
      :tabid: compass

      .. tabs::

         .. tab:: Basic Example
            :tabid: basic 
      
            .. include:: /includes/extracts/fts-autocomplete-basic-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-tutorial-run-query-compass.rst

            .. include:: /includes/extracts/fts-autocomplete-basic-example-result.rst

         .. tab:: Advanced Example
            :tabid: advanced 
      
            .. include:: /includes/extracts/fts-autocomplete-advanced-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-multi-field-tutorial-run-query-compass.rst

            .. include:: /includes/extracts/fts-autocomplete-advanced-example-result.rst

   .. tab:: 
      :tabid: csharp

      .. tabs::

         .. tab:: Basic Example
            :tabid: basic 
      
            .. include:: /includes/extracts/fts-autocomplete-basic-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-tutorial-run-query-cs.rst

            .. include:: /includes/extracts/fts-autocomplete-basic-example-result.rst

         .. tab:: Advanced Example
            :tabid: advanced 
      
            .. include:: /includes/extracts/fts-autocomplete-advanced-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-multi-field-tutorial-run-query-cs.rst

            .. include:: /includes/extracts/fts-autocomplete-advanced-example-result.rst

   .. tab:: 
      :tabid: go

      .. tabs::

         .. tab:: Basic Example
            :tabid: basic 
      
            .. include:: /includes/extracts/fts-autocomplete-basic-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-tutorial-run-query-go.rst

            .. include:: /includes/extracts/fts-autocomplete-basic-example-result.rst

         .. tab:: Advanced Example
            :tabid: advanced 
      
            .. include:: /includes/extracts/fts-autocomplete-advanced-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-multi-field-tutorial-run-query-go.rst

            .. include:: /includes/extracts/fts-autocomplete-advanced-example-result.rst

   .. tab:: 
      :tabid: java-sync 

      .. tabs::

         .. tab:: Basic Example
            :tabid: basic 
      
            .. include:: /includes/extracts/fts-autocomplete-basic-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-tutorial-run-query-java.rst

            .. include:: /includes/extracts/fts-autocomplete-basic-example-result.rst
         
         .. tab:: Advanced Example
            :tabid: advanced 
      
            .. include:: /includes/extracts/fts-autocomplete-advanced-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-multi-field-tutorial-run-query-java.rst

            .. include:: /includes/extracts/fts-autocomplete-advanced-example-result.rst

   .. tab::
      :tabid: nodejs

      .. tabs::

         .. tab:: Basic Example
            :tabid: basic 
      
            .. include:: /includes/extracts/fts-autocomplete-basic-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-tutorial-run-query-nodejs.rst

            .. include:: /includes/extracts/fts-autocomplete-basic-example-result.rst
      
         .. tab:: Advanced Example
            :tabid: advanced 
      
            .. include:: /includes/extracts/fts-autocomplete-advanced-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-multi-field-tutorial-run-query-nodejs.rst

            .. include:: /includes/extracts/fts-autocomplete-advanced-example-result.rst

   .. tab::
      :tabid: python

      .. tabs::

         .. tab:: Basic Example
            :tabid: basic 
      
            .. include:: /includes/extracts/fts-autocomplete-basic-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-tutorial-run-query-python.rst

            .. include:: /includes/extracts/fts-autocomplete-basic-example-result.rst
      
         .. tab:: Advanced Example
            :tabid: advanced 
      
            .. include:: /includes/extracts/fts-autocomplete-advanced-example-desc.rst

            .. include:: /includes/steps/fts-autocomplete-multi-field-tutorial-run-query-python.rst

            .. include:: /includes/extracts/fts-autocomplete-advanced-example-result.rst

.. 
   This is an internal comment. I'm hiding the following section per DOCSP-34864, 
   which requests we remove the outdated video until the team can record a new one.

   Continue Learning  
   -----------------

   Follow along with this video tutorial walk-through that demonstrates 
   how to use the |fts| :ref:`autocomplete-ref` operator and JavaScript to 
   build a frontend form element that suggests data to the user.

   *Duration: 30 minutes*

   .. video:: https://youtu.be/3IDlOI0D8-8

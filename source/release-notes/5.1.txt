=============================
Release Notes for MongoDB 5.1
=============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: twocols

.. include:: /includes/in-dev.rst

General Improvements
--------------------

New Slot-Based Query Execution Engine
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Starting in MongoDB 5.1, a new query execution engine is available,
which improves query performance.

If the new parameter
:parameter:`internalQueryEnableSlotBasedExecutionEngine` is ``true``:

- The new query execution engine is used if possible.

- If the new query execution engine is used, new fields are included in
  the :ref:`query explain plan output
  <explain-results-enhanced-execution>`.

.. _5.1-rel-notes-repl-sets:

Replica Sets
------------

``storeFindAndModifyImagesInSideCollection`` Parameter
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Starting in MongoDB 5.1, the
:parameter:`storeFindAndModifyImagesInSideCollection` parameter
determines whether the temporary documents required for :ref:`retryable
<retryable-writes>` :dbcommand:`findAndModify` commands are stored in
the *side* collection (``config.image_collection``).

name: replica-set-primary-with-two-secondaries
alt: "Diagram of a 3 member replica set that consists of a primary and two secondaries."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: replica-set-primary-with-secondary-and-arbiter
alt: "Diagram of 3 member replica set that consists of a primary, a secondary, and an arbiter."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: replica-set-read-write-operations-primary
alt: "Diagram of default routing of reads and writes to the primary."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 500
---
name: replica-set-trigger-election
alt: "Diagram of an election of a new primary. In a three member replica set with two secondaries, the primary becomes unreachable. The loss of a primary triggers an election where one of the secondaries becomes the new primary"
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 500
---
name: replica-set-four-members-add-arbiter
alt: "Diagram of a four member replica set plus an arbiter for odd number of votes."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: replica-set-only-seven-voting-members
alt: "Diagram of a 9 member replica set with the maximum of 7 voting members."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: replica-set-three-members-geographically-distributed
alt: "Diagram of a 3 member replica set distributed across two data centers. Replica set includes a priority 0 member."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: replica-set-three-data-centers
alt: "Diagram of a 5 member replica set distributed across three data centers. Replica set includes a priority 0 member."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: replica-set-hidden-member
alt: "Diagram of a 5 member replica set with a hidden priority 0 member."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: replica-set-delayed-member
alt: "Diagram of a 5 member replica set with a hidden delayed priority 0 member."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: replica-set-w-arbiter-trigger-election
alt: "Diagram of an election of a new primary. In a three member replica set with a secondary and an arbiter, the primary becomes unreachable. The loss of a primary triggers an election where the secondary becomes new primary."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: sharded-cluster
alt: "Diagram of a sharded cluster."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 500
---
name: sharding-range-based
alt: "Diagram of the shard key value space segmented into smaller ranges or chunks."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: sharding-migrating
alt: Diagram of a collection distributed across three shards. For this collection, the difference in the number of chunks between the shards reaches the :ref:`migration thresholds <sharding-migration-thresholds>` (in this case, 2) and triggers migration.
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: sharding-splitting
alt: Diagram of a shard with a chunk that exceeds the default :ref:`chunk size <sharding-chunk-size>` of 64 MB and triggers a split of the chunk into two chunks.
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 400
---
name: sharded-cluster-primary-shard
alt: Diagram of a primary shard. A primary shard contains non-sharded collections as well as chunks of documents from sharded collections. Shard A is the primary shard.
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 400
---
name: sharded-cluster-mixed
alt: Diagram of applications/drivers issuing queries to mongos for unsharded collection as well as sharded collection. Config servers not shown.
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: sharded-cluster-test-architecture
alt: Diagram of a sample sharded cluster for testing/development purposes only.  Contains only 1 config server, 1 :program:`mongos` router, and at least 1 shard. The shard can be either a replica set or a standalone :program:`mongod` instance.
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 400
---
name: sharded-cluster-production-architecture
alt: Diagram of a sample sharded cluster for production purposes.  Contains exactly 3 config server, 2 or more :program:`mongos` query router, and at least 2 shards. The shards are replica sets.
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 600
---
name: sharded-collection
alt: Diagram of a large collection with data distributed across 4 shards.
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
---
name: sharding-hash-based
alt: "Diagram of the hashed based segmentation."
output:
  - type: print
    tag: 'print'
    dpi: 300
    width: 2100
  - type: web
    dpi: 72
    width: 700
...
.. http://www.mongodb.org/display/DOCS/MongoDB+on+Azure+-+Overview
.. http://www.mongodb.org/display/DOCS/MongoDB+on+Azure+VM

.. _windows-azure:

=============
Windows Azure
=============

.. default-domain:: mongodb

MongoDB on Azure brings the power of the leading NoSQL database to
Microsoftâ€™s flexible, open, and scalable cloud.

`Windows Azure <http://www.windowsazure.com/>`_ is the cloud services
operating system that serves as the development, service hosting, and
service management environment for the Azure Services Platform. Windows
Azure provides developers on-demand compute & storage to create, host
and manage scalable and available web applications through Microsoft
data centers.

Together, MongoDB and Azure provide customers the tools to build
limitlessly scalable applications in the cloud.

.. _azure-sign-up:

Deployment Options
------------------

Users interested in deploying MongoDB on Azure can do so using Azure
Worker Roles (Azure Platform-as-a-Service) or Azure VM (Azure
Infrastructure-as-a-Service). For further information, please see the
relevant documentation:

Azure Worker Roles (Platform-as-a-Service)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- :ref:`deploy-mongodb-worker-roles-in-azure`
- :ref:`deploy-mongodb-worker-roles-in-azure-version-1-6`
- :ref:`configure-worker-roles-in-azure`
- :ref:`build-an-application-to-connect-to-mongodb-on-azure`

Azure VM (Infrastructure-as-a-Service)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

:doc:`/tutorial/install-mongodb-on-linux-in-azure`

Users deploying MongoDB on Azure may be interested in the following
presentations, as well:

- `MongoDB Paris 2012: MongoDB on Azure <http://www.mongodb.com/presentations/mongodb-paris-2012/mongodb-on-azure>`_
- `MongoNYC 2012: MongoDB on Windows Azure <http://www.mongodb.com/presentations/mongonyc-2012-mongodb-windows-azure>`_
- `Hands-On: Deploying MongoDB on Azure <http://www.mongodb.com/presentations/mongosv-2011/hands-on-deploying-mongodb-on-azure>`_

Deployment Recommendations
--------------------------

For all MongoDB deployments using Azure, you **must** mount volume that hosts the 
:program:`mongod` instance's :setting:`~storage.dbPath` with the *Host
Cache Preference* ``READ/WRITE``. 

This applies to all Azure deployments, using any guest operating
system. 

If your volumes have inappropriate cache settings, MongoDB may
eventually shut down with the following error: 

.. code-block:: none

   [DataFileSync] FlushViewOfFile for <data file> failed with error 1 ...
   [DataFileSync] Fatal Assertion 16387

These shut downs do not produce data loss if when
:setting:`storage.journal.enabled` is set to ``true``. You can safely
restart :program:`mongod` at any time following this event.

The performance characteristics of MongoDB may change with
``READ/WRITE`` caching enabled.

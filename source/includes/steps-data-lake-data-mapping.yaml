title: "Click :guilabel:`Confirm` in the third box."
ref: data-lake-confirm-ui
level: 4
stepnum: 1
content: |
  .. figure:: /images/data-lake-confirm-db-colls-ui.png
     :figwidth: 715px
     :alt: Screenshot of confirm databases and collections in the UI.
  
---
title: "Review the default storage configuration generated by |service|."
ref: data-lake-prep-setconfig
level: 4
stepnum: 2
content: |

  The storage configuration maps a set of data stores to a set of
  databases and collections. A store is a set of objects in an S3
  bucket under a specific prefix.

  The following is an example of a storage configuration generated by 
  |service|:

  .. code-block:: json
     :copyable: false

     {
       "databases": [
         {
           "name": "<your-database-name>",
           "collections": [
             {
               "name": "data",
               "dataSources": [
                 {
                   "path": "data.json",
                   "storeName": "<your-store-name>"
                 }
               ]
             },
             {
               "name": "listingsAndReviews",
               "dataSources": [
                 {
                   "path": "listingsAndReviews.json",
                   "storeName": "<your-store-name>"
                 }
               ]
             },
             {
               "name": "*",
               "dataSources": [
                 {
                   "path": "{collectionName()}",
                   "storeName": "<your-store-name>"
                 }
               ]
             }
           ],
           "views": []
         }
       ],
       "stores": [
         {
           "provider": "s3",
           "bucket": "<your-s3-bucket>",
           "delimiter": "/",
           "includeTags": false,
           "name": "<your-store-name>",
           "region": "<aws-s3-region>"
         }
       ]
     }

  By default, the database name and store name are the same as the 
  |s3| bucket. 

  .. include:: /includes/fact-data-lake-dynamic-collections.rst

---
title: "Change the database name and store name in the ``stores`` and 
       ``databases`` arrays."
ref: getting-started-modify-names
level: 4
stepnum: 3
content: |
  .. list-table::
   :widths: 20 20 40 20
   :header-rows: 1

   * - Key
     - Type
     - Description
     - Example

   * - ``databases.name``
     - string
     - The name of your database.
     - ``sampleDB``

   * - ``databases.collections.dataSources.storeName``
     - string
     - The name of your store.
     - ``s3store``

   * - ``stores.name``
     - string
     - The name of your store.
     - ``s3store``

  The following example storage configuration shows updated ``databases`` 
  and ``stores`` arrays:

  .. code-block:: json
     :emphasize-lines: 4,11,20,29,43

     {
       "databases": [
         {
           "name": "sampleDB",
           "collections": [
             {
               "name": "data",
               "dataSources": [
                 {
                   "path": "data.json",
                   "storeName": "s3store"
                 }
               ]
             },
             {
               "name": "listingsAndReviews",
               "dataSources": [
                 {
                   "path": "listingsAndReviews.json",
                   "storeName": "s3store"
                 }
               ]
             },
             {
               "name": "*",
               "dataSources": [
                 {
                   "path": "{collectionName()}",
                   "storeName": "s3store"
                 }
               ]
             }
           ],
           "views": []
         }
       ],
       "stores": [
         {
           "provider": "s3",
           "bucket": "<your-s3-bucket>",
           "delimiter": "/",
           "includeTags": false,
           "name": "s3store",
           "region": "<aws-s3-region>"
         }
       ]
     }

---
ref: data-lake-execute-setconfig
level: 4
stepnum: 4
title: "Click :guilabel:`Save` to save the changes to the storage 
       configuration."

---
ref: data-lake-check-databases
level: 4
stepnum: 5
title: "Verify your database and collection mapping."
content: |
  a. Connect to your {+dl+} with the :binary:`~bin.mongo` shell.
  
  b. Run the following command to display the mapped database:

     .. code-block:: sh

        show dbs

     Upon successful configuration, the ``mongo`` shell outputs
     the following:
 
     .. code-block:: sh
        :copyable: false

        sampleDB  
  
  #. Switch to the ``sampleDB`` database:

     .. code-block:: sh

        use sampleDB

  #. Run the following command to display the mapped collections:

     .. code-block:: sh

        show collections

     Upon successful configuration, the ``mongo`` shell outputs
     the following:

     .. code-block:: none
        :copyable: false

        data
        listingsAndReviews
...

.. facet::
   :name: programming_language
   :values: csharp, go, java, javascript/typescript, kotlin, python, shell

.. _multilingual-tutorial:

=====================================
How to Run Multilingual |fts| Queries
=====================================

.. default-domain:: mongodb

.. meta::
   :keywords: multilingual search, language analyzer, lucene analyzer, text operator, range operator, compound operator, compound search queries, search scoring, code example, node.js, java sync, atlas ui, compass
   :description: Learn how to use a language analyzer to run a query on a text field for one or more languages.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

This tutorial describes how to create an index that uses a 
:ref:`language analyzer <ref-language-analyzers>` and perform a
multilingual search against the ``sample_mflix.movies`` collection. It
takes you through the following steps:

1. Set up an |fts| index with dynamic mapping for the 
   ``sample_mflix.movies`` collection. You can apply the ``lucene.italian``
   language analyzer or the ``lucene.italian`` and ``lucene.english``
   language analyzer for indexing the ``fullplot`` field. |fts|
   uses the default ``lucene.standard`` analyzer for all the other
   fields that it dynamically indexes in the collection.
#. Run an |fts| :ref:`compound-ref` query against the ``fullplot``,
   ``released``, and ``genres`` fields in the ``sample_mflix.movies``
   collection.

Before you begin, ensure that your |service| cluster meets the 
requirements described in the :ref:`fts-tutorials-prereqs`.

.. include:: /includes/atlas-roles/create-search-index.rst

Create the |fts| Index 
----------------------

In this section, you will create an |fts| index on the ``fullplot``
field in the ``sample_mflix.movies`` collection. 

.. |search-type| replace:: :guilabel:`Atlas Search`
.. |index-name| replace:: ``multilingual-tutorial``
.. |database-name| replace:: ``sample_mflix`` database
.. |collection-name| replace:: ``movies`` collection

.. include:: /includes/fts/multilingual/procedures/steps-fts-multilingual-tutorial-create-index.rst

Search the Collection 
---------------------

----------

.. |arrow| unicode:: U+27A4

|arrow| Use the **Select your language** drop-down menu to set the
language of the example in this section.

----------

.. tabs-selector:: drivers

You can use the :ref:`compound-ref` operator to combine two or more
operators into a single query. In this section, connect to your |service|
cluster and the run the sample query against the
``sample_mflix.movies`` collection using the ``compound`` operator. 

.. tabs-drivers::

   .. tab::
      :tabid: atlas-ui

      .. tabs::
         
         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps-fts-multilingual-tutorial-run-query-atlas-ui.rst

         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps-fts-multilingual-tutorial-run-query-atlas-ui2.rst

   .. tab::
      :tabid: shell

      .. tabs::
         
         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-shell.rst

         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-shell2.rst

   .. tab::
      :tabid: compass

      .. tabs::
         
         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-compass.rst      
         
         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-compass2.rst

   .. tab:: 
      :tabid: csharp

      .. tabs::

         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-cs.rst

         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-cs2.rst

   .. tab:: 
      :tabid: go

      .. tabs::

         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-go.rst

         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-go2.rst

   .. tab:: 
      :tabid: java-sync 

      .. tabs::

         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-java.rst

         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-java2.rst

   .. tab:: 
      :tabid: kotlin-coroutine

      .. tabs::

         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-kotlin.rst

         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-kotlin-2.rst

   .. tab::
      :tabid: nodejs

      .. tabs::

         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-nodejs.rst

         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-nodejs2.rst

   .. tab::
      :tabid: python

      .. tabs::

         .. tab:: Italian
            :tabid: one language

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-python.rst

         .. tab:: Italian and English
            :tabid: two languages

            .. include:: /includes/fts/multilingual/procedures/steps/fts-multilingual-tutorial-run-query-python2.rst

=============
Manage Alerts
=============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

|mms| sends an alert notification when a specified :doc:`alert condition
</reference/alerts>` occurs, such as an unresponsive host or an outdated
agent. To view all alert notifications, click :guilabel:`Alerts` in |mms|.

When a condition triggers an alert, you receive the alert at regular
intervals until the alert resolves or |mms| cancels it. 
You can acknowledge an
alert for a period of time, but if the alert condition persists, you will again
receive notifications once the acknowledgment period ends.

You can temporarily suspend alerts on a resource by creating an alert
:ref:`maintenance window <suspend-alerts-during-maintenance-window>`.
For example, you can create a maintenance window
that suspends host alerts while you shut down hosts for maintenance.

.. include:: /includes/extracts/manage-alerts-and-events-overview.rst

.. _resolved-alert:

Resolved Alerts
~~~~~~~~~~~~~~~

Alerts resolve when the alert condition no longer applies. For example,
if a replica set's :term:`primary` goes down, |mms| issues an alert that 
the replica set does not have a primary. When a new primary is
elected, the alert condition no longer applies, and the alert will resolve.
|mms| sends a notification of the alert's resolution.

.. _cancelled-alert:

Cancelled Alerts
~~~~~~~~~~~~~~~~

|mms| cancels an alert if the alert configuration that triggered the alert
is deleted, disabled, or edited, or if the open alert becomes invalid.
Some examples of an alert becoming invalid are:

- There is an open "Host Down" alert, and then you delete the target host.

- There is an open "Replication Lag" alert, and the target host becomes the
  primary.

- There is an open "Replica Set Has No Primary" alert for a replica set whose
  name is "rs0," and the target replica set is renamed to "rs1."

When an alert is canceled, |mms| does **not** send a notification and does
not record an entry on the |mms| :guilabel:`Alerts` lists.

Procedures
----------

View Alerts
~~~~~~~~~~~

.. include:: /includes/steps/view-alerts.rst

Download the Activity Feed
~~~~~~~~~~~~~~~~~~~~~~~~~~

You can download the activity feed as a CSV file with comma-separated
values. You can filter the events before downloading. |mms| limits the
number of events returned to 10,000.

.. include:: /includes/steps/activity-feed-download.rst

Acknowledge an Alert
~~~~~~~~~~~~~~~~~~~~

When you acknowledge the alert, |mms| sends no further notifications to the
alert's distribution list until the acknowledgement period has passed or
until the you resolve the alert. The distribution list receives *no*
notification of the acknowledgment.

If the alert condition ends during the acknowledgment period, |mms| sends
a notification of the resolution.

If you configure an alert with PagerDuty, a third-party incident
management service, you can only acknowledge the alert on your PagerDuty
dashboard.

.. include:: /includes/steps/alerts-acknowledge.rst

Unacknowledge an Alert
~~~~~~~~~~~~~~~~~~~~~~

You can undo an acknowledgment and again receive notifications if the alert
condition still applies.

.. include:: /includes/steps/alerts-unacknowledge.rst

.. _manage-host-alerts:

Manage a Process's Alerts
~~~~~~~~~~~~~~~~~~~~~~~~~

You can turn off alerts for a given process. This might be useful, for
example, if you want to temporarily disable the process but do not want it
hidden from monitoring. Use the following procedure both to turn alerts
off or on.

.. include:: /includes/steps/alerts-edit-host.rst

.. _suspend-alerts-during-maintenance-window:

Suspend Alerts by Adding a Maintenance Window
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Specify maintenance windows to temporarily turn off alert
notifications for a given resource while you perform maintenance. To view
maintenance windows, click :guilabel:`Alerts`, then the :guilabel:`Alert
Configuration` tab, then the :guilabel:`Maintenance Windows` filter.

Add or Edit a Maintenance Window
````````````````````````````````

.. include:: /includes/steps/suppress-alert-for-maintenance.rst

Delete a Maintenance Window
```````````````````````````

.. include:: /includes/steps/delete-maintenance-window.rst

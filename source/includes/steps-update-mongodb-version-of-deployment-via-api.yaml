title: "Retrieve the automation configuration from |mms|."
stepnum: 1
level: 4
source:
  file: steps-source-update-automation-configuration.yaml
  ref: check-automation-config
---
title: "Open the configuration document for editing."
stepnum: 2
level: 4
ref: open-for-editing
pre: |
  As you edit the configuration document in the next steps, reference the
  :ref:`description of an automation configuration
  <automation-configuration-sample-entity>` for detailed descriptions of
  settings.
---
title: "Add the new MongoDB version number to the configuration document."
stepnum: 3
level: 4
ref: add-new-mongodb-version-number
pre: |
  Update the ``mongoDbVersions`` array to include ``{"name": "2.6.7"}``:
action:
  language: none
  code: |
    "mongoDbVersions": [
        {"name": "2.4.12"},
        {"name": "2.6.7"}
    ]
---
title: "Update the MongoDB configuration options to the ``2.6`` syntax."
stepnum: 4
level: 4
ref: update-processes
pre: |
  Update **each document** in the ``processes`` array as follows.
action:
  - pre: |
      Update the ``processes.version`` field to specify ``2.6.7``:
    language: none
    code: |
      "version": "2.6.7"
  - pre: |
      Change the ``processes.args2_4`` field to ``processes.args2_6``:
    language: none
    code: |
      "args2_6": {
  - pre: |
      Edit the options in the ``processes.args2_6`` field to conform with
      the MongoDB 2.6 structure described in :manual:`Configuration File
      Options </reference/configuration-options>` in the MongoDB manual.
      For example:
    language: none
    code: |
      "args2_6": {
          "net": {
              "port": 27017
          },
          "storage": {
              "dbPath": "/data/"
          },
          "systemLog": {
              "path": "/data/mongodb.log",
              "destination": "file"
          },
          "replication": {
              "replSetName": "rs1"
          },
          "operationProfiling": {}
      }
---
stepnum: 5
level: 4
source:
  file: steps-source-update-automation-configuration.yaml
  ref: send-updated-configuration
---
stepnum: 6
level: 4
source:
  file: steps-source-update-automation-configuration.yaml
  ref: confirm-update-of-config
---
title: Check the deployment status to ensure goal state is reached.
stepnum: 7
level: 4
source:
  file: steps-source-update-automation-configuration.yaml
  ref: check-deployment-status
...

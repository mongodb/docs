==================================
Manage Blockstore Snapshot Storage
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/fact-backup-snapshot-store-options.rst

This tutorial covers backing up your MongoDB databases to snapshots stored in
MongoDB databases. Blockstores can exist on any MongoDB instance that the
|onprem| application can access.

.. include:: /includes/note-add-capacity-using-multiple-stores.rst

Prerequisites
-------------

Before creating any blockstore snapshot stores:

- Ensure a storage volume with sufficient capacity is attached to the |onprem|
  or MongoDB server to store the blockstores and the oplog MongoDB database.

- :doc:`Deploy the dedicated MongoDB instance(s) </tutorial/prepare-backing-mongodb-instances>` 
  to host the blockstore database and oplog stores for the blockstore.

- :doc:`Deploy the dedicated MongoDB instance(s) 
  </tutorial/prepare-backing-mongodb-instances>` to host the blockstores and 
  oplog stores for this snapshot store.

- Ensure the server running the |onprem| Backup Daemon has enough disk
  capacity to store the :term:`head` database.

- If you plan on requiring authentication for the blockstore database,
  :manual:`configure your database for SCRAM-SHA-1 authentication </core/security-scram-sha-1>`. 
  Blockstore databases only support SCRAM-SHA-1 authentication.

.. _add-blockstore:

Add a Blockstore
----------------

.. include:: /includes/steps/admin-add-blockstore.rst

Edit an Existing Blockstore
---------------------------

Once created, blockstores are listed directly on the Snapshot Storage page in
a table. Each row contains the settings for each blockstore.

.. include:: /includes/steps/admin-edit-blockstore.rst

.. _delete-blockstore:

Delete a Blockstore
-------------------

.. include:: /includes/steps/admin-delete-blockstore.rst


.. _restore-queryable-backup:

================================================
Restore a Database from Queryable {+Old-Backup+}
================================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/admonitions/deprecated-continuous-backup.rst

|service| supports restoring a database by querying a 
:doc:`{+old-backup+} </backup/legacy-backup/overview>` snapshot.

.. important::

   |service| doesn't support querying :doc:`{+Cloud-Backup+}s
   </backup/cloud-backup/overview>`.

You can use a :doc:`queryable backup snapshot 
</backup/legacy-backup/backup-query>`
to export data for a database and restore to the target
deployment. The following procedure connects to the queryable backup
instance via an |service|-provided tunnel.

.. include:: /includes/admonitions/notes/backup-restore-roles.rst

Prerequisites
-------------

.. important::

   You must stop the client operations only during restoration when you 
   restore to the **same database**.

Client Operations during Restoration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You must ensure that the target |service| {+cluster+} doesn't receive 
client requests during restoration. The following use cases apply:

- If you plan to restore to the same database, you must stop the client 
  operations during restoration. 

- If you plan to restore to a different database, you don't need to 
  stop the client applications. In this case, you can restore to a new 
  |service| cluster and reconfigure your application to use that new 
  cluster once the new deployment is running.

Procedure
---------

.. include:: /includes/steps/restore-db-from-queryable-backup.rst

.. _vector-search-quick-start:

===============================
{+avs+} Quick Start
===============================

.. default-domain:: mongodb

.. facet::
   :name: genre
   :values: tutorial

.. facet::
   :name: programming_language
   :values: shell, csharp, python, java, javascript/typescript, json

.. meta::
   :description: Learn how to create and manage an Atlas Vector Search index for vector embeddings and perform vector search on the indexed field.
   :keywords: code example, sample dataset, Node.js, MongoDB Shell, search tester, MongoDB Atlas, C#, Java (Sync), Atlas CLI, Python, JSON

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

This quick start describes how to index vector embeddings in your data 
on an |service| {+cluster+} and run queries that search vector 
embeddings for similar data.

A vector is an array of values arranged in one or more dimensions. 
Vector embeddings that bidirectional encoder models, like OpenAI 
``text-embedding-ada-002``, produce can represent words, phrases, and 
sentences. You can index vector embeddings and search for items related 
in meaning or context. To learn more, see :ref:`fts-vector-search`.

Prerequisites 
-------------

To complete this quick start, you must meet the following prerequisites.

Required Cluster Configuration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You must have the following cluster configuration:

- An |service| {+cluster+} with MongoDB version 6.0.11, or v7.0.2 or 
  later (including :abbr:`RCs (Release Candidates)`).

- The :doc:`sample data </sample-data>` loaded into your |service| 
  {+cluster+}.

Supported Clients
~~~~~~~~~~~~~~~~~

You must have one of the following applications to run queries on your 
|service| {+cluster+}:

- {+mongosh+}
- :driver:`C# </csharp/current/>`
- :driver:`Java </java-drivers/>`
- :driver:`MongoDB Node Driver </node/current/>`
- :driver:`Pymongo </pymongo/>` 

You can also use {+avs+} with local |service| deployments that you 
create with the {+atlas-cli+}. To learn more, see :atlascli:`Create a
Local Atlas Deployment </atlas-cli-deploy-local>`.

Required Access
~~~~~~~~~~~~~~~

To create an {+avs+} index, you must have 
:authrole:`Project Data Access Admin` or higher access to the project.

Index Vector Embeddings
-----------------------

Use the following example to index vector embeddings in your data on 
an |service| {+cluster+}.

.. procedure:: 
   :style: normal 

   .. include:: /includes/nav/steps-db-deployments-page.rst

   .. include:: /includes/nav/steps-atlas-search.rst

   .. step:: Go to the :guilabel:`JSON Editor`.

      a. Click :guilabel:`Create Search Index`.

      #. In the :guilabel:`Atlas Vector Search` section, select 
         :guilabel:`JSON Editor`.

      #. Click :guilabel:`Next`.
   
   .. step:: Specify the database, collection, and index name.

      a. In the :guilabel:`Database and Collection` section, find the 
         ``sample_mflix`` database, and select the ``embedded_movies``
         collection.
      #. In the :guilabel:`Index Name` field, specify
         ``vector_index``. 
   
   .. step:: Define your {+avs+} index.

      The following example index definition for the 
      ``sample_mflix.embedded_movies`` collection indexes the 
      ``plot_embedding`` field as the ``vector`` type. The 
      ``plot_embedding`` field contains embeddings created using 
      OpenAI's ``text-embedding-ada-002`` embeddings model. The index 
      definition specifies ``1536`` vector dimensions and measures 
      similarity using ``cosine``.

      .. code-block:: json 
         :copyable: true 
         :linenos: 

         {
           "fields": [{
             "type": "vector",
             "path": "plot_embedding",
             "numDimensions": 1536,
             "similarity": "cosine"
           }]
         }
      
      To learn more, see :ref:`avs-types-vector-search`.

   .. step:: Create the search index.
    
      Review the index definition and click 
      :guilabel:`Create Search Index`.

      A modal window indicates that your index is building.

   .. step::  Wait for the index to finish building.
    
      Click :guilabel:`Close` to close the :guilabel:`You're All Set!` 
      modal window and wait for the index to finish building. 

      The index should take about one minute to build. While it
      builds, the :guilabel:`Status` column reads 
      :guilabel:`Initial Sync`. When it finishes building, the 
      :guilabel:`Status` column reads :guilabel:`Active`. 

Run a Vector Search Query
-------------------------

Use the following example to run a query that searches vector 
embeddings.

----------

.. |arrow| unicode:: U+27A4

|arrow| Use the **Select your language** drop-down menu to select the
client to use to run the example queries in this section.

----------

.. tabs-selector:: drivers

.. tabs-drivers::

   .. tab::
      :tabid: atlas-ui

      .. include:: /includes/steps-avs-quick-start-run-query-atlas-ui.rst
   
   .. tab:: 
      :tabid: shell

      .. include:: /includes/steps-avs-quick-start-run-queries-mongosh.rst

   .. tab::
      :tabid: csharp 

      .. include:: /includes/steps-avs-quick-start-run-queries-csharp.rst

   .. tab:: 
      :tabid: java-sync

      .. include:: /includes/steps-avs-quick-start-run-queries-java.rst

   .. tab:: 
      :tabid: nodejs

      .. include:: /includes/steps-avs-quick-start-run-queries-nodejs.rst

   .. tab:: 
      :tabid: python

      .. include:: /includes/steps-avs-quick-start-run-queries-python.rst

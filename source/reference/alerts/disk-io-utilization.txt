======================
Disk I/O % Utilization
======================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Description
-----------

``Disk I/O % Utilization`` alerts indicate that the percentage of disk
|iops| utilized reaches a specified threshold. This threshold is
specified when the alert is created.

.. note::

   The utilization measurements for the following alerts include
   requests from all processes, not just MongoDB processes.

:ref:`Disk I/O % utilization on Data Partition
<system-disk-alerts>`
occurs if the percentage of time during which requests are being
issued to any partition that contains the MongoDB :term:`collection`
data meets or exceeds the threshold.

:ref:`Disk I/O % utilization on Index Partition
<system-disk-alerts>`
occurs if the percentage of time during which requests are being
issued to any partition that contains the MongoDB :term:`index`
data meets or exceeds the threshold.

:ref:`Disk I/O % utilization on Journal Partition
<system-disk-alerts>`
occurs if the percentage of time during which requests are being
issued to the partition that contains the MongoDB
:term:`journal` meets or exceeds the threshold.

Possible Observations
---------------------

These are a few possible methods to observe high Disk I/O %
Utilization:

- The :guilabel:`Disk IOPS` graph in the cluster
  :doc:`metrics </tutorial/view-diagnostics>` shows higher |iops| than
  the provisioned |iops| for the cluster. The :guilabel:`Disk IOPS`
  graph is located under the :guilabel:`Hardware Metrics` section of
  the :guilabel:`Metrics` tab.

- There is a high :guilabel:`IOWait` curve in the
  :guilabel:`Normalized System CPU` :doc:`metric
  </tutorial/view-diagnostics>`. IOWait measures the percentage of time
  the CPU is idle and waiting for an I/O operation to complete. The
  :guilabel:`Normalized System CPU` graph is located under the
  :guilabel:`Hardware Metrics` section of the :guilabel:`Metrics` tab.

Common Triggers
---------------

These are a few common events which may lead to high
Disk I/O % Utilization and trigger these alerts:

- :manual:`Unoptimized queries </core/query-optimization/>` can cause
  extra disk |iops| usage.

- There may be a one-time event which causes a spike in disk |iops|,
  such as an :manual:`index build </core/index-creation/>`.

Possible Solutions
------------------

These are a few possible actions to consider to help resolve
``Disk I/O % Utilization`` alerts:

- :manual:`Optimize your queries </core/query-optimization/>`.

- Use the |service| :doc:`Performance Advisor
  </tutorial/performance-advisor/>` to view slow queries and suggested
  :manual:`indexes </indexes>`.

- Review :manual:`Indexing Strategies </applications/indexes/>` for
  possible further indexing improvements.

  .. note::

     Creating new indexes may result in a temporary spike in |iops|.

- :manual:`Analyze Query Performance </tutorial/analyze-query-plan/>`
  to review how your queries are using your indexes.

- Utilize a faster disk drive with higher |iops|.

- Distribute operations from disks with exceedingly large workloads
  onto different disks.
stepnum: 1
source:
  file: steps-source-admin-navigation.yaml
  ref:  admin-backup-snapshot
---
title: "Go to the row for the Blockstore you want to edit."
stepnum: 2
level: 4
ref: select-blockstore
---
title: "In the MongoDB Connection column, edit the necessary fields:"
stepnum: 3
level: 4
ref: edit-blockstore
content: |

   .. list-table::
      :header-rows: 1

      * - Field
        - Contents
      * - :guilabel:`<hostname>:<port>`
        - The hostname and port number of the MongoDB database.
      * - :guilabel:`MongoDB Auth Username`
        - The name of the user authorized to access the database if authentication was selected.
      * - :guilabel:`MongoDB Auth Password`
        - The password of the user authorized to access the database if authentication was selected.
      * - :guilabel:`Encrypted Credentials` checkbox
        - Checked if the username and password had used the ``credentialstool`` for encryption.
      * - :guilabel:`Use SSL` checkbox
        - Checked if the database uses SSL.
      * - :guilabel:`Connection Options`
        - Include any :manual:`configuration file options </reference/configuration-options>` for the MongoDB.
      * - :guilabel:`Assignment Labels`   
        - A comma-separated list of labels to assign the blockstores to specific groups.
      * - :guilabel:`Load Factor`
        - A proportional value of how backup jobs are assigned to the given
          snapshot store compared to other snapshot stores. 

          By default:

          - Snapshot stores assign one shard per snapshot store.

          - All snapshot stores have backup jobs equally distributed between
            them.

          If a snapshot store has more than one shard assigned, it would
          result in one snapshot store being backed up often than the another. 
          This ratio of backup jobs to shards can be changed using the load factor.

          An example of how the Load Factor affects backups:

          You are backing up a 5 shard cluster. Your deployment has filestore
          (A) with one shard and blockstore (B) with four shards. These
          blockstores should not get equally distribution of backup jobs, as B
          is four times larger than A. B should get a Load Factor of 4 and A
          should get a Load Factor or 1.
      * - :guilabel:`Write Concern`
        - Select the proper :manual:`Write Concern</core/write-concern/>`.

---
title: "Check the checkbox in the :guilabel:`Assignment Enabled` column."
stepnum: 4
level: 4
ref: assign-blockstores
---
title: "Click :guilabel:`Save`."
stepnum: 5
level: 4
ref: save-blockstore-changes
--- 
title: "**Restart** all the |onprem| instances, including those running activated Backup Daemons."
stepnum: 6 
level: 4
ref: restart-blockstore-after-edits
action:
  - pre: |
      .. warning::

         After you save changes to the connection string, you must restart all
         the |onprem| instances, including those running activated Backup
         Daemons, for the changes to take effect.
...

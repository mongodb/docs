===========================================
|onprem| Hardware and Software Requirements
===========================================

.. default-domain:: mongodb

This page describes the hardware and software requirements for
the :doc:`/core/system-overview`. If you install to AWS servers,
you must set up at least one EC2 security group that meets the requirements
described on this page.

.. _hardware-requirements:

Hardware Requirements
---------------------

|onprem| requires a server for the following components, which usually run on
the same machine. The server must meet the sum of the requirements for both
components:

- :ref:`mms-application-package`

- :ref:`mms-application-database`

If you run Backup, |onprem| also requires servers for the following:

- :ref:`Backup Daemon <backup-daemon>`

- :ref:`Backup Blockstore database <mms-backup-blockstore-database>`

For deployment diagrams, see :doc:`/core/deployments`.

.. note::

   The following requirements are specific to a given component. You must add
   together the requirements for the components you will install. For example,
   the requirements for the |application| do not cover the |application|
   database.

.. _application-hardware-requirements:

|application| Server
~~~~~~~~~~~~~~~~~~~~

:ref:`mms-application-database-specifications`.

.. list-table::
   :header-rows: 1

   * - **Number of Monitored Hosts**
     - **CPU Cores**
     - **RAM**
   * - Up to 400 monitored hosts
     - 4+
     - 15 GB
   * - Up to 2000 monitored hosts
     - 8+
     - 15 GB
   * - More than 2000 hosts
     - Contact MongoDB Account Manager
     - Contact MongoDB Account Manager

.. _mms-application-database-specifications:

|application| Database Hardware
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/requirements-application-database.rst

.. _backup-hardware-requirements:

|onprem| Backup Daemon Hardware
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The Backup Daemon cannot run without a running |application|. If you run the
Backup Daemon, deploy servers that meet these requirements and,
**in addition**, another server or servers meeting the requirements for the
:ref:`Backup Blockstore database hardware <mms-blockstore-database-specifications>`.

If you wish to install the Backup Daemon on the same physical server as the
|application|, the server must satisfy these requirements separately
from the requirements in :ref:`application-hardware-requirements`.

A server running the Backup Daemon acts as a hidden secondary for every
replica set assigned to it. The system must have the disk space and write
capacity to maintain the replica sets plus the space to store an additional
copy of the data to support point-in-time restore. Typically, the Backup
Daemon must be able to store 2 to 2.5 times the sum of the size on disk of all
the backed-up replica sets.

Before installing the Backup Daemon, we recommend contacting your MongoDB Account
Manager for assistance in estimating the storage requirements for your Backup
Daemon server.

.. list-table::
   :header-rows: 1
   :widths: 20, 12, 8, 15, 15

   * - **Number of Hosts**
     - **CPU Cores**
     - **RAM**
     - **Disk Space**
     - **Storage IOPS/s**
   * - Up to 200 hosts
     - 4+ 2Ghz+
     - 15 GB additional RAM
     - Contact MongoDB Account Manager
     - Contact MongoDB Account Manager

.. _mms-blockstore-database-specifications:

|onprem| Backup Blockstore Database Hardware
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/requirements-backup-blockstore-database.rst

.. _aws-security-groups:

EC2 Security Groups
-------------------

.. include:: /includes/requirements-aws-security.rst

Software Requirements
---------------------

Operating System
~~~~~~~~~~~~~~~~

|onprem| supports the following 64-bit Linux distributions:

- CentOS 5 or later

- Red Hat Enterprise Linux 5, or later

- SUSE 11 or Later

- Amazon Linux AMI (latest version only)

- Ubuntu 12.04 or later

.. _onprem-config-ulimits:

Ulimits
~~~~~~~

The |onprem| packages automatically raise the open file, max user processes, and
virtual memory ulimits. On Red Hat, be sure to check for a
``/etc/security/limits.d/90-nproc.conf`` file that may override the max user
processes limit. If the ``/etc/security/limits.d/90-nproc.conf`` file exists,
remove it before continuing.

See :manual:`MongoDB ulimit Settings </reference/ulimit>` for recommended
ultimit settings.

.. _authentication-requirements:

Authentication
~~~~~~~~~~~~~~

If you will use LDAP for authentication, you must enable LDAP **before
performing any setup of the |mms| service**, beyond starting the service. You
**cannot** enable LDAP once you have opened the interface and signed up a
user. You can enable LDAP **only** on a completely blank, no-hosts, no-users
installation.

MongoDB
~~~~~~~

The MongoDB databases backing |mms| must be MongoDB 2.4.9 or later.
To back up a Replica set with |mms|, all members of the set must run at
least MongoDB 2.2 or later. To back up a sharded cluster, all
components of the sharded cluster must be MongoDB 2.4.3 or later.

Web Browsers
~~~~~~~~~~~~

|onprem| supports clients using the following browsers:

- Chrome 8 and greater

- Firefox 12 and greater

- IE 9 and greater

- Safari 6 and greater

The |application| will display a warning on non-supported browsers.

SMTP
~~~~

|onprem| requires email for fundamental server functionality such as
password reset and alerts.

Many Linux server-oriented distributions include a local SMTP server by
default, for example, Postfix, Exim, or Sendmail. You also may configure |onprem|
to send mail via third party providers, including Gmail and Sendgrid.

SNMP
~~~~

If your environment includes SNMP, you can configure an SMNP trap receiver
with periodic heartbeat traps to monitor the internal health of |mms|.

For more information, see :ref:`Configure SNMP Heartbeat Support
<snmp-heartbeat-configure>`.

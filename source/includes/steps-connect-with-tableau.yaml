level: 4
stepnum: 1
ref: jdbc-driver-download
title: "`Download <https://search.maven.org/search?q=a:mongodb-jdbc>`_ the 
       MongoDB {+asql+} JDBC driver JAR file and all associated dependencies by 
       selecting ``all.jar`` from the dropdown list in the :guilabel:`Download` 
       column."
content: |
  .. figure:: /images/data-federation/download-jdbc-for-tableau.png
     :figwidth: 650px
     :alt: Image highlighting JDBC Driver for Tableau
---
level: 4
stepnum: 2
ref: jdbc-driver-location
title: "Move the downloaded MongoDB {+asql+} JDBC driver JAR file to 
       one of the following folders."
content: |

  .. list-table::
     :header-rows: 1 
     :widths: 20 80

     * - Operating System
       - Folder Path

     * - Windows 
       - ``C:\Program Files\Tableau\Drivers``

     * - MacOS
       - ``~/Library/Tableau/Drivers``
---
level: 4
stepnum: 3
ref: jdbc-driver-config-tableau
title: "Configure the driver for your Tableau."
content: |
  
  To connect with Tableau, create a properties file with the following 
  settings: 

  .. code-block:: sh 

     user=<database-user>
     password=<database-user-password>
     authSource=admin
     database=<database-to-query>
     ssl=true
     compressors=zlib

  .. list-table::
     :header-rows: 1 
     :widths: 20 80

     * - Property
       - Description 

     * - ``user``
       - Username of the database user in your Atlas cluster. 

     * - ``password`` 
       - Password of the database user in your Atlas cluster. 

     * - ``authSource`` 
       - :manual:`Authentication database 
         </core/security-users/#user-authentication-database>` 
         of the database user in your Atlas cluster, which is 
         always ``admin``.

     * - ``database`` 
       - Database in the Atlas cluster that contains the data to 
         query. 

         .. important::

            When you use the JDBC driver to connect Tableau 
            to {+adl+}, you can only connect to the database 
            specified here.

     * - ``ssl``
       - Whether format of the query is SSL. Value must be 
         ``true``.

     * - ``compressors``
       -  File compression format. Value must be ``zlib``.
---
level: 4
stepnum: 4
ref: tableau-open
title: "Open :guilabel:`Tableau Desktop` to configure the 
       database to connect to."
---
level: 4
stepnum: 5
ref: tableau-connect
title: "From the left navigation under :guilabel:`Connect To a Server`, 
       select :guilabel:`More` and click :guilabel:`Other Databases (JDBC)`."
content: | 
     
     .. figure:: /images/data-federation/tableau-select-other-db.png
        :figwidth: 650px
        :alt: Tableau UI for selecting other databases
---
level: 4
stepnum: 6
ref: tableau-config-jdbc
title: "In the :guilabel:`Other Databases (JDBC)` window, specify 
       the following settings:"
content: | 

  .. list-table:: 
     :header-rows: 1
     :widths: 20 80

     * - UI Field
       - Description

     * - URL 
       - Specify your {+fdi+} URL in the following format:

         .. code-block:: none 

            jdbc:<your-federated-database-instance-URL>/<database-to-connect-to>

         To construct the URL:

         a. Prepend ``jdbc:`` to your {+fdi+} URL. You can get your 
            {+fdi+} URL from your {+fdi+} connection string. For 
            information on how to get the {+fdi+} connection string, 
            see :ref:`Connect to Your Federated Database Instance 
            <fdi-connect>`. For example, your {+fdi+} URL in the 
            connection string should look similar to the following: 

            .. code-block:: none 
               :copyable: false 

               "mongodb://myTestDL-7hgjn.a.query.mongodb.net/<dbname>" 

            For example, to the preceding {+fdi+} URL, prepend 
            ``jdbc:`` as shown below: 

            .. code-block:: none 

               jdbc:mongodb://myTestDL-7hgjn.a.query.mongodb.net/<dbname>

         b. Replace ``<dbname>`` at the end of your {+fdi+} URL with the name 
            of the database to which you want to connect. For example, to 
            connect to a database named ``testDB`` using the connection 
            string in the previous step:

            .. code-block:: none 

               jdbc:mongodb://myTestDL-7hgjn.a.query.mongodb.net/testDB

     * - Dialect 
       - Select :guilabel:`MySQL` from the drop-down. 

     * - Properties File
       - Click :guilabel:`Browse` and select the properties file to use 
         for this connection. 

  .. note:: 

     You can leave the :guilabel:`Username` and :guilabel:`Password` 
     fields empty if you specified them in the properties file.
---
level: 4
stepnum: 7
ref: tableau-signin
title: "Click :guilabel:`Sign In`."
---
level: 4
stepnum: 8
ref: tableau-select-db
title: "From the left navigation, select the database to connect to 
       from the drop-down under :guilabel:`Database`."
content: | 
     
     .. figure:: /images/data-federation/tableau-select-adl-db.png 
        :figwidth: 650px
        :alt: Tableau UI for selecting federated database instance database
...

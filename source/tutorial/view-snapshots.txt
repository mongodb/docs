=========================
View a Backup's Snapshots
=========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

By default, |mms| takes a base snapshot of a backed-up deployment every 6
hours and retains snapshots as described in
:ref:`snapshot-frequency-and-retention`. Administrators can change the
frequency and retention settings.

You can view all available snapshots, as described here.

View All Available Snapshots
----------------------------

.. include:: /includes/steps/view-snapshots.rst

On-Demand Snapshots
-------------------

By default, |mms| takes on-demand snapshots with the same retention that you 
configured on the :ref:`snapshot settings <edit-snapshot-schedule>` for the 
daily snapshot. An on-demand snapshot doesn't alter the existing snapshot 
schedule. You can view on-demand snapshots on your :guilabel:`View All Snapshots` 
page.

When you add or remove a shard from your cluster, |mms| initiates an on-demand 
snapshot. When this happens, the line listing the process on the :guilabel:`Overview` 
tab of your :guilabel:`Continuous Backup` page will display a ``now`` text below 
the :guilabel:`Next Snapshot` column, and the tooltip text will display 
``Initiated by SYSTEM on cluster topology change`` on hover.

.. image:: /images/backup-cluster-topology-change-snapshot.png
   :alt: "Overview tab of your Continuous Backup page will display a now text below the Next Snapshot column."
   :width: 700px
   :align: center

Take On-Demand Snapshots
------------------------

.. note::

   If a snapshot is in progress, you can't initiate an on-demand snapshot on the |mms| UI or the |mms| Public |api|.

To take on-demand snapshots:

1. Click :guilabel:`Continuous Backup`, then the :guilabel:`Overview` tab.
#. On the line listing the process, click the ellipsis icon and click :guilabel:`Take Snapshot Now`.
#. On the pop-up modal that appears, configure the retention value and click :guilabel:`Take Snapshot`.

==============
Group Settings
==============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

To modify group settings, click :guilabel:`Settings`, then :guilabel:`Group
Settings`.

The settings apply to all the users in the group. You can set the following:

.. list-table::
   :widths: 40 60
   :header-rows: 1

   * - Setting

     - Description

   * - :guilabel:`Group Time Zone`

     - Sets your group's time zone. This does not affect the timezones set for
       individual user accounts.

   * - :guilabel:`Collect Database Specific Statistics`

     - Allows you to enable or disable the collection of database statistics
       in :doc:`cluster metrics </monitor-cluster-metrics>`.

   * - :guilabel:`Enable Public API`

     - Allows you to access your group and its clusters through the
       :doc:`Public API </reference/api-resources>`.

   * - :guilabel:`Public Key for SCP Restores`

     - If you use |service| :doc:`Backup </backup-cluster>`, this setting
       allows you to generate a public key for SCP backup restoration. If you
       restore a snapshot through SCP, |service| uses the key to transmit the
       snapshot.

   * - :guilabel:`PagerDuty Service Key`

     - Sets a default service key for alert notifications sent to a `PagerDuty
       <http://www.pagerduty.com/?utm_source=mongodb&utm_medium=docs&utm_campaign=partner>`_
       account. |service| enters the key by default when you add a PagerDuty
       notification to an :doc:`alert configuration </monitoring-alerts>`. If
       you add PagerDuty notifications and if the key used to send the
       notifications becomes invalid, |service| sends an email to the group
       owner and eventually removes the key.

   * - :guilabel:`Flowdock Settings`

     - Sets default values for alert notifications sent to Flowdock. |service|
       enters the values by default when you add a Flowdock notification to an
       :doc:`alert configuration </monitoring-alerts>`. If you add Flowdock
       notifications, and if credentials to send notifications become invalid,
       |service| sends an email to the group owner and eventually removes the
       credentials.

       Set the following:

       .. list-table::
          :widths: 20 80

          * - :guilabel:`Org Name`

            - The Flowdock organization name in lower-case
              letters. This is the name that appears after ``www.flowdock.com/app/``
              in the URL string.

          * - :guilabel:`Flow Name`

            - The flow name in lower-case letters. The flow
              name appears after the organization name in the URL string:

              ``www.flowdock.com/app/<org>/<flow-name>``.

              The flow name also appears in the "flow email address" setting in
              Flowdock. For example:

              ``<flow-name>@example.flowdock.com``.

          * - :guilabel:`API Token`

            - Your Flowdock "personal API token" found on
              the `<https://www.flowdock.com/account/tokens>`_ page of your
              Flowdock account.

   * - :guilabel:`HipChat Settings`

     - Sets a default room and API token for alert notifications sent to a
       HipChat account. |service| enters the values by default when you add a
       HipChat notification to an :doc:`alert configuration
       </monitoring-alerts>`. If you add HipChat notifications and the token
       used to send notifications becomes invalid, |service| sends an email to
       the group owner and eventually removes the token.


   * - :guilabel:`Slack Settings`

     - Sets a default channel and token for alert notifications sent to a
       Slack account. You can use either an API token or a Bot token. To
       create an API token, see the `<https://api.slack.com/web>`_ page in
       your Slack account. For information on Bot users in Slack, see
       `<https://api.slack.com/bot-users>`_.

       |service| enters these values by default when you add a Slack
       notification to an :doc:`alert configuration </monitoring-alerts>`. If
       add Slack notifications and the token used to send notifications
       becomes invalid, |service| sends an email to the group owner and
       eventually removes the token.

   * - :guilabel:`Webhook Settings`

     - Adds a :guilabel:`Webhook URL` endpoint to which |service| can send
       alert notifications for programmatic processing. |service| sends an
       alert notification as an HTTP POST request. The request body
       contains a JSON document that uses the same format as the Public API's
       ``Alerts`` resource.

       |service| adds a request header called ``X-MMS-Event`` to distinguish
       between various alert states. The possible values for this header are:

       .. list-table::
          :widths: 30 70

          * - ``alert.open``

            - The alert was just opened.

          * - ``alert.close``

            - The alert was resolved.

          * - ``alert.update``

            - A previously opened alert is still open.

          * - ``alert.acknowledge``

            - The alert was acknowledged.

          * - ``alert.cancel``

            - The alert became invalid and was canceled.

          * - ``alert.inform``

            - Represents an informational alert, which is a
              point-in-time event, such as "Primary Elected."

       If you specify a key in the :guilabel:`Webhook Secret` field, |service|
       adds the ``X-MMS-Signature`` request header, which contains the
       hex-encoded HMAC signature of the request body. The signature is
       created using the provided secret.

       To send alert notifications to a Webhook, select the Webhook
       notification option when creating or editing an :doc:`alert
       </monitoring-alerts>`. If you add a Webhook notification and the URL or
       optional key becomes invalid, |service| sends an email to the group
       owner and eventually removes the Webhook settings.

   * - :guilabel:`New Relic Settings`

     - Configures |service| to send metric data about your deployment to `New
       Relic <http://newrelic.com/>`_ for viewing through the New Relic
       MongoDB plugin. You can also use Insights for New Relic to run
       analytics on the collected data. |service| sends New Relic the same
       metric data as displayed in |service| :doc:`cluster metrics
       </monitor-cluster-metrics>`.

       Enter the following information from your New Relic account. If you do
       not have an existing New Relic account, you can sign up using
       `<http://newrelic.com/mongodb>`_.

       - Account ID
       - License Key
       - Insights API Insert Key
       - Insights API Query Key

       If any of the keys later become invalid, |service| sends an email to
       the group owner and eventually removes the invalid credentials.

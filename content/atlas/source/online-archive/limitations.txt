.. _online-archive-limitations:

==============================
{+Online-Archive+} Limitations
==============================

.. meta::
   :description: A detailed guide covering the limitations of MongoDB Atlas {+Online-Archive+}, including supported features, query functionality, compatibility, lifecycle management, and costs.

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol 

.. important::
   {+Online-Archive+} depends on Atlas Data Federation. 
   For Atlas Data Federation, see :ref:`df-limitations`.
   

While {+Online-Archive+} offers significant advantages for data lifecycle management, 
it is important to understand certain limitations before using the feature. 
The following sections detail these limitations.

General Limitations
-------------------

Data Types
~~~~~~~~~~

{+Online-Archive+} supports the following partition attribute types:

- ``date``
- ``double``
- ``int``
- ``long``
- ``objectId``
- ``string``
- ``boolean``

To learn more about the supported partition attribute types,
see: :ref:`Partition Attributes <adf-path-attribute-types>`

.. note::

   ``UUID`` is not tracked, it is recommended 
   to convert it to string before adding it to {+Online-Archive+}.

Index Queryable Fields
~~~~~~~~~~~~~~~~~~~~~~

During the archival process, an {+Online-Archive+}  will query a 
collection to find documents eligible for archival. 
To improve archival throughput, an index over the partition 
fields used in the archiving criteria is recommended.

Querying Archived Data
----------------------

Read-Only Query Access
~~~~~~~~~~~~~~~~~~~~~~

You can query archived data in a read-only manner. You cannot modify, update, or 
delete data within an {+Online-Archive+} directly. If you need to update 
archived data, you must restore the data to the active database,
see: :ref:`Restore Archive Data <restore-archived-data>`.

Data Lifecycle & Management
---------------------------

Restore Time
~~~~~~~~~~~~

Restoring data from an {+Online-Archive+} to the live database can be 
time-consuming for large datasets. Ensure that you account for this restore 
time when you plan your application's data availability needs.

Other Key Considerations
------------------------

No Custom Cloud Storage Integration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

{+Online-Archive+} integrates tightly with |service| infrastructure. As such, 
you can't use your own independently-configured cloud storage solution for data 
archiving.

Backup Limitations for Archived Data
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

|service| {+cluster+} backups don't include archived data. If you need to 
ensure backup coverage for archived data, you must implement a custom backup 
solution directly on your archive storage.  

Sharding Zones
~~~~~~~~~~~~~~

The {+Online-Archive+} ignores sharding zones and archives all data 
from a single collection into one designated storage region, 
regardless of the {+cluster+} zone sharding.
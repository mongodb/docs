.. _clusters-get-all-key:

================================
Get All Clusters in All Projects
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Get details for all clusters in all projects available to the 
programmatic or personal API key making the request.

Required Roles
--------------

You can successfully call this endpoint with any assigned role.

Request
-------

.. include:: /includes/api/base-api-uri.rst

.. code-block:: http

   GET /api/public/v1.0/clusters

Request Path Parameters
~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/api/no-path-parameters.rst

Request Query Parameters
~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/api/base-query-single-parameters.rst

HTTP Response Elements
----------------------

The HTTP response returns a JSON document that includes an array for each project the API key is authorized to view. Each array contains the 
following elements:

.. include:: /includes/api/list-tables/cluster-get-all-key-http-response.rst

Example
-------

Request
~~~~~~~

.. only:: onprem

   .. code-block:: none

      curl -i -u "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest "https://{OPSMANAGER-HOST}:{PORT}/api/public/v1.0/clusters"

.. only:: cloud

   .. code-block:: none

      curl -i -u "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest "https://cloud.mongodb.com/api/public/v1.0/clusters"

Example Response
----------------

Response Header
~~~~~~~~~~~~~~~

.. include:: /includes/api/api-headers/401.rst

.. include:: /includes/api/api-headers/200.rst

Response Body
~~~~~~~~~~~~~

.. only:: onprem

   .. code-block:: http

      {
      	"links": [{
      		"href": "https://{OPSMANAGER-HOST}:{PORT}/api/public/v1.0/clusters",
      		"rel": "self"
      	}],
      	"results": [{
      			"clusters": [{
      					"alertCount": 0,
      					"authEnabled": true,
      					"availability": "available",
      					"backupEnabled": false,
      					"clusterId": "5e6bc0352e41683c191c8956",
      					"dataSizeBytes": 0,
      					"name": "Cluster1",
      					"nodeCount": 3,
      					"sslEnabled": true,
      					"type": "replica set",
      					"versions": [
      						"4.2.3"
      					]
      				},
      				{
      					"alertCount": 0,
      					"authEnabled": true,
      					"availability": "available",
      					"backupEnabled": false,
      					"clusterId": "5e6bc60ba4c3f47a54d8fe95",
      					"dataSizeBytes": 0,
      					"name": "Cluster2",
      					"nodeCount": 3,
      					"sslEnabled": true,
      					"type": "replica set",
      					"versions": [
      						"4.2.3"
      					]
      				}
      			],
      			"groupId": "5df90932f10fab675508b0e5",
      			"groupName": "az",
      			"orgId": "5df7a168f10fab3a149357fb",
      			"orgName": "jww-12-16",
      			"planType": "Ops Manager",
      			"tags": []
      		},
      		{
      			"clusters": [{
      				"alertCount": 0,
      				"authEnabled": true,
      				"availability": "available",
      				"backupEnabled": false,
      				"clusterId": "5e6bbf6a9de0d35b1527dd93",
      				"dataSizeBytes": 0,
      				"name": "Cluster0",
      				"nodeCount": 3,
      				"sslEnabled": true,
      				"type": "replica set",
      				"versions": [
      					"4.2.3"
      				]
      			}],
      			"groupId": "5df90590f10fab5e33de2305",
      			"groupName": "jww-12-17",
      			"orgId": "5df7a168f10fab3a149357fb",
      			"orgName": "jww-12-16",
      			"planType": "Ops Manager",
      			"tags": []
      		},
      		{
      			"clusters": [{
      				"alertCount": 0,
      				"authEnabled": true,
      				"availability": "dead",
      				"backupEnabled": false,
      				"clusterId": "5e6be93fd434591c4ca765f6",
      				"dataSizeBytes": 0,
      				"name": "Cluster0",
      				"nodeCount": 0,
      				"sslEnabled": true,
      				"type": "replica set",
      				"versions": [
      					"4.2.3"
      				]
      			}],
      			"groupId": "5df90923f10fab675508b065",
      			"groupName": "gcp",
      			"orgId": "5df7a168f10fab3a149357fb",
      			"orgName": "jww-12-16",
      			"planType": "Ops Manager",
      			"tags": []
      		}
      	],
      	"totalCount": 3
      }

.. only:: cloud

   .. code-block:: http

      {
      	"links": [{
      		"href": "https://cloud.mongodb.com/api/public/v1.0/clusters",
      		"rel": "self"
      	}],
      	"results": [{
      			"clusters": [{
      					"alertCount": 0,
      					"authEnabled": true,
      					"availability": "available",
      					"backupEnabled": false,
      					"clusterId": "5e6bc0352e41683c191c8956",
      					"dataSizeBytes": 0,
      					"name": "Cluster1",
      					"nodeCount": 3,
      					"sslEnabled": true,
      					"type": "replica set",
      					"versions": [
      						"4.2.3"
      					]
      				},
      				{
      					"alertCount": 0,
      					"authEnabled": true,
      					"availability": "available",
      					"backupEnabled": false,
      					"clusterId": "5e6bc60ba4c3f47a54d8fe95",
      					"dataSizeBytes": 0,
      					"name": "Cluster2",
      					"nodeCount": 3,
      					"sslEnabled": true,
      					"type": "replica set",
      					"versions": [
      						"4.2.3"
      					]
      				}
      			],
      			"groupId": "5df90932f10fab675508b0e5",
      			"groupName": "az",
      			"orgId": "5df7a168f10fab3a149357fb",
      			"orgName": "jww-12-16",
      			"planType": "Cloud Manager",
      			"tags": []
      		},
      		{
      			"clusters": [{
      				"alertCount": 0,
      				"authEnabled": true,
      				"availability": "available",
      				"backupEnabled": false,
      				"clusterId": "5e6bbf6a9de0d35b1527dd93",
      				"dataSizeBytes": 0,
      				"name": "Cluster0",
      				"nodeCount": 3,
      				"sslEnabled": true,
      				"type": "replica set",
      				"versions": [
      					"4.2.3"
      				]
      			}],
      			"groupId": "5df90590f10fab5e33de2305",
      			"groupName": "jww-12-17",
      			"orgId": "5df7a168f10fab3a149357fb",
      			"orgName": "jww-12-16",
      			"planType": "Cloud Manager",
      			"tags": []
      		},
      		{
      			"clusters": [{
      				"alertCount": 0,
      				"authEnabled": true,
      				"availability": "dead",
      				"backupEnabled": false,
      				"clusterId": "5e6be93fd434591c4ca765f6",
      				"dataSizeBytes": 0,
      				"name": "Cluster0",
      				"nodeCount": 0,
      				"sslEnabled": true,
      				"type": "replica set",
      				"versions": [
      					"4.2.3"
      				]
      			}],
      			"groupId": "5df90923f10fab675508b065",
      			"groupName": "gcp",
      			"orgId": "5df7a168f10fab3a149357fb",
      			"orgName": "jww-12-16",
      			"planType": "Cloud Manager",
      			"tags": []
      		}
      	],
      	"totalCount": 3
      }

========================
Return All Role Mappings
========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

The ``federationSettings`` resource allows you to return all the  
:ref:`role mappings <atlas-manage-fed-auth-roles>` from the specified 
organization in the specified federation.

.. include:: /includes/api-requirements.rst

.. include:: /includes/api-base-url-new.rst

Required Roles
--------------

You must have the :authrole:`Organization Owner` role to call this 
endpoint. This resource doesn't require the API Key to have an Access 
List.

Resource
--------

.. code-block:: http
   :copyable: false

   GET /federationSettings/{FEDERATION-SETTINGS-ID}/connectedOrgConfigs/{ORG-ID}/roleMappings

Request 
-------

Request Path Parameters
~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 20 20 60
   :header-rows: 1

   * - Name
     - Type
     - Description

   * - ``FEDERATION-SETTINGS-ID``
     - string
     - Unique 24-hexadecimal digit string that identifies the federated 
       authentication configuration.

   * - ``ORG-ID``
     - string
     - Unique 24-hexadecimal digit string that identifies the 
       connected organization.

Request Query Parameters
~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/api/no-query-single-parameters.rst

Request Body Parameters
~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/no-body-parameters.rst

Response
--------

``links`` Array
~~~~~~~~~~~~~~~

The ``links`` array includes one or more links to sub-resources or
related resources. The relations between URLs are explained in the `Web
Linking Specification <http://tools.ietf.org/html/rfc5988>`_.

.. list-table::
   :header-rows: 1

   * - Relation
     - Description
      
   * - ``self``
     - The URL endpoint for this resource.

``results`` Array 
~~~~~~~~~~~~~~~~~

Each element in the ``result`` array is one role mapping.

.. list-table::
   :header-rows: 1
   :stub-columns: 1
   :widths: 10 10 80

   * - Name
     - Type
     - Description

   * - ``externalGroupName``
     - string
     - Unique human-readable label that identifies the identity 
       provider group associated with the role mapping.

   * - ``id``
     - string
     - Unique 24-hexadecimal digit string that identifies the role 
       mapping.

   * - ``roleAssignments``
     - array
     - List that contains the unique identifiers for the projects and 
       organizations associated with each role.

   * - ``roleAssignments.groupId``
     -  string
     -  Unique 24-hexadecimal digit string that identifies the project 
        in which the role applies.

   * - ``roleAssignments.orgId``
     - string
     - Unique 24-hexadecimal digit string that identifies the 
       organization in which the role applies.

   * - ``roleAssignments.role``
     - string
     - Human readable label that identifies the role.

``totalCount`` Field
~~~~~~~~~~~~~~~~~~~~

This value is the count of the total number of items in the result set.
``totalCount`` may be greater than the number of objects in the 
``results`` array if the entire result set is paginated.

Example Request
---------------

.. code-block:: sh

   curl --user "{PUBLIC-KEY}:{PRIVATE-KEY}" --digest \
        --header "Accept: application/json" \
        --header "Content-Type: application/json" \
        --include \
        --request GET "https://cloud.mongodb.com/api/atlas/v1.0/federationSettings/{FEDERATION-SETTINGS-ID}/connectedOrgConfigs/{ORG-ID}/roleMappings" 

Example Response
----------------

.. code-block:: json
   :copyable: false

   {
     "links": [
       {
         "href": "https://cloud.mongodb.com/api/atlas/v1.0/federationSettings/{FEDERATION-SETTINGS-ID}/connectedOrgConfigs/{ORG-ID}/roleMappings?pageNum=1&itemsPerPage=100",
         "rel": "self"
       }
     ],
     "results": [
       {
        "externalGroupName": "example",
        "id": "61e89721b827b56c845ff44c",
        "roleAssignments": [
          {
            "groupId": null,
            "orgId": "{ORG-ID}",
            "role": "ORG_MEMBER"
          }
        ]
       }
     ],
     "totalCount": 1    
   }

=============================
Add Existing Servers to |mms|
=============================

.. default-domain:: mongodb

Overview
--------

|mms| can automate operations for the MongoDB processes running on your
servers. |mms| can both discover existing processes and deploy new ones.

|mms| Automation relies on an Automation Agent, which must be installed on
every server in the deployment. The Automation Agents periodically poll
|mms| to determine the goal configuration, deploy changes as needed, and
report deployment status back to |mms|.

To add servers to Automation, install the Automation Agent on each, as
described here. If a server is already running MongoDB, first :doc:`add
the server to Monitoring </tutorial/add-hosts-to-monitoring>` and then
install the Automation Agent.

You can install the Automation Agent on the operating systems listed in
|mms| on the :guilabel:`Administration` tab's :guilabel:`Agents` page.

Prerequisites
-------------

.. only:: onprem

   .. important::

      If a server runs :term:`MongoDB Enterprise`, you must install the
      :ref:`prerequisite packages <mongodb-enterprise-dependencies>` on
      the server before deploying MongoDB Enterprise on the server.

.. include:: /includes/prerequisites-automation-agent-servers.rst

.. include:: /includes/prerequisites-automation-agent-monitored-deployment.rst

.. include:: /includes/prerequisites-automation-agent-new-deployment.rst

Procedure
---------

Install the Automation Agent on each each server that you want |mms| to
manage. The following procedure applies to all operating systems. For
instructions for a specific operating system, see
:doc:`/tutorial/nav/install-automation-agent`.

On Linux servers, if you installed MongoDB with a package manager, use the
same package manager to install the Automation Agent. If you installed
MongoDB without a package manager, use an archive to install the
Automation Agent.

.. include:: /includes/steps/automation-agent-install.rst

Next Steps
----------

Once you have installed the agent to all your servers, you can deploy your
first :doc:`replica set </tutorial/deploy-replica-set>`, :doc:`cluster
</tutorial/deploy-sharded-cluster>`, or :doc:`standalone
</tutorial/deploy-standalone>`.

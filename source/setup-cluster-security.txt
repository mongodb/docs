===============
Set Up Security
===============

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Introduction
------------

|service| secures your databases through TLS/SSL, whitelists, and user
authentication.

TLS/SSL
~~~~~~~

|service| uses TLS/SSL to encrypt the connections to your databases.

.. _whitelist:

Whitelist
~~~~~~~~~

|service| allows connections to the cluster's MongoDB databases only from IP
addresses on the group's whitelist. A client can connect to MongoDB only from
an IP address on this list. You can add multiple entries to the list. You can
also specify address ranges using Classless Inter-Domain Routing (CIDR).

.. important:: Ensure that you add the IP address you will use to access
   MongoDB as the admin user.

.. _mongodb-users:

MongoDB Users
~~~~~~~~~~~~~

Create MongoDB users to provide access to your MongoDB databases. When
creating a user, you assign the user to a specific database, but you can still
grant the user access to other databases. A user's access to databases is
determined by the user's roles. Each role combines a set of actions with the
database on which the actions can be performed.

The user's assigned database is called the "authentication database." A user
logs into MongoDB by providing a username, a password, and the name of the
authentication database. The MongoDB cluster uses MongoDB's
:manual:`SCRAM-SHA-1 </core/security-scram-sha-1>` authentication mechanism to
validate the user.

When you create a MongoDB user, the user is added to each MongoDB cluster in
your group. If two clusters have a database with the same name, and you create
a user in that database, the user has access to both databases on both
clusters.

Users are identified by a combination of their name and authentication
database. If two users have the same name but are assigned different
databases, they are two separate users.

MongoDB users are separate from |service| users. MongoDB users have access to
MongoDB databases, while |service| users access to the |service| application
itself.

.. _add-to-whitelist:

Add IP Addresses to the Whitelist
---------------------------------

The whitelist applies to the entire group. You can add multiple IP addresses
to your whitelist.

.. include:: /includes/steps/add-to-whitelist.rst

Create a New MongoDB User for the Cluster
-----------------------------------------

Create users to control access to MongoDB resources and operations.

.. include:: /includes/steps/add-users.rst

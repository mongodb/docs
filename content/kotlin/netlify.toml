[build]
publish = "dist"
base = "content/kotlin"

[build.environment]
REPO_NAME = "docs-kotlin"
SECRETS_SCAN_ENABLED = "false"
MUT_COMMANDS_ENABLED = "false"

[context.production.environment]
ENV = "dotcomprd"

[context.preprd.environment]
ENV = "dotcomstg"

[context.deploy-preview.environment]
ENV = "prd"

[context.branch-deploy.environment]
ENV = "prd"

[context.preview-server.environment]
ENV = "prd"

[context.dev.environment]
ENV = "stg"


### OFFLINE REDIRECTS
### ALIAS REDIRECTS
### PAGE-SPECIFIC REDIRECTS
### WILDCARD REDIRECTS
### CATCH ALLS
## redirects any pages not at any of the active versions to current (makes eols technically unnecessary)


### OFFLINE REDIRECTS 
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v4.11/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v4.10/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"


### ALIAS REDIRECTS
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/master/*"
to = "/docs/drivers/kotlin/coroutine/upcoming/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.6/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"
status = 302


### PAGE-LEVEL REDIRECTS


### WILDCARD REDIRECTS
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/change-a-document/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/modify/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/usage-examples/find-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/usage-examples/findOne/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/usage-examples/insert-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/usage-examples/insertOne/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/usage-examples/delete-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/usage-examples/deleteOne/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/data-formats/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/data-formats/document-data-format-data-class/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/read-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/read-operations/retrieve/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/write-operations/insert/"

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/"
to = "/docs/drivers/kotlin/coroutine/:version/fundamentals/crud/read-operations/retrieve/"

[[redirects]]
from = "/docs/languages/kotlin/kotlin-sync-driver/:version/compatibility/"
to = "/docs/drivers/compatibility/?all-languages=kotlin&kotlin-driver-framework=kotlin-sync"

#Online versions: dict_keys(['upcoming', 'current', 'v5.5', 'v5.4', 'v5.3', 'v5.2', 'v5.1', 'v5.0'])
### CATCH ALLS (Redirects any /docs/drivers/kotlin/coroutine/ page that would've 404ed to the version's landing page)
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/upcoming/*"
to = "/docs/drivers/kotlin/coroutine/intermediary/upcoming/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/intermediary/upcoming/*"
to = "/docs/drivers/kotlin/coroutine/upcoming"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/current/*"
to = "/docs/drivers/kotlin/coroutine/intermediary/current/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/intermediary/current/*"
to = "/docs/drivers/kotlin/coroutine/current"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.5/*"
to = "/docs/drivers/kotlin/coroutine/intermediary/v5.5/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/intermediary/v5.5/*"
to = "/docs/drivers/kotlin/coroutine/v5.5"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.4/*"
to = "/docs/drivers/kotlin/coroutine/intermediary/v5.4/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/intermediary/v5.4/*"
to = "/docs/drivers/kotlin/coroutine/v5.4"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.3/*"
to = "/docs/drivers/kotlin/coroutine/intermediary/v5.3/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/intermediary/v5.3/*"
to = "/docs/drivers/kotlin/coroutine/v5.3"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.2/*"
to = "/docs/drivers/kotlin/coroutine/intermediary/v5.2/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/intermediary/v5.2/*"
to = "/docs/drivers/kotlin/coroutine/v5.2"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.1/*"
to = "/docs/drivers/kotlin/coroutine/intermediary/v5.1/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/intermediary/v5.1/*"
to = "/docs/drivers/kotlin/coroutine/v5.1"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.0/*"
to = "/docs/drivers/kotlin/coroutine/intermediary/v5.0/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/intermediary/v5.0/*"
to = "/docs/drivers/kotlin/coroutine/v5.0"
status = 302

### CATCH ALLS (add slug to paths without slug)
[[redirects]]
from = "/docs/drivers/kotlin/coroutine/upcoming/*"
to = "/docs/drivers/kotlin/coroutine/upcoming/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/current/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.5/*"
to = "/docs/drivers/kotlin/coroutine/v5.5/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.4/*"
to = "/docs/drivers/kotlin/coroutine/v5.4/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.3/*"
to = "/docs/drivers/kotlin/coroutine/v5.3/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.2/*"
to = "/docs/drivers/kotlin/coroutine/v5.2/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.1/*"
to = "/docs/drivers/kotlin/coroutine/v5.1/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/v5.0/*"
to = "/docs/drivers/kotlin/coroutine/v5.0/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/kotlin/coroutine/*"
to = "/docs/drivers/kotlin/coroutine/current/:splat"

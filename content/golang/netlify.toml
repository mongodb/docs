[build]
publish = "dist"
base = "content/golang"

[build.environment]
REPO_NAME = "docs-golang"
SECRETS_SCAN_ENABLED = "false"
MUT_COMMANDS_ENABLED = "false"

[context.production.environment]
ENV = "dotcomprd"

[context.preprd.environment]
ENV = "dotcomstg"

[context.deploy-preview.environment]
ENV = "prd"

[context.branch-deploy.environment]
ENV = "prd"

[context.preview-server.environment]
ENV = "prd"

[context.dev.environment]
ENV = "stg"

### OFFLINE REDIRECTS
### ALIAS REDIRECTS
### PAGE-SPECIFIC REDIRECTS
### WILDCARD REDIRECTS
### CATCH ALLS
## redirects any pages not at any of the active versions to current (makes eols technically unnecessary)


### OFFLINE REDIRECTS 
[[redirects]]
from = "/docs/drivers/go/v1.11/*"
to = "/docs/drivers/go/current/:splat"

[[redirects]]
from = "/docs/drivers/go/v1.10/*"
to = "/docs/drivers/go/current/:splat"

[[redirects]]
from = "/docs/drivers/go/v1.9/*"
to = "/docs/drivers/go/current/:splat"

[[redirects]]
from = "/docs/drivers/go/v1.8/*"
to = "/docs/drivers/go/current/:splat"

[[redirects]]
from = "/docs/drivers/go/v1.7/*"
to = "/docs/drivers/go/current/:splat"


### ALIAS REDIRECTS
[[redirects]]
from = "/docs/drivers/go/master/*"
to = "/docs/drivers/go/upcoming/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/v2.3/*"
to = "/docs/drivers/go/current/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/:version/connect"
to = "/docs/drivers/go/:version/connect/mongoclient"

[[redirects]]
from = "/docs/drivers/go/:version/crud"
to = "/docs/drivers/go/:version/crud/insert"

[[redirects]]
from = "/docs/drivers/go/:version/data-formats"
to = "/docs/drivers/go/:version/data-formats/struct-tagging"

[[redirects]]
from = "/docs/drivers/go/:version/query"
to = "/docs/drivers/go/:version/query/query-document"

[[redirects]]
from = "/docs/drivers/go/:version/monitoring-and-logging"
to = "/docs/drivers/go/:version/monitoring-and-logging/monitoring"

[[redirects]]
from = "/docs/drivers/go/:version/reference"
to = "/docs/drivers/go/:version/reference/release-notes"

[[redirects]]
from = "/docs/drivers/go/:version/security"
to = "/docs/drivers/go/:version/security/authentication"

### PAGE-LEVEL REDIRECTS

## CURRENT  

#CC
[[redirects]]
from = "/docs/drivers/go/current/fundamentals/connections/connection-options/"
to = "/docs/drivers/go/current/connect/specify-connection-options/"

#CC
[[redirects]]
from = "/docs/drivers/go/current/fundamentals/atlas-vector-search/"
to = "/docs/drivers/go/current/atlas-vector-search/"

## UPCOMING

#CC
[[redirects]]
from = "/docs/drivers/go/upcoming/fundamentals/connections/connection-options/"
to = "/docs/drivers/go/upcoming/connect/specify-connection-options/"

#CC
[[redirects]]
from = "/docs/drivers/go/upcoming/fundamentals/atlas-vector-search/"
to = "/docs/drivers/go/upcoming/atlas-vector-search/"

##v2.1

#CC
[[redirects]]
from = "/docs/drivers/go/v2.1/fundamentals/connections/connection-options/"
to = "/docs/drivers/go/v2.1/connect/specify-connection-options/"

#CC
[[redirects]]
from = "/docs/drivers/go/v2.1/fundamentals/atlas-vector-search/"
to = "/docs/drivers/go/v2.1/atlas-vector-search/"

##v2.0

#CC
[[redirects]]
from = "/docs/drivers/go/v2.0/fundamentals/connections/connection-options/"
to = "/docs/drivers/go/v2.0/connect/specify-connection-options/"

### WILDCARD REDIRECTS
[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/watch/"
to = "/docs/drivers/go/:version/monitoring-and-logging/change-streams/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/network-compression/"
to = "/docs/drivers/go/:version/connect/connection-options/network-compression/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/watch/"
to = "/docs/drivers/go/:version/monitoring-and-logging/change-streams/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/run-command/"
to = "/docs/drivers/go/:version/run-command/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/connection/"
to = "/docs/drivers/go/:version/connect/connection-targets/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/write-operations/change-a-document/"
to = "/docs/drivers/go/:version/crud/update/"

# Comprehensive Coverage (CC) Redirects

[[redirects]]
from = "/docs/drivers/go/:version/quick-start/"
to = "/docs/drivers/go/:version/get-started/"

[[redirects]]
from = "/docs/drivers/go/:version/quick-reference/"
to = "/docs/drivers/go/:version/reference/quick-reference/"

[[redirects]]
from = "/docs/drivers/go/:version/whats-new/"
to = "/docs/drivers/go/:version/reference/release-notes/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/findOne/"
to = "/docs/drivers/go/:version/crud/query/retrieve/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/find/"
to = "/docs/drivers/go/:version/crud/query/retrieve/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/insertOne/"
to = "/docs/drivers/go/:version/crud/insert/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/insertMany/"
to = "/docs/drivers/go/:version/crud/insert/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/updateOne/"
to = "/docs/drivers/go/:version/crud/update/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/updateMany/"
to = "/docs/drivers/go/:version/crud/update/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/replaceOne/"
to = "/docs/drivers/go/:version/crud/update/replace/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/deleteOne/"
to = "/docs/drivers/go/:version/crud/delete/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/deleteMany/"
to = "/docs/drivers/go/:version/crud/delete/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/bulkWrite/"
to = "/docs/drivers/go/:version/crud/bulk/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/changestream/"
to = "/docs/drivers/go/:version/monitoring-and-logging/change-streams/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/count/"
to = "/docs/drivers/go/:version/crud/query/count/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/distinct/"
to = "/docs/drivers/go/:version/crud/query/distinct/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/command/"
to = "/docs/drivers/go/:version/run-command/"

[[redirects]]
from = "/docs/drivers/go/:version/usage-examples/struct-tagging/"
to = "/docs/drivers/go/:version/data-formats/struct-tagging/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/connections/"
to = "/docs/drivers/go/:version/connect/mongoclient/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/connections/connection-guide/"
to = "/docs/drivers/go/:version/connect/connection-targets/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/connections/network-compression/"
to = "/docs/drivers/go/:version/connect/connection-options/network-compression/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/connections/tls/"
to = "/docs/drivers/go/:version/security/tls/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/stable-api/"
to = "/docs/drivers/go/:version/connect/connection-options/stable-api/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/context/"
to = "/docs/drivers/go/:version/context/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/auth/"
to = "/docs/drivers/go/:version/security/authentication/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/enterprise-auth/"
to = "/docs/drivers/go/:version/security/authentication/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/bson/"
to = "/docs/drivers/go/:version/data-formats/bson/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/"
to = "/docs/drivers/go/:version/crud/insert/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/query-document/"
to = "/docs/drivers/go/:version/crud/query/query-document/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/retrieve/"
to = "/docs/drivers/go/:version/crud/query/retrieve/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/count/"
to = "/docs/drivers/go/:version/crud/query/count/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/cursor/"
to = "/docs/drivers/go/:version/crud/query/cursor/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/distinct/"
to = "/docs/drivers/go/:version/crud/query/distinct/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/sort/"
to = "/docs/drivers/go/:version/crud/query/specify-return-documents/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/skip/"
to = "/docs/drivers/go/:version/crud/query/specify-return-documents/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/limit/"
to = "/docs/drivers/go/:version/crud/query/specify-return-documents/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/project/"
to = "/docs/drivers/go/:version/crud/query/project/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/text/"
to = "/docs/drivers/go/:version/crud/query/text/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/read-operations/changestream/"
to = "/docs/drivers/go/:version/monitoring-and-logging/change-streams/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/write-operations/insert/"
to = "/docs/drivers/go/:version/crud/insert/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/write-operations/delete/"
to = "/docs/drivers/go/:version/crud/delete/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/write-operations/modify/"
to = "/docs/drivers/go/:version/crud/update/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/write-operations/embedded-arrays/"
to = "/docs/drivers/go/:version/crud/update/embedded-arrays/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/write-operations/upsert/"
to = "/docs/drivers/go/:version/crud/update/upsert/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/write-operations/bulk/"
to = "/docs/drivers/go/:version/crud/bulk/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/compound-operations/"
to = "/docs/drivers/go/:version/crud/compound-operations/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/crud/write-read-pref/"
to = "/docs/drivers/go/:version/crud/configure/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/aggregation/"
to = "/docs/drivers/go/:version/aggregation/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/indexes/"
to = "/docs/drivers/go/:version/indexes/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/transactions/"
to = "/docs/drivers/go/:version/crud/transactions/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/logging/"
to = "/docs/drivers/go/:version/monitoring-and-logging/logging/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/run-command/"
to = "/docs/drivers/go/:version/run-command/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/collations/"
to = "/docs/drivers/go/:version/crud/configure/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/monitoring/cluster-monitoring/"
to = "/docs/drivers/go/:version/monitoring-and-logging/monitoring/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/monitoring/command-monitoring/"
to = "/docs/drivers/go/:version/monitoring-and-logging/monitoring/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/monitoring/connection-monitoring/"
to = "/docs/drivers/go/:version/monitoring-and-logging/monitoring/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/gridfs/"
to = "/docs/drivers/go/:version/crud/gridfs/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/time-series/"
to = "/docs/drivers/go/:version/time-series/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/encrypt-fields/"
to = "/docs/drivers/go/:version/security/encrypt-fields/"

[[redirects]]
from = "/docs/drivers/go/:version/fundamentals/geo/"
to = "/docs/drivers/go/:version/data-formats/geo/"

[[redirects]]
from = "/docs/drivers/go/:version/faq/"
to = "/docs/drivers/go/:version/reference/faq/"

[[redirects]]
from = "/docs/drivers/go/:version/connection-troubleshooting/"
to = "/docs/drivers/go/:version/connect/connection-troubleshooting/"

[[redirects]]
from = "/docs/drivers/go/:version/compatibility/"
to = "https://www.mongodb.com/docs/drivers/compatibility/?all-languages=go&interface=driver"

[[redirects]]
from = "/docs/drivers/go/:version/reference/compatibility/"
to = "https://www.mongodb.com/docs/drivers/compatibility/?all-languages=go&interface=driver"

#Online versions: dict_keys(['upcoming', 'current', 'v2.2', 'v2.1', 'v2.0', 'v1.17', 'v1.16', 'v1.15', 'v1.14', 'v1.13', 'v1.12'])
### CATCH ALLS (Redirects any /docs/drivers/go/ page that would've 404ed to the version's landing page)
[[redirects]]
from = "/docs/drivers/go/upcoming/*"
to = "/docs/drivers/go/intermediary/upcoming/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/upcoming/*"
to = "/docs/drivers/go/upcoming"
status = 302

[[redirects]]
from = "/docs/drivers/go/current/*"
to = "/docs/drivers/go/intermediary/current/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/current/*"
to = "/docs/drivers/go/current"
status = 302

[[redirects]]
from = "/docs/drivers/go/v2.2/*"
to = "/docs/drivers/go/intermediary/v2.2/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v2.2/*"
to = "/docs/drivers/go/v2.2"
status = 302

[[redirects]]
from = "/docs/drivers/go/v2.1/*"
to = "/docs/drivers/go/intermediary/v2.1/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v2.1/*"
to = "/docs/drivers/go/v2.1"
status = 302

[[redirects]]
from = "/docs/drivers/go/v2.0/*"
to = "/docs/drivers/go/intermediary/v2.0/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v2.0/*"
to = "/docs/drivers/go/v2.0"
status = 302

[[redirects]]
from = "/docs/drivers/go/v1.17/*"
to = "/docs/drivers/go/intermediary/v1.17/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v1.17/*"
to = "/docs/drivers/go/v1.17"
status = 302

[[redirects]]
from = "/docs/drivers/go/v1.16/*"
to = "/docs/drivers/go/intermediary/v1.16/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v1.16/*"
to = "/docs/drivers/go/v1.16"
status = 302

[[redirects]]
from = "/docs/drivers/go/v1.15/*"
to = "/docs/drivers/go/intermediary/v1.15/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v1.15/*"
to = "/docs/drivers/go/v1.15"
status = 302

[[redirects]]
from = "/docs/drivers/go/v1.14/*"
to = "/docs/drivers/go/intermediary/v1.14/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v1.14/*"
to = "/docs/drivers/go/v1.14"
status = 302

[[redirects]]
from = "/docs/drivers/go/v1.13/*"
to = "/docs/drivers/go/intermediary/v1.13/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v1.13/*"
to = "/docs/drivers/go/v1.13"
status = 302

[[redirects]]
from = "/docs/drivers/go/v1.12/*"
to = "/docs/drivers/go/intermediary/v1.12/:splat"
status = 302

[[redirects]]
from = "/docs/drivers/go/intermediary/v1.12/*"
to = "/docs/drivers/go/v1.12"
status = 302

### CATCH ALLS (add slug to paths without slug)
[[redirects]]
from = "/docs/drivers/go/upcoming/*"
to = "/docs/drivers/go/upcoming/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/current/*"
to = "/docs/drivers/go/current/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v2.2/*"
to = "/docs/drivers/go/v2.2/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v2.1/*"
to = "/docs/drivers/go/v2.1/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v2.0/*"
to = "/docs/drivers/go/v2.0/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v1.17/*"
to = "/docs/drivers/go/v1.17/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v1.16/*"
to = "/docs/drivers/go/v1.16/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v1.15/*"
to = "/docs/drivers/go/v1.15/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v1.14/*"
to = "/docs/drivers/go/v1.14/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v1.13/*"
to = "/docs/drivers/go/v1.13/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/v1.12/*"
to = "/docs/drivers/go/v1.12/:splat"
status = 200

[[redirects]]
from = "/docs/drivers/go/*"
to = "/docs/drivers/go/current/:splat"

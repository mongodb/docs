==================================
MongoDB Charts Cloud Release Notes
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: twocols

|charts| v1.20.1
----------------

*Released November 18, 2020*

Bug fixes in this release:

- Fixes an issue where the :ref:`Convert Time Zone <charts-date-format>`
  toggle couldn’t be enabled when customizing a field.

- Fixes an issue where charts wouldn’t render if a :ref:`label
  <field-level-options>` contains a single quote and the chart uses a
  :ref:`secondary Y axis <secondary-y-axis>`.

- Improves predictability around ordering of :ref:`multiple series
  <multi-series-charts>` on a chart.

|charts| v1.20.0
----------------

*Released November 12, 2020*

Improvements in this release:

- Introduces option to show :guilabel:`All others` when
  :ref:`limiting results <charts-limit-data>` on a chart.

- Introduces :ref:`Count by Value <count-by-value-agg>` aggregation
  option, which automatically generates series based on the values in a
  field.

- Provides more detailed error messages in the tooltip when a chart on a
  public dashboard fails to load.

- New option to use Regular Expressions to choose which string values to
  use in a :ref:`bin <charts-bin-data>`.

- New chart :ref:`customization options <customize-charts>`:

  - Plot one or more series on a Secondary Y axis on
    grouped column, line and area charts.

  - Reposition or hide the chart legend.

  - Use different dash styles for each series on a line chart.
  
  - Change the size, stroke width and fill opacity of marks on a scatter
    chart.

Bug fixes in this release include:

- System databases and collections can no longer be added as data
  sources, since they can’t be used for charting.

- Popup dialogs in the chart builder no longer close when you click on the background.

- Error state is now properly cleared when the Lookup Field dialog is reopened.

- Improves the resolution of the :guilabel:`Countries` and
  :guilabel:`Regions` choropleth shape scheme, ensuring small countries
  are visible.
  
- Charts now render correctly when ``NaN`` values are included in bins.

- Series now display in a consistent order when string
  binning is enabled.
  
- Null and empty string values can now be used successfully in string
  bins.

- String bins are now retained when binning is
  disabled and re-enabled.
  
- Fixes a styling issue where type converted fields were not showing
  with a green icon in the field panel.

- Changes placement of product tours so they can be dismissed on low
  resolution displays.
  
- Binned numbers and dates are no longer infilled when used on a
  chart’s Series channel.
  
- :guilabel:`Null` category no longer displays when
  binned numbers or dates are used on a Series chanel.

- Fixes an issue where charts were not always sorted correctly when
  binned numbers or dates were used on a Series chanel.

- Fixes an issue where the data in the :guilabel:`Get Chart Data`
  dialog was sometimes empty or didn’t match the chart.


|charts| v1.19.0
----------------

*Released October 13, 2020*

Improvements in this release:

- Introduces :ref:`Lookup Fields <add-lookup-field>` in the Chart
  Builder.

- Introduces binning on string-typed fields in category channels.
  See :ref:`charts-bin-data`.

- Adds ability to limit the number of documents displayed on
  :ref:`Table Charts <data-table-ref>`.

- Adds new tour showing virtual and lookup fields.

Bug fixes in this release:

- Field encodings are now correctly retained when swapping between
  Geo Scatter and Geo Heatmap chart types.

- Calculated fields that return objects can now be modified or deleted.

- Fixes a rendering issue for Area charts when some bins or categories
  had no values.

- Geospatial charts can now be panned independently.

- Fixes an issue when scatter charts with log scales were panned with
  the mouse.

- Changes to the :guilabel:`Filter Allow` list are now immediately
  picked up by embedded charts.

- Prevents some “white screen” errors from occurring in the Chart
  Builder.

- Allows editing chart titles while a chart is loading.

- Empty arrays now show the ``[]`` symbol in the Chart Builder field
  panel.

- Improves the refresh behavior for expired authentication sessions.

- |charts| no longer crashes when geospatial charts are rendered with
  ``NaN`` coordinates.


|charts| v1.18.0
----------------

*Released September 15, 2020*

Improvements in this release:

- Adds new :ref:`Top Item <top-item-ref>` chart type, allowing you to
  see details of a single item from a collection.

- Allows changing the size of text labels on a chart.

- Adds new :guilabel:`Period` option on
  :ref:`date filters <charts-filter-documents>`, allowing you to
  filter by a current or previous period.

- Allows sorting a chart on a specific series when the chart uses
  multiple series generated from different fields.

Bug fixes in this release:

- Array reduction options no longer show on wrong cards after deleting
  fields.

- Improves performance of queries when absolute date filters are used.

- Improves rendering of multi-series charts containing empty bins.

- Embedded charts no longer blank out when refreshing.

- Zoomed dashboard view now fills the entire screen.

- Tables containing a mixture of unbinned dates and binned values no
  longer show empty cells where dates should appear.

- Improves rendering consistency across different chart types.

- Charts no longer hang hang during rendering if the number of
  requested bins was very large.

|charts| v1.17.0
----------------

*Released August 20, 2020*

Improvements in this release:

- Introduces product tours for new users.

- Allows users with the
  :atlas:`Project Read Only </reference/user-roles/#project-roles>`
  role to create dashboards and charts using sample data.

- Introduces a new personal dashboard for new users.

- Introduces new customization option to show
  :ref:`Gauge Charts <gauge-chart-ref>` as a percentage of target.

- Improves autocomplete suggestions in the chart builder query bar to be
  case-insensitive.

- Improves rendering of null values in charts.

- Improves performance of sorting and limiting of chart data by
  performing sorting and limiting server-side.
  
  - Improves performance of chart rendering and the accuracy of data in
    the :guilabel:`Get Chart Data` dialog.

- Increases the number of legend entries that render on a multi-series
  chart.

Bug fixes in this release:

- Embedded number charts no longer display as blank when a zero value
  was expected.

- Supports adding calculated fields whose values are arrays.

- Chart titles can now be selected and copied from the dashboard view.

- The numeric binning textbox no longer shows non-integer values.

- The string filter card can still be used even if sampling of string
  values fails.

- :guilabel:`Missed Fields` can now be added when
  :guilabel:`Sample Mode` is enabled.

- Summary of user permissions now show on the
  :guilabel:`Dashboard Overview` page.

- The Chart Builder no longer crashes when an empty array is dragged to
  the filter panel.

- Collection statistics now display for databases that contain views.

- Error codes now display correctly after failures.

- Chart status bar no longer shows a tick if the chart data fails to
  load.

- Charts no longer render incorrectly when the only category is an
  empty string.

- Cluster names are no longer truncated in the
  :guilabel:`Data Source Permissions` dialog.

- Multi-series charts with some empty date bins now render correctly.

- Blank screen no longer occurs after moving a chart to a different
  dashboard.

|charts| v1.16.0
----------------

*Released July 24, 2020*

Improvements in this release:

- Adds a welcome experience for new Charts users.

- Adds a sample data source of movie data available to all Charts users
  for testing and experimentation.

- Enables :ref:`generating sample dashboards and charts <admin-settings>`.

- Adds an option to :ref:`show a running total or change in value <bin-date-fields>`
  on a chart.

- For charts with no :ref:`category channel <charts-channel-type-table>`
  encoded, fields in :ref:`aggregation channels <charts-channel-type-table>`
  are now used as categories.

Bug fixes in this release:

- Fixes an issue where a white screen was displayed when editing the time
  component of a date filter.

- Fixes an issue where number charts displayed as blank when a zero value
  was expected.

- Fixes an issue where the :guilabel:`Retry` option did not appear on charts with
  errors on public dashboards.

- Fixes an issue where embedded charts using BSON types in filters did
  not work when using the Realm authentication provider.

- Fixes an issue where some charts unexpectedly showed a blank entry in
  the legend.

- Fixes an issue where chart queries did not work if they used the
  ``NumberInt``, ``NumberLong`` or ``NumberDecimal`` helpers.

- Improves the performance of rendering large dashboards.

|charts| v1.15.0
----------------
*Released June 23, 2020*

Improvements in this release:

- Enables downloading chart data from the dashboard view 
  of a chart.

- Invalid queries now display detailed error messages in the chart 
  builder.

- Enables setting a delimiter when using the ``concat`` 
  :ref:`array reduction option <array-reduction>`.

- Adds new *Week of the Year* option when 
  :ref:`binning date values <bin-date-fields>`.

- :ref:`Donut <donut-chart-ref>` charts can now be created from 
  multiple fields.

- Charts with binned numeric or date values now show gaps for empty 
  bins.

- Collection information is now visible when adding data sources.

- Removes the step to set permissions when creating a data source.

- Updates visuals across the |charts| application.

Bug fixes in this release:

- Fixes an issue where injected embedding filters were not properly 
  considered when retrieving chart data from the cache.

- Fixes an issue where errors that occurred while sampling fields did 
  not display in the chart builder.

- Fixes an issue where the chart builder query bar did not appear 
  dimmed when a dialog was open.

- Changes the IFrame embedding parameter to ``autoRefresh`` to improve 
  consistency with SDK property (the previous ``autorefresh`` syntax 
  still works).

- Fixes an issue where embedded charts sometimes rendered with the 
  incorrect font.


|charts| v1.14.0
----------------

*Released May 28, 2020*

Improvements in this release:

- Adds a new chart status bar that shows details about last and next
  refresh time and any errors in the chart.

- Adds the ability to refresh a single chart on a dashboard. To learn more,
  see :ref:`refresh-dashboard`.

- Improves server-side caching of chart data.

- Adds an option to add an authentication provider while embedding a chart.

- Adds new :guilabel:`Tooltip Detail` channel on
  :ref:`Scatter <scatter-chart-ref>` and
  :ref:`Geospatial Scatter <geospatial-scatter-type>` charts.

Bug fixes in this release:

- Embedded tables now have a transparent background.

- Prevents a failure when geospatial charts use decimal type fields for
  coordinates.

- Fixes sorting of unbinned decimal typed values in chart category
  channels.

- Fixes an issue where newly added dashboard filters wouldn’t show
  sample string values.


|charts| v1.13.0
----------------

*Released April 30, 2020*

Improvements in this release:

- Embedding SDK now generally available. Adds support for
  :ref:`authenticated embedding <configure-auth-providers>`.

  - |charts-short| supports Custom |jwt|, Realm, and Google
    authentication providers.

- Adds more detailed :ref:`error information <embedded-errors>` for
  embedded charts.

  - Embedding errors are now written to browser developer console.

- Includes server-side caching of chart data for improved performance.

- Updates UI for setting
  :ref:`dashboard refresh behavior <refresh-dashboard>`.

Bug fixes in this release:

- Error messages no longer render incorrectly in Firefox.

- Field sampling in the chart builder no longer appears to hang if the
  sample returns no documents.

- Table charts now properly format unbinned dates.

- Queries using
  :manual:`$date </reference/mongodb-extended-json/#bson.Date>` and a
  string date can now be used in the query bar. 

- Improves the rendering of emphasized series in line, area and scatter
  charts.

|charts| v1.12.0
----------------

*Released March 31, 2020*

Improvements in this release:

- Allows :ref:`dashboard filter cards <dashboard-filtering>` to be
  renamed.

- Allows filter cards to be expanded and collapsed.

- Visual refresh across the |charts| application.

Bug fixes in this release:

- Legends on geospatial charts are no longer cut off.

- Error message no longer appears before an embedded chart is rendered.

- :guilabel:`Use Smart Labels on Axis` customization option no longer
  shows on unsupported chart types.

- Unbinned dates used as dynamic columns on a table chart can now be
  formatted.

- Donut chart data labels are no longer rendered if they are likely to
  overlap with other labels.

- Users with Atlas organization-level roles now show in permissions
  dialogs.

- Intercom support widget no longer obscures charts and dashboard
  filters.

- Sampling a collection in the chart builder no longer appears to hang
  if no documents are returned from the query.

- Removes excessive padding around table charts.

- Fixes an issue where calculated fields that produce no results could
  be saved but not removed.

- |charts-short| now automatically reloads after a version upgrade.

- Embedded charts now show the correct error if the chart ``id`` is
  incorrect.

- Fixes rendering issues with dashboard filter cards on Firefox
  browsers.

- Fixes an issue where error messages on public dashboards were
  illegible in Firefox browsers.


|charts| v1.11.0
----------------

*Released March 2, 2020*

Improvements in this release:

- Allows setting the ``theme`` and ``attribution`` with the
  :ref:`Embedding SDK <embedding-charts-sdk>`.

- Adds the :ref:`Gauge Chart <gauge-chart-ref>` type.

- Enables :ref:`Dashboard filters <dashboard-filtering>` on public
  link-shared dashboards.

- Enables linking :ref:`Dashboard filter cards <dashboard-filtering>` to
  multiple fields from different data sources.

- Adds :ref:`Smart Labels <smart-labels-dates>` for dates on the X axis
  of continuous line, area and scatter charts.

- Enables zooming and panning on
  :ref:`Scatter Charts <scatter-chart-ref>`.

- Enables :ref:`highlighting individual data series <emphasize-series>`
  by clicking the legend entries.

Bug fixes in this release:

- Fixes an issue where :guilabel:`Verified Signature` embedded charts
  failed to render when strings in filters contain space characters.

- Fixes an issue where embedded charts failed to render when field
  names in filters were not quoted.

- Fixed an issue where embedded
  :ref:`Choropleth Charts <choropleth-ref>` did not render.

- Improved rendering of filter cards in the dashboard filter pane.


|charts| v1.10.0
----------------

*Released February 5, 2020*

Improvements in this release:

- Adds :ref:`dashboard filtering <dashboard-filtering>` for
  authenticated dashboard users.

- Adds support for Embedding JavaScript SDK (beta) for unauthenticated
  embedding.

- IFrame :ref:`embedded charts <embedding-charts>` no longer require
  Tenant ID.

Bug fixes in this release:

- Improves scaling of :ref:`Number Charts <number-chart-ref>` to
  prevent the text from getting cut off.

- :ref:`Data Tables <data-table-ref>` no longer show as blank when
  dynamic column fields have empty values.

- Improves reliability and performance when duplicating dashboards.

- Prevents stale error messages from appearing in
  :ref:`Calculated Fields <calculated-fields>` editor.


|charts| v1.9.1
---------------

*Released December 16, 2019*

Bug fixes in this release:

- Removes extra padding around
  :doc:`embedded charts <embedding-charts>`.

|charts| v1.9.0
---------------

*Released December 10, 2019*

Improvements in this release:

- Improves dialog for unauthenticated :doc:`chart embedding <embedding-charts>`.

- Supports dark mode in :doc:`embedded charts <embedded-chart-options>`.

- Adds the ability to :ref:`filter <embed-options-filter>` 
  unauthenticated charts based on allowed fields.

- Improves the attribution logo on :doc:`embedded charts <embedded-chart-options>` 
  and provides the ability to hide the logo.

- Improves the treatment of errors in the :doc:`Chart Builder <build-charts>`, 
  :doc:`Dashboards <dashboards>`, and :doc:`embedded charts 
  <embedded-chart-options>`.

Bug fixes in this release:

- 100% stacked charts now show a percentage scale on the axis.

- Fixes an issue with the :guilabel:`Retry` button for charts on publicly shared 
  dashboards that were returning an error.

- Prevents multiple data source samples from running at once when quickly 
  switching data source in the Chart Builder.

- Grid columns in the :guilabel:`Get Chart Data` dialog are now in an expected 
  order.

- Tables with a large number of dynamic columns now return an error instead of 
  hanging the browser.

- Fields that include ellipsis button in the Chart Builder now behave as designed 
  on macOS.

- Dashboards can now be scrolled using devices that support touch-screen feature.

- The ``existence of value`` and ``count of occurences`` :doc:`array 
  reductions <rich-schema-support>` now succeed even if some documents have null 
  or missing values.

|charts| v1.8.0
---------------

*Released November 11, 2019*

Improvements in this release:

- Add :ref:`Missed Fields <missing-fields>` and
  :ref:`Calculated fields <calculated-fields>`  while building a chart.

- Share dashboards via a :ref:`public link <dashboard-access-link>`.

- New design for :ref:`Data Source Permissions <permission-model>` and
  :ref:`Dashboard Permissions <dashboard-permissions>` dialogs.

Bug fixes in this release:

- Legends on :ref:`donut charts <donut-chart-ref>` should no longer
  overlap with the donut.

- Long category names are now truncated, maximizing space for the chart.

- Improved error handling for queries with mismatched brackets.

- Embedded charts no longer go blank while refreshing.

- :guilabel:`View Source Documents` and
  :guilabel:`View Aggregation Pipeline` dialogs no longer take unapplied
  queries into account. Prior to this fix, these dialogs would be
  affected by queries in the query bar regardless of whether the query
  was applied to the chart.

|charts| v1.7.1
---------------

*Released October 14, 2019*

Bug fixes in this release:

- Fixed an issue that resulted in number formatting not being applied
  to decimal types in some charts.

- Charts containing type-converted fields now render correctly on
  dashboards and when embedded.

|charts| v1.7.0
---------------

*Released October 2, 2019*

Improvements in this release:

- New menu in the Chart Builder allows you to 
  :ref:`view and export chart data <view-export-chart-data>`:

  - :guilabel:`View Source Documents` from the data source.

  - :guilabel:`View Aggregation Pipeline` used to query the data source.

  - :guilabel:`Get Chart Data` to see the data used on the chart and
    export to CSV or JSON.

- Adds the ability to 
  :ref:`change the data type of fields <convert-field-data-types>`
  while building a chart, when using MongoDB 4.0 or later.

- Charts can now be placed across the full width of a dashboard on a
  large monitor.

- A warning now appears when deleting a data source that is in use by
  at least one chart.


Bug fixes in this release:

- Performing a new operation in the Chart Builder now cancels previous
  operations, preventing the chance of multiple responses coming back in
  an unexpected order.

- Table row totals correctly display at the far right of the table at
  all times.

- Encoding cards can now be more reliably swapped across chart channels.

- Singapore is now shown on :guilabel:`Choropleth` maps using the
  :guilabel:`Countries and Regions` scheme.

- :guilabel:`Choropleth` tooltips are now shown on the largest land
  mass of a region.

- String :guilabel:`Filter` card now correctly shows sample values from
  arrays of documents.

- Null values in chart categories now show as ``null``, not 0.

- Improves rendering of dates on continuous chart axes.

- Ellipsis menu is now accessible for data sources at the bottom of the
  grid.

- Miscellaneous performance, reliability and security improvements.


|charts| v1.6.0
---------------

*Released September 3, 2019*

Improvements in this release:

- New design for :ref:`Data Sources <data-sources>` list.

- New Data Source :guilabel:`Name` attribute replaces the
  :guilabel:`Alias` attribute.

- Data Source owners can now add, edit, or remove an
  :ref:`Aggregation Pipeline <data-sources-pipeline>` on a data
  source, including the ability to join multiple collections using
  :ref:`$lookup <join-data>`.

- Version detection to detect unsupported MongoDB versions or disable
  unsupported chart features.

- Option to enable or disable thousands separators in numbers on
  charts.

Bug fixes in this release:

- Time zone conversions are now correct in Table chart types.

- Support for queries using ``{ $not: { $regex: … } }`` structure.

- Miscellaneous performance, reliability and security improvements.

|charts| v1.5.0
---------------

*Released August 7, 2019*

Improvements in this release:

- Option to :ref:`specify autorefresh period <embed-options-refresh>`
  in embedded charts.

- Option to :ref:`specify a custom filter <embed-options-filter>` in
  embedded charts using Verified Signature authentication.

- :ref:`Enabling and disabling of chart filters <filter-tab>`

- Set :ref:`preferred time zone <filter-tab>` when using an absolute
  date filter.

- Visual refresh of the Chart Builder.

Bug fixes in this release:

- Addressed various issues when building and rendering geospatial
  charts.

- Fixed an issue that could cause charts to appear blank when
  refreshing large dashboards.

- String filter card shows a more complete set of sample values for
  large, indexed collections.

- Miscellaneous performance, reliability and security improvements.

|charts| v1.4.0
---------------

*Released June 12, 2019*

General Availability Release

Improvements in this release:

- New :ref:`geospatial chart types <geo-spatial>`:

  - :ref:`Choropleth <choropleth-ref>`
  - :ref:`Geospatial Scatter <scatter-ref>`
  - :ref:`Geospatial Heatmap <geospatial-heatmap-type>`

- New Data Source :ref:`permissions model <permission-model>`. 
  :data:`Viewer` role allows users to be granted access to data for
  viewing but not authoring.

- UI improvements to the :ref:`chart builder <build-charts>`.

Bug fixes in this release:

- Prevented console errors from being written when embedded charts are
  rendered.

- Read Preference now shows correctly for newly created data sources.

- Prevented intermittent errors when adding data sources.

- Charts can now be edited or deleted when their data is loading.
 
|charts| v1.3.0
---------------

*Released May 14, 2019*

Improvements in this release:

- New :ref:`filtering experience <charts-filter-documents>` in the
  chart builder.

- Improved :ref:`Query Bar <query-bar>` in the chart builder, allowing
  the chart author to specify custom aggregation pipeline stages.

- |charts-short| now runs against :term:`secondary` replica set members
  by default, and allows :ref:`Data Source <data-sources>` owners to
  change the read preference.

- Charts now remain visible when changing the dashboard layout and
  refreshing charts.

Bug fixes in this release:

- Duplicating a dashboard no longer breaks
  :ref:`embedded charts <embedding-charts>`.

- Tooltips on area charts now show on hover over any part of the area,
  not just the data points.

|charts| v1.2.0
---------------

*Released Apr 16, 2019*

Improvements in this release:

- Ability to :ref:`embed charts <embedding-charts>` in external
  applications.

- Warning now appears if |service| renders with incomplete data.

Bug fixes in this release:

- Fixed bad rendering in some
  :ref:`stacked area charts <line-area-chart-ref>`.

- Fixed some cases where :ref:`binned data <charts-bin-data>` could
  appear in the wrong order.

- Automatic :ref:`dashboard refresh <refresh-dashboard>` should work
  more reliably after resuming from sleep.

|charts| v1.1.1
---------------

*Released Feb 14, 2019*

Improvements in this release:

- New Chart Types:

  - :ref:`100% Stacked Bar <column-bar-chart-ref>`

  - :ref:`100% Stacked Column <column-bar-chart-ref>`

  - :ref:`100% Stacked Area <line-area-chart-ref>`

- New default :ref:`sort behavior <charts-sort-data>` in charts.

- New :ref:`filter bar <charts-filter-documents>` in the chart builder,
  with increased performance and usability.

Bug fixes in this release:

- Changes to :ref:`filter parsing <filter-tab>` to better align with
  MongoDB Shell syntax and Javascript in general. Specifically, filters
  using ``Date()`` to represent the current date or
  ``Date("2019-01-01")`` to represent a specific date will need to be
  changed to ``new Date()`` or ``ISODate()`` and
  ``new Date("2019-01-01")`` or ``ISODate("2019-01-01")``, since the
  Date() function now correctly  returns the date as a string
  representation.

- Fixed rendering issues in certain browser versions relating to the
  :ref:`continuous color picker <color-palette-customization>`.

- Miscellaneous performance, reliability and security improvements.


|charts| v1.0.0
---------------

*Released Dec 11, 2018*

Initial public release of the |charts|
:abbr:`SaaS (Software as a Service)` application.

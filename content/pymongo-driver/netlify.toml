[build]
publish = "dist"
base = "content/pymongo-driver"

[build.environment]
REPO_NAME = "docs-pymongo"
SECRETS_SCAN_ENABLED = "false"
MUT_COMMANDS_ENABLED = "false"


[context.production.environment]
ENV = "dotcomprd"

[context.preprd.environment]
ENV = "dotcomstg"

[context.deploy-preview.environment]
ENV = "prd"

[context.branch-deploy.environment]
ENV = "prd"

[context.preview-server.environment]
ENV = "prd"

[context.dev.environment]
ENV = "stg"

### OFFLINE REDIRECTS (none)
### ALIAS REDIRECTS
### WILDCARD REDIRECTS
[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/reference/"
to = "/docs/languages/python/pymongo-driver/:version/reference/release-notes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/data-formats/custom-types/"
to = "/docs/languages/python/pymongo-driver/:version/data-formats/custom-types/serialization/"

### PAGE-SPECIFIC REDIRECTS (none)
### CATCH ALLS
##redirects any pages not at any of the active versions to current (makes eols technically unnecessary)


### ALIAS REDIRECTS
[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.15/*"
to = "/docs/languages/python/pymongo-driver/current/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/master/*"
to = "/docs/languages/python/pymongo-driver/upcoming/:splat"


### WILDCARD REDIRECTS
[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/aggregation-tutorials/"
to = "/docs/languages/python/pymongo-driver/:version/aggregation/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/aggregation-tutorials/filtered-subset/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/aggregation-tutorials/group-total/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/aggregation-tutorials/multi-field-join/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/aggregation-tutorials/one-to-one-join/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/aggregation-tutorials/unpack-arrays/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/filtered-subset/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/group-total/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/multi-field-join/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/one-to-one-join/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/aggregation/unpack-arrays/"
to = "/docs/manual/tutorial/aggregation-examples/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/compatibility/"
to = "/docs/drivers/compatibility/?all-languages=python&python-driver-framework=pymongo"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/reference/compatibility/"
to = "/docs/drivers/compatibility/?all-languages=python&python-driver-framework=pymongo"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/connect/connection-pools/"
to = "/docs/languages/python/pymongo-driver/:version/connect/connection-options/connection-pools/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/connect/csot/"
to = "/docs/languages/python/pymongo-driver/:version/connect/connection-options/csot/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/connect/network-compression/"
to = "/docs/languages/python/pymongo-driver/:version/connect/connection-options/network-compression/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/connect/server-selection/"
to = "/docs/languages/python/pymongo-driver/:version/connect/connection-options/server-selection/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/connect/stable-api/"
to = "/docs/languages/python/pymongo-driver/:version/connect/connection-options/stable-api/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/connect/tls/"
to = "/docs/languages/python/pymongo-driver/:version/security/tls/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/databases-collections/#configure-read-and-write-operations/"
to = "/docs/languages/python/pymongo-driver/:version/crud/configure/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/faq/"
to = "/docs/languages/python/pymongo-driver/:version/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/get-started/connect-to-mongodb/"
to = "/docs/languages/python/pymongo-driver/:version/get-started/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/get-started/create-a-connection-string/"
to = "/docs/languages/python/pymongo-driver/:version/get-started/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/get-started/create-a-deployment/"
to = "/docs/languages/python/pymongo-driver/:version/get-started/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/get-started/download-and-install/"
to = "/docs/languages/python/pymongo-driver/:version/get-started/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/get-started/next-steps/"
to = "/docs/languages/python/pymongo-driver/:version/get-started/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/get-started/run-sample-query/"
to = "/docs/languages/python/pymongo-driver/:version/get-started/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/atlas-search-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/clustered-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/compound-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/geospatial-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/multikey-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/single-field-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/text-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/unique-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/indexes/wildcard-index/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/logging/"
to = "/docs/languages/python/pymongo-driver/:version/monitoring-and-logging/logging/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/monitoring/"
to = "/docs/languages/python/pymongo-driver/:version/monitoring-and-logging/monitoring/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/motor-async-migration/"
to = "/docs/languages/python/pymongo-driver/:version/reference/migration/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/previous-versions/"
to = "/docs/languages/python/pymongo-driver/:version/reference/previous-versions/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/pymongo-to-async-guide/"
to = "/docs/languages/python/pymongo-driver/:version/reference/migration/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/"
to = "/docs/languages/python/pymongo-driver/:version/crud/query/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/change-streams/"
to = "/docs/languages/python/pymongo-driver/:version/monitoring-and-logging/change-streams/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/count/"
to = "/docs/languages/python/pymongo-driver/:version/crud/query/count/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/cursors/"
to = "/docs/languages/python/pymongo-driver/:version/crud/query/cursors/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/distinct/"
to = "/docs/languages/python/pymongo-driver/:version/crud/query/distinct/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/project/"
to = "/docs/languages/python/pymongo-driver/:version/crud/query/project/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/retrieve/"
to = "/docs/languages/python/pymongo-driver/:version/crud/query/find/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/specify-a-query/"
to = "/docs/languages/python/pymongo-driver/:version/crud/query/specify-query/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/read/specify-documents-to-return/"
to = "/docs/languages/python/pymongo-driver/:version/crud/query/specify-documents-to-return/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/security/enterprise-authentication/"
to = "/docs/languages/python/pymongo-driver/:version/security/authentication/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/serialization/"
to = "/docs/languages/python/pymongo-driver/:version/data-formats/custom-types/serialization/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/tools/"
to = "/docs/languages/python/pymongo-driver/:version/integrations/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/upgrade/"
to = "/docs/languages/python/pymongo-driver/:version/reference/upgrade/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/whats-new/"
to = "/docs/languages/python/pymongo-driver/:version/reference/release-notes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/work-with-indexes/"
to = "/docs/languages/python/pymongo-driver/:version/indexes/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write-operations/"
to = "/docs/languages/python/pymongo-driver/:version/crud/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write/"
to = "/docs/languages/python/pymongo-driver/:version/crud/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write/bulk-write/"
to = "/docs/languages/python/pymongo-driver/:version/crud/bulk-write/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write/delete/"
to = "/docs/languages/python/pymongo-driver/:version/crud/delete/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write/gridfs/"
to = "/docs/languages/python/pymongo-driver/:version/crud/gridfs/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write/insert/"
to = "/docs/languages/python/pymongo-driver/:version/crud/insert/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write/replace/"
to = "/docs/languages/python/pymongo-driver/:version/crud/replace/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write/transactions/"
to = "/docs/languages/python/pymongo-driver/:version/crud/transactions/"

[[redirects]]
from = "/docs/languages/python/pymongo-driver/:version/write/update/"
to = "/docs/languages/python/pymongo-driver/:version/crud/update/"

#Online versions: ['upcoming', 'current', 'v4.14', 'v4.13', 'v4.12', 'v4.11', 'v4.10', 'v4.9', 'v4.8', 'v4.7']

### CATCH ALLS ( Redirects any /docs/languages/python/pymongo-driver/ page that would've 404ed to the version's landing page)
[[redirects]]
from = "/docs/languages/python/pymongo-driver/upcoming/*"
to = "/docs/languages/python/pymongo-driver/intermediary/upcoming/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/upcoming/*"
to = "/docs/languages/python/pymongo-driver/upcoming"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/current/*"
to = "/docs/languages/python/pymongo-driver/intermediary/current/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/current/*"
to = "/docs/languages/python/pymongo-driver/current"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.14/*"
to = "/docs/languages/python/pymongo-driver/intermediary/v4.14/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/v4.14/*"
to = "/docs/languages/python/pymongo-driver/v4.14"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.13/*"
to = "/docs/languages/python/pymongo-driver/intermediary/v4.13/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/v4.13/*"
to = "/docs/languages/python/pymongo-driver/v4.13"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.12/*"
to = "/docs/languages/python/pymongo-driver/intermediary/v4.12/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/v4.12/*"
to = "/docs/languages/python/pymongo-driver/v4.12"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.11/*"
to = "/docs/languages/python/pymongo-driver/intermediary/v4.11/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/v4.11/*"
to = "/docs/languages/python/pymongo-driver/v4.11"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.10/*"
to = "/docs/languages/python/pymongo-driver/intermediary/v4.10/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/v4.10/*"
to = "/docs/languages/python/pymongo-driver/v4.10"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.9/*"
to = "/docs/languages/python/pymongo-driver/intermediary/v4.9/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/v4.9/*"
to = "/docs/languages/python/pymongo-driver/v4.9"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.8/*"
to = "/docs/languages/python/pymongo-driver/intermediary/v4.8/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/v4.8/*"
to = "/docs/languages/python/pymongo-driver/v4.8"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.7/*"
to = "/docs/languages/python/pymongo-driver/intermediary/v4.7/:splat"
status = 302

[[redirects]]
from = "/docs/languages/python/pymongo-driver/intermediary/v4.7/*"
to = "/docs/languages/python/pymongo-driver/v4.7"
status = 302


### CATCH ALLS (add slug to paths without slug)
[[redirects]]
from = "/docs/languages/python/pymongo-driver/upcoming/*"
to = "/docs/languages/python/pymongo-driver/upcoming/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/current/*"
to = "/docs/languages/python/pymongo-driver/current/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.14/*"
to = "/docs/languages/python/pymongo-driver/v4.14/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.13/*"
to = "/docs/languages/python/pymongo-driver/v4.13/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.12/*"
to = "/docs/languages/python/pymongo-driver/v4.12/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.11/*"
to = "/docs/languages/python/pymongo-driver/v4.11/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.10/*"
to = "/docs/languages/python/pymongo-driver/v4.10/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.9/*"
to = "/docs/languages/python/pymongo-driver/v4.9/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.8/*"
to = "/docs/languages/python/pymongo-driver/v4.8/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/v4.7/*"
to = "/docs/languages/python/pymongo-driver/v4.7/:splat"
status = 200

[[redirects]]
from = "/docs/languages/python/pymongo-driver/*"
to = "/docs/languages/python/pymongo-driver/current/:splat"

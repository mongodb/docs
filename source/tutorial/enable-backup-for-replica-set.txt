=================================
Activate Backup for a Replica Set
=================================

.. default-domain:: mongodb

Overview
--------

|mms| provides continuous backup of your deployment by applying the
deployment's :term:`oplog`. When you enable Backup for your deployment,
|mms| performs an :term:`initial sync` on the deployment. You select
whether |mms| should synchronize off a MongoDB :term:`primary` or
:term:`secondary` in the deployment.

You can specify namespaces you do not want backed up, and you can
customize the :ref:`frequency and retention schedule
<configure-snapshot-retention>` of snapshots. Once you have enabled
Backup, you can stop, restart, and terminate any time.

.. note::

   The replica set must be MongoDB version 2.2.0 or later.

Considerations
--------------

.. include:: /includes/considerations-backup-daemon-enable.rst

.. include:: /includes/considerations-backup-daemon-storage.rst

Prerequisites
-------------

Before enabling backup, ensure that the following is true for all replica
sets that you back up:

- |mms| Monitoring is actively collecting data.

- There is an active :term:`primary`.

- If you explicitly select a sync target, ensure that the sync target is
  accessible on the network and keeping up with replication.

Procedure
---------

.. include:: /includes/steps/backup-activate-replica-set.rst

Your Backup Agent will start polling the specified instance for this replica
set.

Additional Information
----------------------

See :ref:`faq-backup` for more details about backup configuration,
namespaces, and snapshots.

# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2011-2015
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 3.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2015-03-30 14:28-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/tutorial/troubleshoot-replica-sets.txt:3
# 7fb1c91bf9bf4ab48a8abb49ee3baed3
msgid "Troubleshoot Replica Sets"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:7
# 110a2c9ed5a04a3b9f9d6e312dbacf39
msgid "This section describes common strategies for troubleshooting :term:`replica set` deployments."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:13
# 0cb404de3cd44b739ae6e98a59976af2
msgid "Check Replica Set Status"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:15
# 310a40999c3242daa81a5f88a30c7fd1
msgid "To display the current state of the replica set and current state of each member, run the :method:`rs.status()` method in a :program:`mongo` shell connected to the replica set's :term:`primary`. For descriptions of the information displayed by :method:`rs.status()`, see :doc:`/reference/command/replSetGetStatus`."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:23
# f202335a730f421cb1a626b0cea54b36
msgid "The :method:`rs.status()` method is a wrapper that runs the :dbcommand:`replSetGetStatus` database command."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:29
# 6deb54c49fe04cde82e7a49440f517b2
msgid "Check the Replication Lag"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:31
# 49028d1080f040909528834d4e5043da
msgid "Replication lag is a delay between an operation on the :term:`primary` and the application of that operation from the :term:`oplog` to the :term:`secondary`. Replication lag can be a significant issue and can seriously affect MongoDB :term:`replica set` deployments. Excessive replication lag makes \"lagged\" members ineligible to quickly become primary and increases the possibility that distributed read operations will be inconsistent."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:39
# 262350768b6d48b782ab8ed1ae228547
msgid "To check the current length of replication lag:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:41
# dab4a3eb9403477bade8c4c91fdd080b
msgid "In a :program:`mongo` shell connected to the primary, call the :method:`rs.printSlaveReplicationInfo()` method."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:44
# a4c4e52c607c489893d8bb5c84e8bef7
msgid "Returns the ``syncedTo`` value for each member, which shows the time when the last oplog entry was written to the secondary, as shown in the following example:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:57
# 5d5b86f550f2404f92998c62c4e94560
msgid "A :ref:`delayed member <replica-set-delayed-members>` may show as ``0`` seconds behind the primary when the inactivity period on the primary is greater than the :data:`~replSetGetConfig.members[n].slaveDelay` value."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:64
# d780538de5ca4589b8c826447936900c
msgid "The :method:`rs.status()` method is a wrapper around the :dbcommand:`replSetGetStatus` database command."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:67
# d37fc34c66e2433ead56816af1d20637
msgid "Monitor the rate of replication by watching the oplog time in the \"replica\" graph in the :mms-home:`MongoDB Management Service </>`. For more information see the :mms:`documentation for MMS </>`."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:72
# cb7822495f80495e8ab19f7304caaf3a
msgid "Possible causes of replication lag include:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:74
# b17425a39c9b4899a912b8e095cedfc8
msgid "**Network Latency**"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:76
# bc606775abca43868e7f6c49d590406c
msgid "Check the network routes between the members of your set to ensure that there is no packet loss or network routing issue."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:79
# c24aeaabedb747a8a554443735253af9
msgid "Use tools including ``ping`` to test latency between set members and ``traceroute`` to expose the routing of packets network endpoints."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:83
# 4daf070a583142b29ad0bae5a7f26d9d
msgid "**Disk Throughput**"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:85
# fe7d3bbb5b7744ce8eb6bbe11dc3a229
msgid "If the file system and disk device on the secondary is unable to flush data to disk as quickly as the primary, then the secondary will have difficulty keeping state. Disk-related issues are incredibly prevalent on multi-tenant systems, including virtualized instances, and can be transient if the system accesses disk devices over an IP network (as is the case with Amazon's EBS system.)"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:93
# e53383e050ae47809607621386ce7d5e
msgid "Use system-level tools to assess disk status, including ``iostat`` or ``vmstat``."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:96
# 7373f177b3284624b6bd71ed0ce3fce1
msgid "**Concurrency**"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:98
# f009ef8504c3417d85be29e59362e6fd
msgid "In some cases, long-running operations on the primary can block replication on secondaries. For best results, configure :ref:`write concern <write-concern>` to require confirmation of replication to secondaries, as described in :ref:`replica set write concern <replica-set-write-concern>`. This prevents write operations from returning if replication cannot keep up with the write load."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:105
# 2cadb688ac904cb7992318a57953ef8c
msgid "Use the :term:`database profiler` to see if there are slow queries or long-running operations that correspond to the incidences of lag."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:108
# 090256aa37ae466583093f7fbad24639
msgid "**Appropriate Write Concern**"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:110
# 92dabf6053814a44b8890dd2ef11d2ce
msgid "If you are performing a large data ingestion or bulk load operation that requires a large number of writes to the primary, particularly with :ref:`unacknowledged write concern <write-concern-unacknowledged>`, the secondaries will not be able to read the oplog fast enough to keep up with changes."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:116
# dedf1c572295445bab35d2349aa67b75
msgid "To prevent this, require :ref:`write acknowledgment or journaled write concern <write-operations-write-concern>` after every 100, 1,000, or an another interval to provide an opportunity for secondaries to catch up with the primary."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:121
# 7d4c28ba71834f0fb9db0ff09889c0a3
msgid "For more information see:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:123
# ce0264e58dea4c9495f2e8d66db29485
msgid ":ref:`Replica Acknowledge Write Concern <replica-set-write-concern>`"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:124
# 38b204aac07a468faea8651a6c968ec1
msgid ":ref:`Replica Set Write Concern <write-operations-replica-sets>`"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:125
# 04bd08ad2a1e4e049562a2ffed750df5
msgid ":ref:`replica-set-oplog-sizing`"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:130
# 49b6db9da2094c6895183426bf7ea81c
msgid "Test Connections Between all Members"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:132
# ff67778f6b9f42238b2c28d5a0759cea
msgid "All members of a :term:`replica set` must be able to connect to every other member of the set to support replication. Always verify connections in both \"directions.\"  Networking topologies and firewall configurations prevent normal and required connectivity, which can block replication."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:138
# 8b0c085bc644453ea7c89ac6769331c7
msgid "Consider the following example of a bidirectional test of networking:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:0
#: ../source/tutorial/troubleshoot-replica-sets.txt:0
#: ../source/tutorial/troubleshoot-replica-sets.txt:0
# bf4b665028c34aedbe6c4d88174914a4
# d619c82366734d06a96d2c0b44945af4
# 6fe74d8f9ef04bbb8050b9e63a0a25a1
msgid "Example"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:143
# a0fff3f9e52142058500f2048bf16d18
msgid "``m1.example.net``"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:144
# e0072c758709484f8a7dae43392382d3
msgid "``m2.example.net``"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:145
# 9328c663e94b46acaf79eecc4003159f
msgid "``m3.example.net``"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:147
# 3e01e0a8af6446eab87a390dfb910548
msgid "Test the connection from ``m1.example.net`` to the other hosts with the following operation set ``m1.example.net``:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:156
# 475ae27cbb224677859bb89e4553e85d
msgid "Test the connection from ``m2.example.net`` to the other two hosts with the following operation set from ``m2.example.net``, as in:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:166
# 33fb21b9c11b4108927ad81e710a7111
msgid "You have now tested the connection between ``m2.example.net`` and ``m1.example.net`` in both directions."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:169
# 06c96011f5094864a128961422b6c01b
msgid "Test the connection from ``m3.example.net`` to the other two hosts with the following operation set from the ``m3.example.net`` host, as in:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:179
# 09cbf073c3a14c66a0f494b3432415be
msgid "If any connection, in any direction fails, check your networking and firewall configuration and reconfigure your environment to allow these connections."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:184
# f04e55bee8fc458eacc25f79bd7a0ba6
msgid "Socket Exceptions when Rebooting More than One Secondary"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:186
# e40b90e3fb344c6c8bdef5fe81929810
msgid "When you reboot members of a replica set, ensure that the set is able to elect a primary during the maintenance. This means ensuring that a majority of the set's ':data:`~replSetGetConfig.members[n].votes` are available."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:191
# 50324150687b4574ac23727dfa1fd5b0
msgid "When a set's active members can no longer form a majority, the set's :term:`primary` steps down and becomes a :term:`secondary`. The former primary closes all open connections to client applications. Clients attempting to write to the former primary receive socket exceptions and *Connection reset* errors until the set can elect a primary."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:204
# e4c35a7112804a05b4809b69655fc443
msgid "For more information on votes, see :doc:`/core/replica-set-elections`. For related information on connection errors, see :ref:`faq-keepalive`."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:210
# 07ed8c7b281d4c99ac1639d1fa3317c8
msgid "Check the Size of the Oplog"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:212
# 316492f8ba344498b9b2c8e32dcb8ab8
msgid "A larger :term:`oplog` can give a replica set a greater tolerance for lag, and make the set more resilient."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:215
# e5a267be76844e6aa440490b4de4baff
msgid "To check the size of the oplog for a given :term:`replica set` member, connect to the member in a :program:`mongo` shell and run the :method:`rs.printReplicationInfo()` method."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:219
# 0b800471767545fc964879669259793c
msgid "The output displays the size of the oplog and the date ranges of the operations contained in the oplog. In the following example, the oplog is about 10MB and is able to fit about 26 hours (94400 seconds) of operations:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:232
# d14ceeb0acc3485bbd62b792800bb077
msgid "The oplog should be long enough to hold all transactions for the longest downtime you expect on a secondary. At a minimum, an oplog should be able to hold minimum 24 hours of operations; however, many users prefer to have 72 hours or even a week's work of operations."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:237
# 30b0dcf755b74c21862c93fbab4dcbd9
msgid "For more information on how oplog size affects operations, see:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:239
# add1f460ce49489496b98c458eedf4fc
msgid ":ref:`replica-set-oplog-sizing`,"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:240
# bf26fd1162a54d968994ddae196ca8c2
msgid ":ref:`replica-set-delayed-members`, and"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:241
# 318ff6acd5264480990542a0c9de07d9
msgid ":ref:`replica-set-replication-lag`."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:243
# 51a0108240004c409cec13e847d5c174
msgid "You normally want the oplog to be the same size on all members. If you resize the oplog, resize it on all members."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:246
# d1ebeeddfd2b47a69ff2251a1090501e
msgid "To change oplog size, see the :doc:`/tutorial/change-oplog-size` tutorial."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:251
# d57894b109074407ba4256843c07bf0f
msgid "Oplog Entry Timestamp Error"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:255
# 7defc1ab82c24ff3ae464f429200aee5
msgid "Consider the following error in :program:`mongod` output and logs:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:262
# 9fb4a6d1de0344f5b3af6dc61f676725
msgid "Often, an incorrectly typed value in the ``ts`` field in the last :term:`oplog` entry causes this error. The correct data type is Timestamp."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:266
# ebb7056649e8486bb9f00116ad3267a9
msgid "Check the type of the ``ts`` value using the following two queries against the oplog collection:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:275
# 5b0dd9f3d9904f3b827f23703967be4e
msgid "The first query returns the last document in the oplog, while the second returns the last document in the oplog where the ``ts`` value is a Timestamp. The :query:`$type` operator allows you to select :term:`BSON type <BSON types>` 17, is the Timestamp data type."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:280
# 9ba332ebee4e4b67be5475f449bc569b
msgid "If the queries don't return the same document, then the last document in the oplog has the wrong data type in the ``ts`` field."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:285
# bfa8f18bfa194125963004fb2ca1b404
msgid "If the first query returns this as the last oplog entry:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:295
# a4b8413499b94219bb75585e040f0c44
msgid "And the second query returns this as the last entry where ``ts`` has the ``Timestamp`` type:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:306
# 7e2c3084e8b1476cbcfa37025faa6dae
msgid "Then the value for the ``ts`` field in the last oplog entry is of the wrong data type."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:309
# 8d6f25e3c7d34b2fae2a1bd034aa2d5e
msgid "To set the proper type for this value and resolve this issue, use an update operation that resembles the following:"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:317
# cd5db2727add4ea5939bfa873f0a01b9
msgid "Modify the timestamp values as needed based on your oplog entry. This operation may take some period to complete because the update must scan and pull the entire oplog into memory."
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:322
# 21af575cfa4043d588d83a20d4a03526
msgid "Duplicate Key Error on ``local.slaves``"
msgstr ""

#: ../source/tutorial/troubleshoot-replica-sets.txt:326
# 69c0ab83d67a404bb14d6f86c3ccd8fb
msgid "MongoDB 3.0.0 removes the :data:`local.slaves` collection. For ``local.slaves`` error in earlier versions of MongoDB, refer to the appropriate version of the MongoDB Manual."
msgstr ""


========================
db.collection.distinct()
========================

.. default-domain:: mongodb

Definition
----------

.. method:: db.collection.distinct(field, query)

   Finds the distinct
   values for a specified field across a single collection and returns
   the results in an array.

   .. include:: /includes/apiargs/method-db.collection.distinct-param.rst

   The :method:`db.collection.distinct()` method provides a wrapper
   around the :dbcommand:`distinct` command. Results must not be larger
   than the maximum :ref:`BSON size <limit-bson-document-size>`.

Behavior
--------

.. _distinct-method-array:

Array Fields
~~~~~~~~~~~~

.. include:: /includes/extracts/fact-distinct-method-array-field.rst

For an example, see :ref:`distinct-method-array`.

Index Use
~~~~~~~~~

.. include:: /includes/extracts/fact-distinct-method-index-use.rst

Examples
--------

The examples use the ``inventory`` collection that contains the
following documents:

.. code-block:: javascript

   { "_id": 1, "dept": "A", "item": { "sku": "111", "color": "red" }, "sizes": [ "S", "M" ] }
   { "_id": 2, "dept": "A", "item": { "sku": "111", "color": "blue" }, "sizes": [ "M", "L" ] }
   { "_id": 3, "dept": "B", "item": { "sku": "222", "color": "blue" }, "sizes": "S" }
   { "_id": 4, "dept": "A", "item": { "sku": "333", "color": "black" }, "sizes": [ "S" ] }

Return Distinct Values for a Field
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following example returns the distinct values for the field
``dept`` from all documents in the ``inventory`` collection:

.. code-block:: javascript

   db.inventory.distinct( "dept" )

The method returns the following array of distinct ``dept`` values:

.. code-block:: javascript

   [ "A", "B" ]

Return Distinct Values for an Embedded Field
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following example returns the distinct values for the field
``sku``, embedded in the ``item`` field, from all documents in the
``inventory`` collection:

.. code-block:: javascript

   db.inventory.distinct( "item.sku" )

The method returns the following array of distinct ``sku`` values:

.. code-block:: javascript

   [ "111", "222", "333" ]

.. seealso:: :ref:`document-dot-notation` for information on accessing fields
   within embedded documents

.. _distinct-method-array:

Return Distinct Values for an Array Field
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following example returns the distinct values for the field
``sizes`` from all documents in the ``inventory`` collection:

.. code-block:: javascript

   db.inventory.distinct( "sizes" )

The method returns the following array of distinct ``sizes`` values:

.. code-block:: javascript

   [ "M", "S", "L" ]

For information on :method:`~db.collection.distinct()` and array
fields, see the :ref:`Behavior <distinct-method-array>` section.

Specify Query with ``distinct``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following example returns the distinct values for the field
``sku``, embedded in the ``item`` field, from the documents whose
``dept`` is equal to ``"A"``:

.. code-block:: javascript

   db.inventory.distinct( "item.sku", { dept: "A" } )

The method returns the following array of distinct ``sku`` values:

.. code-block:: javascript

   [ "111", "333" ]

level: 4
ref: oa-edit-step1
stepnum: 1
inherit: 
  file: steps-source-project-nav.yaml
  ref: project-nav-clusters-page
--- 
level: 4
ref: oa-edit-step2
stepnum: 2
inherit: 
  file: steps-online-archive-nav.yaml
  ref: oa-tab
---
level: 4
ref: oa-edit-step3
stepnum: 3
inherit: 
  file: steps-online-archive-nav.yaml
  ref: oa-actions
---
level: 4
stepnum: 4
title: "Click :icon-mms:`ellipsis` and make changes to your archiving 
       rule."
ref: oa-edit-rule-window
content: |
  You can change the archiving criteria and the number of days after 
  which to delete archived data.

  - To edit :guilabel:`Date Match` criteria, modify the number of 
    days |service| stores data on the active |service| cluster in the 
    :guilabel:`Archival Age Limit` section.

  - To edit :guilabel:`Custom Criteria`, enter a valid |json| filter 
    to select the documents for archiving. 

    .. note::

       |service| uses the specified query with the 
       :manual:`db.collection.find(query) 
       </reference/method/db.collection.find/>` command. Custom queries 
       do not support JavaScript expressions. Also, you can't pass an 
       empty document ``{}`` to return all documents.

  - To modify the number of days after which |service| deletes archived 
    data, enter or modify the number of days in the :guilabel:`Deletion 
    Age Limit` section. You can specify between ``7`` and ``9125`` 
    days, or leave the field empty to disable the data expiration rule. 
    It takes 24 hours for this change to take effect. 

---
level: 4
stepnum: 4
title: "Click :guilabel:`Save` for the changes to take effect."
ref: oa-edit-rule-save
content: | 

  .. note:: 

     It takes 24 hours for changes to :guilabel:`Deletion Age Limit` to 
     take effect.
     
...

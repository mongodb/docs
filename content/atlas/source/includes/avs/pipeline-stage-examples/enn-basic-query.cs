using MongoDB.Bson;
using MongoDB.Bson.Serialization.Attributes;
using MongoDB.Bson.Serialization.Conventions;
using MongoDB.Driver;
using MongoDB.Driver.Search;

public class vectorSearchBasicQuery 
{
  // define connection to your Atlas cluster
  private const string MongoConnectionString = "<connection-string>";

  public static void Main(string[] args){
    var camelCaseConvention = new ConventionPack { new CamelCaseElementNameConvention() };
    ConventionRegistry.Register("CamelCase", camelCaseConvention, type => true);

    // connect to your Atlas cluster
    var mongoClient = new MongoClient(MongoConnectionString);

    // define namespace
    var moviesDatabase = mongoClient.GetDatabase("sample_mflix");
    var moviesCollection = moviesDatabase.GetCollection<EmbeddedMovie>("embedded_movies");

    // define vector embeddings to search
    var vector = new[] {0.000370218,0.038684014,-0.001893905,-0.060604952,-0.019261414,0.001531242,0.015151238,-0.014103547,-0.019180823,-0.029335376,-0.011846979,0.003868401,0.012894671,-0.002458047,-0.003002041,-0.027078809,-0.019583782,0.041907679,-0.011282837,-0.029818926,0.031914312,-0.020309107,-0.002981893,-0.019906148,-0.012249937,0.041585315,-0.005601123,0.039328746,0.040618215,-0.017085439,-0.038361646,-0.012894671,-0.000352589,0.022565674,-0.011685796,-0.010114257,-0.019906148,-0.012491712,-0.022888042,-0.027401175,0.011846979,-0.002317011,0.045776084,-0.019422598,0.006930886,0.004875797,-0.038845196,0.023855142,0.009630707,-0.045131348,0.003868401,-0.00223642,-0.004392247,0.007212956,-0.019422598,0.046743184,-0.013217038,0.008099466,0.020792658,-0.062861525,-0.047710285,0.009388932,0.001541316,0.050611585,-0.032881413,-0.034009695,0.003002041,-0.005359347,-0.025628159,0.036749814,0.006286152,0.016440706,-0.041262947,0.015715381,-0.012652896,-0.006326448,-0.014909463,0.041262947,-0.025144609,0.00417062,-0.026111709,0.066729926,0.013619997,0.025144609,-0.004291508,0.007978578,-0.009751595,0.003566182,-0.010557512,-0.028207093,-0.015393013,0.048032649,-0.032075495,-0.014425913,0.020792658,0.01096047,0.008502424,-0.013217038,-0.032075495,0.026917625,-0.00165213,0.007172661,-0.063506253,0.034654427,-0.013861772,0.009268044,-0.012894671,-0.023855142,-0.024983425,-0.009308341,0.047710285,-0.010396329,-0.02949656,-0.015151238,0.025144609,0.041262947,0.02095384,-0.004432543,0.011041062,-0.032881413,0.016118338,-0.000478513,0.036749814,0.00417062,-0.040457029,0.017730173,-0.071565427,0.023532774,0.047387917,-0.017730173,0.026272893,-0.001289467,0.000760584,0.004331803,0.017891357,0.012652896,-0.064150989,0.058348387,0.040295847,-0.023532774,-0.012894671,-0.02852946,-0.001914053,0.004734762,-0.017568989,-0.007736803,-0.02095384,-0.014909463,-0.014909463,-0.02047029,0.018858457,-0.005198164,0.000264442,-0.007092069,0.026434075,0.005601123,0.007011477,-0.003928845,-0.004190768,0.023693958,-0.011927571,0.001203838,0.008180057,0.011766387,0.015715381,-0.038522828,-0.019342007,-0.006084673,0.003404999,-0.002256567,-0.003485591,0.009832187,0.023371592,-0.04384188,-0.029818926,0.038361646,0.019906148,-0.004372099,0.004090028,-0.015393013,-0.028690644,-0.033203777,0.025305793,0.015957156,0.005560827,0.021115024,0.008905382,0.018858457,-0.024983425,0.008180057,0.055769451,0.025628159,-0.010557512,-0.000236738,-0.003626626,-0.014184138,0.019664373,-0.00310278,-0.011202246,0.01426473,0.007092069,0.02901301,0.046420816,-0.001994645,0.02192094,0.038845196,-0.036588628,0.021598574,-0.019986739,0.003707218,0.001138358,0.018697273,0.003888549,-0.034976795,0.016360113,-0.031591944,0.002468121,0.015554197,0.001611834,0.013700588,-0.052223418,-0.006004081,0.024338692,-0.024661059,-0.006689111,-0.035460345,0.010235145,0.039489929,-0.007857691,-0.026272893,-0.00261923,-0.011363429,-0.026756443,-0.00640704,0.036749814,0.037233364,-0.006245856,-0.005278756,-0.027562359,-0.049966849,-0.021276208,-0.006971181,-0.013055854,-0.005399643,0.048032649,-0.033203777,-0.002296863,0.023693958,0.026917625,0.000705177,0.022404492,-0.021598574,0.013700588,0.004432543,0.031269576,0.01523183,0.010275441,-0.017568989,-0.023210408,0.050289217,-0.004996685,0.010315737,-0.017004848,0.017246623,-0.00950982,0.017327214,-0.035943896,0.014506505,0.001621908,-0.012491712,0.01096047,-0.011927571,-0.024177508,0.015634788,-0.026595259,0.007897986,-0.014425913,-0.001490946,0.017971948,0.007736803,0.023371592,0.011041062,0.008220353,-0.010557512,0.003888549,-0.034493245,-0.043197148,-0.013942363,-0.008905382,0.002699822,0.025628159,0.001430503,-0.008018874,-0.018858457,0.059315488,-0.018697273,-0.040618215,-0.014022955,0.004815354,0.012008162,-0.014103547,0.030786026,0.043519516,0.005601123,-0.019664373,0.001400281,-0.022082124,-0.018858457,-0.026434075,0.025305793,-0.024822243,0.038039278,-0.011121654,-0.032720227,-0.018374907,-0.005137721,0.001390207,0.028045909,0.03046366,0.00592349,-0.041907679,-0.024338692,-0.042552415,0.006527927,-0.012008162,-0.027401175,0.000337478,0.027884725,0.009912779,-0.011121654,0.004009437,-0.003122928,0.022404492,-0.010275441,-0.004392247,0.00689059,0.01523183,-0.019180823,-0.034170877,-0.040940579,0.021598574,0.005077277,-0.03046366,0.04384188,0.03046366,0.012733487,0.010879879,0.02192094,-0.006930886,-0.016924256,0.038200464,-0.013861772,0.002417751,-0.023532774,-0.016279522,-0.014425913,0.026595259,0.024177508,0.000977174,0.007333844,0.02998011,-0.042230047,0.003042337,0.000730362,0.033364963,-0.002306937,0.005057129,-0.023049224,-0.015876563,-0.022726858,-0.005641419,0.004553431,0.009751595,0.014587097,0.017246623,-0.049966849,0.004613874,0.040457029,0.04287478,0.004090028,-0.00261923,0.002407677,0.039489929,0.002377455,0.007051773,0.025144609,0.024177508,-0.000705177,0.012411121,-0.025789343,-0.024016324,-0.030302476,-0.009268044,-0.00950982,0.017246623,0.013458813,0.008583016,-0.022565674,-0.006366744,0.00427136,-0.007736803,0.020147923,-0.012733487,-0.023693958,-0.006165265,0.035137977,-0.023049224,0.002699822,0.005399643,0.035299163,-0.007817394,0.031914312,-0.000149221,0.015473605,-0.026272893,-0.009711299,-0.002981893,0.000649771,0.064150989,0.032720227,-0.052223418,-0.017810764,-0.010275441,0.027078809,0.030786026,-0.016360113,0.039973479,-0.003122928,-0.038522828,-0.012249937,-0.033848513,-0.027239993,-0.028851826,0.018374907,-0.030302476,-0.048032649,0.011282837,0.058670752,-0.008784494,0.01096047,0.005057129,0.004009437,0.002488269,0.016843664,0.003163224,-0.027884725,-0.001934201,-0.030302476,-0.015715381,-0.001480872,0.011766387,-0.039973479,-0.009227749,-0.003304259,-0.026917625,-0.012088754,-0.014990055,0.03046366,0.007857691,0.042552415,-0.011846979,-0.008421832,-0.001813313,-0.019342007,-0.017166032,0.000972137,0.017004848,-0.018374907,0.037555728,0.019986739,0.018697273,0.014184138,0.027723543,0.023693958,-0.005077277,-0.025305793,0.011846979,0.000705177,0.042552415,-0.037072178,0.010879879,-0.028690644,-0.029818926,0.010879879,-0.014184138,-0.036266264,-0.031591944,-0.033687327,0.022888042,-0.016763072,0.004513135,0.000705177,0.02192094,0.025950525,0.015473605,-0.018374907,0.039489929,0.002881153,-0.037072178,-0.021115024,-0.008623311,-0.002095384,-0.026272893,0.015795972,0.015715381,0.034493245,0.030302476,0.010799287,-0.020228514,0.005137721,0.025628159,0.024016324,-0.008220353,0.002397603,-0.030624844,-0.014587097,0.022082124,-0.006608519,-0.041101765,-0.002478195,-0.031914312,0.017166032,-0.008300944,-0.004593727,-0.001390207,0.032720227,-0.005681715,0.002417751,0.000473476,-0.037878096,-0.046743184,-0.01378118,-0.016198931,-0.007897986,0.006608519,-0.011846979,0.027078809,-0.022243308,0.022565674,-0.007293548,-0.019019639,0.037394546,-0.035299163,-0.02192094,0.008421832,0.000135998,-0.000785769,-0.051578686,0.009227749,-0.015393013,-0.029174194,-0.015554197,0.001400281,0.007495028,-0.002820709,0.041585315,-0.017568989,0.054479986,-0.005641419,-0.024177508,-0.042552415,0.026111709,-0.014909463,0.023855142,-0.022565674,0.010033666,0.028207093,0.010073962,0.007736803,0.015312422,0.037878096,-0.002659526,-0.030786026,0.012652896,-0.019261414,0.005641419,0.019100232,-0.037555728,-0.00013285,-0.020228514,-0.001672278,0.038039278,-0.008703903,0.011282837,0.004351952,0.012894671,0.024177508,0.016440706,0.013942363,-0.008542719,0.005842898,0.001934201,0.00090162,0.014022955,-0.024983425,0.021115024,0.010073962,0.002528564,0.001390207,-0.012008162,0.002347233,-0.015795972,-0.016843664,-0.001793165,-0.016601888,-0.010396329,-0.027239993,-0.001188727,-0.001264282,-0.00950982,0.003928845,0.019503189,0.003485591,-0.026595259,-0.01096047,-0.030302476,-0.00320352,-0.01523183,0.028045909,-0.005641419,0.031108394,-0.01096047,0.011363429,0.016118338,-0.022404492,0.02143739,0.019342007,-0.013378222,0.027723543,-0.034332063,-0.015312422,0.02852946,-0.039489929,0.032720227,0.010154554,0.004956389,0.036105078,0.004775058,-0.038522828,0.019986739,0.020147923,0.009751595,-0.006366744,0.038200464,-0.028690644,-0.007656211,0.020228514,0.00155139,-0.015795972,0.022243308,0.011444021,-0.012491712,0.020550882,0.033687327,0.008865086,0.017730173,0.018213723,0.001682352,-0.043519516,-0.038200464,0.018052539,0.006930886,0.002075236,-0.018536089,0.008703903,-0.000053518,-0.007172661,0.025144609,-0.008099466,0.000120888,-0.016763072,-0.005762306,-0.004432543,-0.00640704,0.05996022,0.031914312,-0.002075236,0.027401175,0.037555728,-0.004311656,-0.01426473,-0.010638104,0.048999749,0.002317011,0.032075495,-0.000120888,-0.00358633,-0.036105078,0.020792658,0.008663607,0.003868401,-0.026917625,-0.02192094,-0.019261414,0.01378118,0.033364963,0.027884725,-0.005883194,-0.009590412,-0.001440577,0.025628159,0.050289217,0.009912779,0.036427446,0.001123247,0.000637178,0.007777099,0.008865086,0.014506505,0.031108394,0.020067332,-0.042552415,-0.006527927,0.005117572,-0.022888042,0.006447336,-0.018294314,-0.004714614,0.009751595,-0.011927571,0.020389698,-0.018939048,0.004210916,0.049644485,-0.014587097,-0.019019639,0.000795843,-0.016440706,0.011202246,0.031430762,0.024177508,0.029818926,-0.014103547,-0.017568989,0.006165265,-0.023855142,0.026434075,-0.012491712,0.008784494,-0.019664373,-0.019261414,-0.003928845,0.013378222,-0.009227749,0.003969141,0.023049224,0.010799287,0.003122928,0.008260649,-0.026595259,-0.055447087,0.016440706,-0.003304259,-0.003707218,-0.046743184,0.018858457,0.000375255,-0.016924256,0.020792658,0.016440706,-0.027401175,0.002740117,-0.007092069,-0.005802602,0.000506217,0.028690644,-0.000493624,0.001571538,0.001400281,0.003263964,-0.001994645,-0.00310278,-0.002327085,-0.01474828,0.026595259,0.008300944,-0.008260649,0.00592349,0.046743184,-0.009308341,-0.016924256,0.011444021,0.01047692,0.006326448,-0.037394546,-0.008583016,-0.020631474,0.024177508,0.015312422,-0.007938282,0.017085439,0.02143739,-0.004130324,0.004372099,-0.004976537,0.048032649,-0.027401175,0.018697273,-0.006447336,0.00203494,0.005963786,-0.014184138,0.009671004,0.007535324,-0.033042595,0.016360113,-0.024338692,-0.008099466,0.024499875,0.000785769,0.010799287,0.028207093,-0.01523183,0.022082124,0.006527927,0.032881413,-0.037716914,0.034009695,-0.009671004,0.016521297,0.032881413,-0.02143739,0.02143739,-0.014184138,0.006124969,-0.028368276,0.038039278,0.026917625,0.012411121,-0.009912779,-0.006366744,-0.047387917,0.016763072,-0.022726858,0.064473353,-0.017730173,0.009832187,0.003445295,0.025789343,-0.003344555,-0.021276208,0.005198164,0.01378118,-0.011202246,-0.006286152,-0.026434075,-0.007817394,0.003969141,-0.037394546,0.006930886,0.000836139,0.000254368,-0.036749814,-0.022082124,-0.006568223,-0.026111709,-0.002175976,0.004069881,-0.037072178,-0.017568989,0.048355017,0.011605204,0.00523846,-0.023210408,-0.01329763,0.000198961,0.02095384,0.004069881,0.000124036,0.008018874,-0.004009437,-0.065440454,-0.008985974,-0.04384188,0.00261923,-0.017407807,0.012733487,-0.017246623,0.031591944,0.007454732,-0.015715381,-0.025789343,0.016843664,-0.008300944,-0.010557512,-0.020550882,-0.028851826,0.002498342,0.028368276,-0.037716914,0.006366744,0.027562359,-0.003062484,0.017649582,0.034493245,-0.003082632,0.017891357,-0.023693958,0.020309107,0.018777864,0.055769451,-0.011363429,-0.018777864,0.022565674,0.001410355,0.035299163,0.012975262,0.007897986,-0.031108394,0.007253252,0.001299541,0.02143739,-0.012249937,0.01047692,-0.020631474,-0.014667688,-0.029657744,-0.002861005,-0.023693958,0.042230047,-0.000669918,0.001531242,-0.005883194,-0.03046366,-0.05286815,0.029174194,-0.009630707,-0.013136446,-0.034654427,0.021598574,-0.012491712,-0.019422598,0.021759758,0.006689111,-0.058670752,0.014828872,0.014345322,-0.016601888,0.038522828,-0.026272893,-0.047710285,-0.003263964,-0.007978578,0.016682481,-0.027078809,-0.000295923,-0.00427136,-0.001198801,0.006850294,-0.006809998,-0.002498342,-0.002065162,0.012169346,-0.001218949,-0.002578934,0.008462128,0.006648815,-0.020147923,0.005399643,0.028207093,-0.014184138,-0.001611834,-0.017649582,-0.032720227,0.009630707,0.006165265,-0.020147923,-0.007132365,-0.027401175,-0.002820709,-0.022888042,0.024499875,-0.011121654,-0.017568989,-0.02095384,-0.017246623,0.018697273,-0.017730173,0.022565674,0.034170877,0.012652896,-0.009388932,0.039328746,-0.000760584,0.009388932,-0.006769702,-0.005278756,0.011282837,0.006366744,-0.049322117,-0.005722011,0.009630707,-0.00223642,-0.004251212,-0.006930886,0.034009695,0.001359985,0.00310278,-0.05286815,-0.004372099,0.027562359,-0.025305793,-0.010073962,-0.013136446,-0.011846979,0.030302476,-0.008018874,-0.025950525,-0.017004848,0.032075495,0.033687327,0.020550882,0.007897986,-0.034976795,-0.018616682,0.001833461,-0.04287478,0.018213723,0.029174194,0.009590412,-0.035621528,0.005762306,0.002065162,0.019180823,0.019180823,0.016521297,-0.017327214,0.023532774,0.012008162,0.032236677,0.002840857,-0.008059169,0.000861324,0.024499875,-0.012733487,0.038361646,0.033364963,0.013942363,0.028368276,0.00203494,0.005057129,0.016198931,0.051256318,-0.000302219,0.004895946,-0.02998011,-0.033203777,-0.005016833,-0.008905382,-0.018697273,0.001994645,-0.008744199,0.022082124,0.036749814,0.004351952,-0.008099466,-0.020228514,-0.019503189,0.020147923,0.028045909,-0.03094721,0.019744964,0.01523183,-0.012008162,0.017166032,0.000685029,0.021276208,-0.004049733,-0.015151238,-0.047710285,0.000488587,-0.016601888,0.003505739,0.001359985,-0.012411121,-0.017407807,-0.016601888,-0.003445295,0.019422598,0.011363429,-0.001113173,-0.008220353,-0.020389698,0.017407807,0.02143739,0.001012433,-0.006245856,-0.024016324,0.024499875,-0.006366744,0.046420816,-0.000397921,0.000098851,-0.010033666,0.007938282,0.014909463,-0.027723543,-0.040295847,-0.059315488,-0.014828872,0.001349911,-0.02998011,0.002357307,0.010154554,0.005097425,0.000992285,0.031753127,-0.009308341,0.008985974,0.013861772,-0.017327214,-0.008865086,0.040618215,-0.003707218,0.005097425,-0.011363429,0.005560827,0.01096047,-0.009388932,-0.015876563,-0.022565674,-0.016440706,0.023210408,-0.004029585,0.017568989,-0.012088754,0.00005037,0.000941915,0.000866361,0.023049224,0.000871398,0.004815354,-0.021598574,0.000730362,0.002981893,0.01047692,-0.004573578,0.014022955,0.025628159,-0.026595259,-0.020067332,0.02143739,0.033848513,-0.009912779,-0.007978578,0.002175976,-0.026917625,0.029174194,-0.025628159,-0.047065549,-0.018133132,-0.00150102,0.052223418,0.012652896,-0.022726858,0.011524612,-0.012814079,0.005359347,-0.007172661,0.013619997,0.03046366,0.013539405,-0.000591845,0.033203777,0.026917625,-0.044164248,-0.014990055,0.00223642,-0.008139761,0.025950525,0.021276208,0.005016833,-0.004976537,-0.01378118,0.00592349,-0.001329763,0.038684014,0.021115024,0.048999749,0.049966849,-0.018777864,0.018616682,0.038200464,-0.026272893,-0.051578686,0.024499875,0.006850294,-0.019180823,-0.00043318,0.020792658,0.003505739,-0.015473605,-0.041262947,-0.026917625,0.067374654,0.004694466,0.001621908,-0.025305793,0.003606478,0.006286152,-0.020309107,0.016118338,-0.019180823,0.007092069,-0.017327214,-0.006326448,-0.007897986,0.000556586,-0.03046366,-0.013136446,0.016843664,-0.024338692,-0.011444021,-0.018777864,0.002840857,-0.036749814,-0.01523183,-0.009630707,-0.013055854,-0.042230047,0.017327214,-0.012814079,-0.016843664,0.002256567,-0.007656211,0.005963786,-0.016360113,0.026756443,0.019986739,-0.022082124,-0.024983425,-0.039489929,0.01378118,-0.012008162,0.000876435,-0.02192094,0.018133132,-0.020792658,-0.019583782,-0.005842898,0.020067332,-0.016763072,0.007414436,0.01096047,-0.000521328,0.01047692,0.00011711,0.035299163,0.038039278,0.049644485,-0.003062484,0.014667688,-0.007454732,0.006809998,-0.018536089,-0.015554197,0.016360113,0.008542719,-0.013217038,0.02998011,0.017810764,0.048999749,0.020309107,-0.017649582,-0.011041062,0.008381536,0.011363429,0.039651114,-0.012411121,0.011685796,0.029657744,-0.011524612,-0.020147923,0.03046366,0.00261923,-0.00320352,-0.002317011,-0.00101747,-0.047387917,0.04287478,-0.011927571,-0.017488398,-0.010638104,-0.006850294,0.01096047,0.033848513,-0.006124969,0.001793165,0.015473605,-0.048999749,0.006447336,0.033848513,0.008663607,-0.024822243,0.005399643,-0.00368707,-0.015070647,-0.009590412,0.001289467,-0.018858457,0.02095384,-0.007414436,-0.008421832,0.000715251,-0.015473605,0.02901301,0.020309107,-0.003707218,0.016360113,-0.008663607,0.018939048,0.001218949,0.00358633,-0.003284112,0.036427446,0.02192094,0.022888042,-0.024661059,0.008341241,-0.024338692,-0.00950982,-0.017166032,0.046743184,-0.018052539,-0.012975262,0.002800561,-0.012008162,-0.013055854,0.028368276,-0.057381287,0.018697273,-0.043519516,-0.018052539,0.001370059,-0.019342007,0.022404492,0.017166032,-0.004351952,0.001611834,-0.028207093,0.001319689,0.025950525,0.025305793,0.017488398,-0.045776084,-0.024983425,0.005117572,-0.010879879,0.020147923,-0.00999337,0.022082124,0.000337478,-0.018777864,0.007978578,-0.039328746,0.000249331,0.04287478,-0.012411121,-0.023532774,0.006527927,0.028207093,0.009348636,0.006084673,-0.007293548,-0.022082124,-0.017085439,0.02047029,-0.007817394,0.003243816,-0.008381536,-0.00523846,-0.004674318,-0.051256318,0.019986739,-0.009912779,0.040940579,0.006527927,-0.002861005,0.035460345,0.026434075,0.015393013,-0.005359347,-0.012733487,-0.025628159,0.019664373,-0.018536089,0.025305793,-0.009912779,0.032397863,0.047387917,0.000674955,0.031108394,-0.008381536,-0.002558786,-0.01096047,-0.004674318,0.002115532,0.000275775,0.02047029,0.036427446,-0.027401175,-0.030302476,-0.000410514,0.006769702,0.024822243,-0.011041062,0.028690644,0.019180823,-0.016763072,-0.037072178,-0.027078809,0.038845196,0.05996022,-0.037233364,-0.000377774,0.006487631,0.006729406,0.033848513,-0.019422598,-0.007092069,-0.001621908,0.026111709,-0.002498342,0.014345322,-0.019342007,0.017891357,-0.014587097,-0.004533283,-0.020147923,0.001430503,-0.009711299,0.049644485,0.001410355,-0.010315737,0.003082632,-0.00271997,-0.023371592,0.006729406,0.025144609,0.023210408,0.004976537,-0.000278293,-0.025305793,0.012330529,-0.019019639,-0.00640704,-0.006286152,0.017971948,-0.002327085,0.016924256,-0.015795972,-0.012491712,-0.011282837,0.003022189,0.01047692,0.027239993,0.012008162,0.003263964,0.026434075,0.035621528,-0.024338692,-0.012652896,0.024822243,0.000654807,0.028368276,0.011202246,0.016440706,0.016360113,-0.026917625,-0.019744964,0.013217038,0.011363429,-0.003928845,-0.028690644,0.001440577,-0.037716914,0.023693958,0.018374907,0.011927571,-0.042552415,0.012169346,-0.009953074,0.011444021,0.019503189,-0.016279522,0.003243816,-0.022888042,-0.024016324,-0.007897986,-0.006487631,-0.010638104,-0.041907679,-0.025950525,-0.032881413,-0.022404492,-0.03094721,0.01378118,0.043519516,-0.010718695,0.020067332,0.037555728,-0.000215331,0.019664373,0.004916093,-0.040940579,-0.048999749,0.017407807,0.006648815,-0.014587097,-0.014506505,-0.047387917,-0.006729406,0.015393013,0.028851826,0.024983425,-0.009832187,-0.004996685,0.025466975,0.015070647,-0.004593727,-0.010073962,0.000685029,0.041262947,-0.006326448,0.021598574,0.025466975,0.02143739,-0.007253252,0.029174194,-0.012169346,0.011605204,-0.008623311,-0.002024866,-0.001450651,0.025144609,0.004009437,0.02852946,-0.003002041,-0.02143739,-0.027401175,-0.02998011,0.023210408,0.016279522,0.017166032,-0.020228514,0.011202246,-0.014103547,0.009590412,-0.014506505,-0.049966849,-0.009872482,0.002558786,-0.036105078,0.004009437,0.010718695,-0.004996685,0.003707218,-0.008663607,0.012894671,-0.003022189,-0.002901301,0.000886509,0.017327214,-0.027401175,-0.016601888,-0.010799287,-0.005883194,-0.026595259,-0.033526145,-0.004513135,0.010396329,0.017971948,-0.035782713,-0.041585315,-0.009026269,-0.001349911,0.005641419,-0.001329763,0.003747514,-0.005319052,-0.005883194,-0.000277034,0.021115024,0.02901301,-0.027562359,0.044486616,-0.071887791,-0.002861005,-0.003404999,-0.005319052,0.003022189,0.024499875,0.034493245,-0.009106861,0.016037747,-0.005439939,0.050289217,0.003404999,-0.013619997,0.021115024,0.021759758,0.022243308,-0.002578934,-0.000579253,-0.054157618,-0.012088754,0.00737414,-0.030786026,-0.019825557,0.003969141,-0.002558786,0.022243308,0.029335376,-0.024016324,0.006527927,0.012814079,-0.019019639,0.012249937,-0.004694466,-0.002266641,-0.014022955,0.023049224,-0.020631474,-0.025466975,-0.037072178,0.002266641,-0.013378222,0.006124969,0.012491712,0.017407807,-0.009872482,0.031108394,0.010315737,0.032881413,-0.006648815,0.009832187,0.024338692,0.03094721,0.016279522,-0.022726858,0.03094721,-0.040134665,0.008139761,0.006809998,0.018294314,0.01523183,-0.03046366,-0.007172661,-0.007293548,0.003243816,0.006124969,-0.006729406,-0.003183372,0.047387917,0.006124969,-0.000375255,-0.024661059,0.022243308,-0.004492987,0.012330529,-0.02949656,0.027078809,-0.021759758,-0.004069881,0.013700588,-0.033526145,-0.009066566,-0.023049224,0.017891357,0.007212956,0.029818926,-0.023049224,-0.006689111,0.030302476,0.009147157,-0.005439939,-0.003042337,0.034815613,0.027078809,-0.055447087,-0.018616682,0.016763072,-0.013136446,-0.018616682,0.034009695,-0.003465443,-0.035621528,-0.002004718,0.01329763,0.023532774,-0.003525887,-0.005722011,-0.011363429,0.027239993,-0.016601888,-0.015473605,0.022565674,0.013136446,-0.021598574,-0.002538638,0.033203777,0.006245856,0.020631474,-0.001390207,0.013942363,-0.022082124,0.012733487,-0.006769702,0.024661059,-0.026595259,-0.003485591,-0.004513135,0.037555728,0.018133132,-0.026595259,0.024338692,-0.033687327,0.016924256,0.006608519,0.022243308,-0.033848513,-0.028368276,0.002538638,0.012894671,0.001183691,0.014990055,0.028207093,0.010879879,-0.012411121,0.012975262,0.006286152,0.002397603,-0.036427446,0.015070647,-0.030141294,0.015312422,0.017568989,-0.009348636,0.019583782,0.039651114,-0.006165265,0.004916093,-0.021276208,0.011766387,0.029335376,-0.004190768,-0.012894671,0.026756443,0.007092069,-0.024016324,-0.037716914,-0.001309615,0.048999749,-0.01474828,-0.032236677,0.025466975,0.011363429,0.043519516,0.007575619,0.034332063,-0.019019639,-0.011766387,-0.018858457,0.000056351,-0.004492987,0.000554068,0.003364703,-0.025144609,-0.062216789,0.001254208,0.033364963,0.005681715,0.02143739,0.007414436,-0.023855142,0.013539405,-0.032236677,-0.007857691,0.009348636,0.018536089,-0.018697273,0.031269576,-0.018616682,0.018455498,-0.006124969,-0.003143076,-0.010638104,0.000982211,0.023855142,-0.01047692,0.023049224,0.00640704,0.021115024,-0.009872482,0.019261414,0.026756443,-0.00427136,0.008502424,0.019906148,0.045776084,-0.008824791,0.005963786,-0.012814079,-0.016521297,-0.012249937,0.010033666,-0.017166032,0.014184138,-0.022726858,0.010879879,0.034493245,0.001359985,0.00640704,0.000972137,-0.027078809,0.013619997,-0.030302476,0.009388932,-0.001007396,0.016440706,0.017488398,-0.006447336,0.022888042,-0.00737414,-0.006366744,-0.005883194,-0.007454732,0.027562359,0.005802602,-0.003747514,-0.026434075,0.018213723,0.008462128,-0.003848253,-0.004049733,-0.014990055,-0.006004081,-0.01047692,-0.014425913,0.030624844,-0.015715381,-0.024338692,0.007495028,0.002820709,-0.021276208,-0.005399643,-0.057381287,-0.061249688,-0.013055854,0.02901301,0.01474828,-0.024177508,-0.026595259,0.012411121,-0.011927571,-0.007253252,-0.011927571,0.015070647,-0.019100232,0.015795972,-0.01096047,-0.024822243,0.003989289,0.012088754,-0.039006379,-0.050611585,0.000295923,-0.010718695,0.017327214,-0.01426473,-0.010194849,-0.044486616,0.015554197,-0.019744964,-0.005157868,0.006648815,-0.013539405,-0.024499875,0.018939048,0.039328746,-0.009429228,0.011363429,0.069308855,-0.001193765,0.030302476,-0.012572304,0.024983425,-0.008623311,0.00320352,0.039328746,0.008824791,-0.024822243,-0.00523846,0.013619997,-0.008300944,-0.038845196,0.00950982,-0.023855142,-0.004936241,0.031108394,-0.033526145,-0.006044377,-0.000785769,-0.013458813,-0.051256318,0.030302476,-0.013700588,0.02192094,0.003626626,-0.018777864,-0.014990055,0.013055854,-0.007736803,-0.010073962,-0.015312422,0.034493245,-0.011282837,-0.040134665,-0.023855142,0.006689111,-0.003022189,0.026111709,-0.017568989,-0.014506505,-0.011444021,0.005681715,0.038845196,0.016279522,-0.002407677,-0.00640704,0.003566182,-0.005157868,0.012652896,-0.013619997,-0.013458813,-0.004875797,0.002367381,-0.009630707,-0.009388932,0.000337478,-0.019019639,-0.009671004,-0.034332063,-0.013861772,0.018213723,0.007736803,0.005439939,-0.042230047,0.040618215,0.007051773,-0.013619997,-0.026756443,0.020309107,0.002014792,0.002206198,0.003062484,-0.027562359,0.048677385,-0.005802602,-0.042230047,-0.011282837,-0.02047029,0.013458813,0.015312422,-0.010033666,-0.031914312,-0.001133321,-0.039006379,0.003727366,-0.032559045,0.008623311,0.019664373,0.057058919,-0.016037747,0.009106861,-0.023855142,0.012975262,-0.015876563,0.00689059,-0.01426473,0.039006379,-0.026595259,-0.008059169,-0.028690644,0.030302476,-0.028045909,0.01378118,-0.003344555,0.006971181,-0.025950525,0.000871398,-0.017568989,-0.024983425,-0.002458047,-0.024338692,-0.001642056,-0.012814079,0.000181331,0.017246623,0.015070647,-0.008744199,0.030141294,0.025789343,-0.016118338,-0.04384188,-0.042230047,-0.039167564,0.022726858,-0.023210408,0.009711299,0.009469524,0.019503189,-0.007938282,-0.001239097,0.00737414,0.029335376,0.014828872,0.043519516,-0.029335376,-0.04287478,0.017166032,-0.015957156,0.004210916,0.029335376,-0.035299163,0.032559045,-0.02095384,0.026756443,-0.023210408,-0.001037618,0.008220353,-0.031914312,0.002216272,-0.030141294,0.007092069,0.015554197,-0.001229023,-0.014022955,-0.002981893,-0.006326448,-0.034976795,0.012411121,-0.024499875,-0.026111709,0.015070647,0.036427446,0.01523183,0.060282588};
    var options = new VectorSearchOptions<EmbeddedMovie>() {
        IndexName = "vector_index",
        Exact = true
    };

    // run query
    var results = moviesCollection.Aggregate()
                .VectorSearch(m => m.Embedding, vector, 10, options)
                .Project(Builders<EmbeddedMovie>.Projection
                  .Include(m => m.Title)
                  .Include(movie => movie.Plot))
                .ToList();

    // print results
    foreach (var movie in results)
      {
        Console.WriteLine(movie.ToJson());
      }
  }
}

[BsonIgnoreExtraElements]
public class EmbeddedMovie
{
    [BsonIgnoreIfDefault]
    public string Title { get; set; }
    public string Plot { get; set; }
    [BsonElement("plot_embedding_voyage_3_large")]
    public double[] Embedding { get; set; }
}
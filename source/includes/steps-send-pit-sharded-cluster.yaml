title: "Restore the snapshot data files to the destination host."
stepnum: 1
level: 4
ref: copy
content: |
  Extract the snapshot archive for the :term:`config server` and for
  each :term:`shard` to a temporary location.

  .. example::

     .. code-block:: sh

        tar -xvf {backupRestoreName}.tar.gz
        mv {backupRestoreName} {temp-database-path}
---
title: "Run the Point-in-Time Restore Tool (Point-in-Time Restore Only)."
stepnum: 2
level: 4
ref: pit-binary
content: | 

  a. Download the PIT Restore Tool to your host.

     .. note::

        If you closed the restore panel, click :guilabel:`Backup`, then
        :guilabel:`More` and then :guilabel:`Download PIT Restore Tool`.

  b. Run the PIT Restore Tool on your destination host. Run it once for
     the config server and each shard.

     .. only:: onprem

        .. class:: copyable-code
        .. code-block:: sh

          ./mongodb-mms-pit-restore -https -host {targetHost} -port {targetPort} -opStart {opLogStartTimeStamp} -opEnd {opLogEndTimeStamp} -logFile pitLog.log -oplogSourceAddr {opsManagerHost}:{port} -apiKey {apiKey}

     .. only:: cloud

        .. class:: copyable-code
        .. code-block:: sh

          ./mongodb-mms-pit-restore -https -host {targetHost} -port {targetPort} -opStart {opLogStartTimeStamp} -opEnd {opLogEndTimeStamp} -logFile pitLog.log -oplogSourceAddr api-backup-dev.mongodb.com -apiKey {apiKey}
---
title: "Copy the completed snapshots to restore."
stepnum: 3
level: 4
ref: distribute
content: |

  - For the config server, copy the restored config server database to
    the working database path of each :term:`replica set` member.

  - For each shard, copy the restored shard database to the working
    database path of each replica set member.

...
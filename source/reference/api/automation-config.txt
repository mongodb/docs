========================
Automation Configuration
========================

.. default-domain:: mongodb

Overview
--------

The Public API provides the ``automationConfig`` resource to let you
manipulate a groupâ€™s deployments. The resource lets you update the
:doc:`automation configuration </reference/cluster-configuration>` that
defines a group's goal state. When you submit a new configuration,
the |application| adjusts the current state of the system to match the
configuration.

.. _concurrent-cluster-config:

Concurrent Modifications Warning
--------------------------------

There is no protection in the Public API to prevent concurrent
modifications. If two administrators both start with a configuration based
on the current version, make their own modifications, and then submit
their modifications, the later modification wins.

Sample Entity
-------------

See the :doc:`/reference/cluster-configuration-example`.

Entity Fields
-------------

See:

- :doc:`/reference/cluster-configuration`.

- :doc:`/reference/cluster-configuration-structure`.

Operations
----------

- ``GET /api/public/v1.0/groups/GROUP-ID/automationConfig``

  Retrieve the current :doc:`automation configuration
  </reference/cluster-configuration>` for a group.

- ``PUT /api/public/v1.0/groups/GROUP-ID/automationConfig``

  Update a group's :doc:`automation configuration
  </reference/cluster-configuration>`.

  For steps for updating an automation configuration, see
  :doc:`/tutorial/create-cluster-with-api`.

Example
-------

Update a host: ::

  curl -u "username:apiKey" -H "Content-Type: application/json" "https://mms.mongodb.com/api/public/v1.0/groups/533c5895b91030606f21033a/automationConfig --digest -X PUT -d @updated-cluster.json -i

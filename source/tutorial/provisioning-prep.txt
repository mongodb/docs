========================
Deployment Prerequisites
========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

System Requirements
-------------------

Hardware and Software
~~~~~~~~~~~~~~~~~~~~~

Each server must meet the following requirements.

- At least 10 GB of free disk space plus whatever space is necessary to
  hold your MongoDB data.

- At least 4 GB of RAM.

- If you use Amazon Web Services (AWS) EC2 instances, we recommend at
  least an ``m3.medium`` instance.

- The Automation Agent must be installed only on 64-bit architectures.

.. include:: /includes/prerequisites-automation-agent-servers.rst

Automation Agent Permissions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The Automation Agent must have permission:

- To stop the MongoDB processes. The Automation Agent restarts the
  processes using the agent's own set of MongoDB binaries. 

  If you had installed MongoDB with a package manager, use the same
  package manager to install the Automation Agent. This gives the agent
  the same owner as MongoDB.

- To ``Read`` and ``Write`` the MongoDB data directories and log
  directories.

- Set to the same user ID (UID) and group ID (GID) of the MongoDB
  process to be automated. If the MongoDB processes to be automated are
  not running as the same user and group, the Agent cannot manage those
  processes.

  .. example::
     If your Automation Agent runs as the ``mongod`` user in the      ``mongod`` group, the MongoDB process must also run as the
     ``mongod`` user in the ``mongod`` group.

  .. note::
     On Microsoft Windows systems, the Automation Agent, and therefore
     the ``mongod`` or ``mongos`` services it manages, run as Windows
     services as the ``SYSTEM`` user. The existing MongoDB process
     should run as either ``SYSTEM`` or ``Administrator`` before adding
     it to automation.

Installation Options
--------------------

Installing MongoDB Enterprise Dependencies
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. important:: 

   If you run :term:`MongoDB Enterprise`, you must manually install a
   set of dependencies to each server *before installing MongoDB*.
   Automation may fail if these dependencies are not installed. 

..    The MongoDB manual provides the appropriate command to install the
..    dependencies.

.. See the link for the server's operating system:

.. .. include:: /includes/list-links-per-os-for-enterprise-dependencies.rst

Red Hat Enterprise Linux/CentOS
+++++++++++++++++++++++++++++++

Version 6
`````````
.. class:: copyable-code
.. code-block:: sh

   yum install cyrus-sasl cyrus-sasl-plain cyrus-sasl-gssapi krb5-libs libcurl libpcap net-snmp openldap openssl

Version 7
`````````
.. class:: copyable-code
.. code-block:: sh

   yum install cyrus-sasl cyrus-sasl-gssapi cyrus-sasl-plain krb5-libs libcurl libpcap lm_sensors-libs net-snmp net-snmp-agent-libs openldap openssl rpm-libs tcp_wrappers-libs

Ubuntu & Debian
+++++++++++++++

.. class:: copyable-code
.. code-block:: sh

   sudo apt-get install libcurl3 libgssapi-krb5-2 libkrb5-dbg libldap-2.4-2 libpcap0.8 libpci3 libsasl2-2 libsensors4 libsnmp30 libssl1.0.0 libwrap0

SUSE
++++

.. class:: copyable-code
.. code-block:: sh

   zypper install cyrus-sasl cyrus-sasl-plain cyrus-sasl-gssapi krb5 libcurl4 libldap-2_4-2 libopenssl1_0_0 libsensors4 libsnmp30 libpcap1 libwrap0 rpm

Amazon Linux
++++++++++++

.. class:: copyable-code
.. code-block:: sh

   yum install cyrus-sasl cyrus-sasl-plain cyrus-sasl-gssapi krb5-libs libcurl libpcap net-snmp openldap openssl

.. include:: /includes/prerequisites-automation-agent-new-deployment.rst

.. include:: /includes/prerequisites-automation-agent-monitored-deployment.rst



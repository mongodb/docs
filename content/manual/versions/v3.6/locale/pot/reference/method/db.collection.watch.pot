# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2008-2019
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 3.6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2019-03-19 11:30-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/reference/method/db.collection.watch.txt:3
msgid "db.collection.watch()"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:14
msgid "Definition"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:18
msgid "Opens a :ref:`change stream cursor <changeStreams>` on the collection."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:7
msgid "Parameter"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:9
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:9
msgid "Type"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:11
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:11
msgid "Description"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:13
msgid "``pipeline``"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:15
msgid "array"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:17
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:48
msgid "A sequence of one or more of the following aggregation stages:"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:19
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:50
msgid ":pipeline:`$match`"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:20
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:51
msgid ":pipeline:`$project`"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:21
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:52
msgid ":pipeline:`$addFields`"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:22
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:53
msgid ":pipeline:`$replaceRoot`"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:23
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:54
msgid ":pipeline:`$redact`"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:25
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:56
msgid "See :doc:`/aggregation` for complete documentation on the aggregation framework."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:30
msgid "``options``"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:32
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:15
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:68
msgid "document"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:34
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:63
msgid "Optional. Additional options that modify the behavior of :method:`~db.collection.watch()`."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:37
#: ../source/includes/apiargs/method-db.collection.watch-param.rst:66
msgid "You must pass an empty array ``[]`` to the ``pipeline`` parameter if you are not specifying a pipeline but are passing the ``options`` document."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:0
msgid "param array pipeline"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-param.rst:0
msgid "param document options"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:23
msgid "The ``options`` document can contain the following fields and values:"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:7
msgid "Field"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:13
msgid "``resumeAfter``"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:17
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:81
msgid "Optional. Directs :method:`~db.collection.watch` to attempt resuming notifications starting after the operation specified in the resume token."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:21
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:85
msgid "Each change stream event document includes a resume token as the ``_id`` field. Pass the *entire* ``_id`` field of the change event document that represents the operation you want to resume after."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:27
msgid "``fullDocument``"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:29
msgid "string"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:31
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:93
msgid "Optional. By default, :method:`~db.collection.watch()` returns the delta of those fields modified by an update operation, instead of the entire updated document."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:35
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:97
msgid "Set ``fullDocument`` to ``\"updateLookup\"`` to direct :method:`~db.collection.watch()` to look up the most current majority-committed version of the updated document. :method:`~db.collection.watch()` returns a ``fullDocument`` field with the document lookup in addition to the ``updateDescription`` delta."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:43
msgid "``batchSize``"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:45
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:56
msgid "int"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:47
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:107
msgid "Optional. Specifies the maximum number of change events to return in each batch of the response from the MongoDB cluster."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:50
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:110
msgid "Has the same functionality as :method:`cursor.batchSize()`."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:54
msgid "``maxAwaitTimeMS``"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:58
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:116
msgid "Optional. The maximum amount of time in milliseconds the server waits for new data changes to report to the change stream cursor before returning an empty batch."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:62
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:120
msgid "Defaults to ``1000`` milliseconds."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:66
msgid "``collation``"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:70
#: ../source/includes/apiargs/method-db.collection.watch-options.rst:126
msgid "Optional. Pass a :ref:`collation document <collation-document-fields>` to specify a :doc:`collation </reference/collation>` for the change stream cursor."
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:0
msgid "field document resumeAfter"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:0
msgid "field string fullDocument"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:0
msgid "field int batchSize"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:0
msgid "field int maxAwaitTimeMS"
msgstr ""

#: ../source/includes/apiargs/method-db.collection.watch-options.rst:0
msgid "field document collation"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:0
msgid "Returns"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:27
msgid "A :term:`cursor` that remains open as long as a connection to the MongoDB deployment remains open *and* the collection exists. See :doc:`/reference/change-events` for examples of change event documents."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:34
msgid "Behavior"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:36
msgid ":method:`db.collection.watch()` only notifies on data changes that have persisted to a majority of data-bearing members."
msgstr ""

#: ../source/includes/extracts/changestream-cursor-open.rst:2
msgid "The :ref:`change stream cursor <changeStreams>` remains open until one of the following occurs:"
msgstr ""

#: ../source/includes/extracts/changestream-cursor-open.rst:5
msgid "The cursor is explicitly closed."
msgstr ""

#: ../source/includes/extracts/changestream-cursor-open.rst:7
msgid "An :ref:`invalidate event <change-event-invalidate>` occurs; for example, a collection drop or rename."
msgstr ""

#: ../source/includes/extracts/changestream-cursor-open.rst:10
msgid "The connection to the MongoDB deployment is closed."
msgstr ""

#: ../source/includes/extracts/changestream-remove-shard.rst:2
#: ../source/includes/extracts/changestream-remove-shard.rst:2
msgid "If the deployment is a sharded cluster, a shard removal may cause an open change stream cursor to close, and the closed change stream cursor may not be fully resumable."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:41
msgid "You can only use :method:`db.collection.watch()` with the :ref:`Wired Tiger storage engine <storage-wiredtiger>`."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:44
msgid ":method:`db.collection.watch()` is available for replica sets and sharded clusters:"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:47
msgid "For a replica set, you can issue :method:`db.watch()` on any data-bearing member."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:50
msgid "For a sharded cluster, you must issue :method:`db.watch()` on a :binary:`~bin.mongos` instance."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:54
msgid "Availability"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:56
msgid "Change stream is only available if :readconcern:`\"majority\"` read concern support is enabled (default)."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:60
msgid "Resumability"
msgstr ""

#: ../source/includes/extracts/changestream-resume.rst:2
msgid "Unlike the MongoDB :ecosystem:`drivers </drivers>`, the :binary:`~bin.mongo` shell does not automatically attempt to resume a change stream cursor after an error. The MongoDB drivers make *one* attempt to automatically resume a change stream cursor after certain errors."
msgstr ""

#: ../source/includes/extracts/changestream-resume.rst:9
msgid "|watchmethod| uses information stored in the oplog to produce the change event description and generate a resume token associated to that operation. If the operation identified by the resume token passed to the ``resumeAfter`` option has already dropped off the :term:`oplog`, |watchmethod| cannot resume the change stream."
msgstr ""

#: ../source/includes/extracts/changestream-resume.rst:15
msgid "See :ref:`change-stream-resume` for more information on resuming a change stream."
msgstr ""

#: ../source/includes/extracts/changestream-invalid-events.rst:2
msgid "You cannot resume a change stream after an :ref:`invalidate event <change-event-invalidate>` (for example, a collection drop or rename) closes the stream."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:68
msgid "Full Document Lookup of Update Operations"
msgstr ""

#: ../source/includes/extracts/changestream-full-document-lookup.rst:1
msgid "By default, the :ref:`change stream cursor <changeStreams>` returns specific field changes/deltas for update operations. You can also configure the change stream to look up and return the current majority-committed version of the changed document. Depending on other write operations that may have occurred between the update and the lookup, the returned document may differ significantly from the document at the time of the update."
msgstr ""

#: ../source/includes/extracts/changestream-full-document-lookup.rst:9
msgid "Depending on the number of changes applied during the update operation and the size of the full document, there is a risk that the size of the change event document for an update operation is greater than the 16MB BSON document limit. If this occurs, the server closes the change stream cursor and returns an error."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:73
msgid "Access Control"
msgstr ""

#: ../source/includes/extracts/changestream-access-control-collection.rst:2
msgid "For deployments enforcing :ref:`authentication <authentication>` and :ref:`authorization <authorization>`, authenticate as a user with the :authaction:`changeStream` and :authaction:`find` privilege actions on the collection against which you want to open a change stream."
msgstr ""

#: ../source/includes/extracts/changestream-access-control-collection.rst:8
msgid "The :authrole:`read` :ref:`built-in role <built-in-roles>` includes the required privileges to support opening a change stream against a collection. Any built-in role or :ref:`user-defined role <user-defined-roles>` that inherits the :authrole:`read` role can also support opening change streams against a collection."
msgstr ""

#: ../source/includes/extracts/changestream-access-control-collection.rst:15
msgid "Alternatively, use :method:`db.createRole` to create a user-defined role that grants the :authaction:`changeStream` and :authaction:`find` privilege actions on the :ref:`target collection <resource-specific-db-collection>`. See :ref:`user-defined-roles` for more complete documentation."
msgstr ""

#: ../source/includes/extracts/changestream-access-control-collection.rst:21
msgid "To associate a built-in role or user-defined role to an existing user, use the :method:`db.grantRolesToUser()` or :method:`db.updateUser()` methods. You can also specify the role when creating a new user using :method:`db.createUser()`."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:78
msgid "Examples"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:81
msgid "Open a Change Stream"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:83
msgid "The following operation opens a change stream cursor against the ``data.sensors`` collection:"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:90
#: ../source/reference/method/db.collection.watch.txt:124
#: ../source/reference/method/db.collection.watch.txt:161
#: ../source/reference/method/db.collection.watch.txt:212
msgid "Iterate the cursor to check for new events. Use the :method:`cursor.isExhausted()` method to ensure the loop only exits if the change stream cursor is closed *and* there are no objects remaining in the latest batch:"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:103
#: ../source/reference/method/db.collection.watch.txt:143
msgid "For complete documentation on change stream output, see :ref:`change-stream-output`."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:107
msgid "Change Stream with Full Document Update Lookup"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:109
msgid "Set the ``fullDocument`` option to ``\"updateLookup\"`` to direct the change stream cursor to lookup the most current majority-committed version of the document associated to an update change stream event."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:113
msgid "The following operation opens a change stream cursor against the ``data.sensors`` collection using the ``fullDocument : \"updateLookup\"`` option."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:137
msgid "For any update operation, the change event returns the result of the document lookup in the ``fullDocument`` field."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:140
msgid "For an example of the full document update output, see  :ref:`change stream update event <change-streams-update-event>`."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:147
msgid "Change Stream with Aggregation Pipeline Filter"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:149
msgid "The following operation opens a change stream cursor against the ``data.sensors`` collection using an aggregation pipeline to filter only ``insert`` events:"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:174
msgid "The change stream cursor only returns change events where the ``operationType`` is ``insert``. For complete documentation on change stream output, see :ref:`change-stream-output`."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:179
msgid "Resuming a Change Stream"
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:181
msgid "Every  document returned by a change stream cursor includes a resume token as the ``_id`` field. To resume a change stream, pass the entire ``_id`` document of the change event you want to resume from to the ``resumeAfter`` option of :method:`~db.collection.watch()`."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:186
msgid "The following operation resumes a change stream cursor against the ``data.sensors`` collection using a resume token. This assumes that the operation that generated the resume token has not rolled off the cluster's oplog."
msgstr ""

#: ../source/reference/method/db.collection.watch.txt:225
msgid "See :ref:`change-stream-resume` for complete documentation on resuming a change stream."
msgstr ""


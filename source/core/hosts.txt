.. index:: hosts-tab

=====
Hosts
=====

.. default-domain:: mongodb

The :guilabel:`Hosts` pages are the primary location for monitoring information
in the MMS console. This tabbed interface provides access to all of your
monitored objects.

Interface
---------

Tabs
~~~~

The tabs you see depend on the types of processes in your deployment. The main
tabs:

- **Hosts** displays all ``mongod`` instances.

- **Mongos** displays all ``mongos`` instances.

- **Configs** displays all database configuration servers.

- **Host Mapping** shows the mapping between system hostnames and
  the names provided by the monitored process (e.g. ``mongod`` and
  ``mongos``). For more information about creating host
  aliases and labels, see :ref:`Creating Host Aliases <creating-host-aliases>`.

The **AGENTS** section of the :guilabel:`Hosts` page includes these tabs:

- **Monitoring Agents** lists the Monitoring agents attached to this MMS account.
  For more information, see :ref:`Monitoring Agents <hosts-agents>`.

- **Monitoring Agent Log** displays a log of the Monitoring agent's activity.

The Hosts Table
~~~~~~~~~~~~~~~

The :guilabel:`Hosts`, :guilabel:`Mongos`, and :guilabel:`Configs` pages list
monitored resources as a table with these headings:

- **Last Ping:** the last time this agent sent a ping to the MMS servers.

- **Host:** the name of the host running the agent. When clicked,
  charts of this host display.

- **Type:** the type of host, for example, :replstate:`PRIMARY`,
  :replstate:`SECONDARY`, :replstate:`STANDALONE`, and
  :replstate:`ARBITER`. When the host recovers, the rectangle flag
  turns yellow and displays :replstate:`RECOVERING`. When the host
  returns a fatal error, the flag displays :replstate:`FATAL`. The
  flag also can display ``NO DATA``.

- **Cluster:** the cluster name. When clicked, one chart displays that
  show all shards of this cluster on one graph.

- **Shard:** the cluster name.

- **Repl Set:** the replica set name name. When clicked, charts
  dispaly for all members of that replica set.

- **Up Since:** the date the host first pinged MMS.

- **Version:** the version of the MongoDB running on this
  instance.

.. _hosts-agents:

The Monitoring Agents Table
~~~~~~~~~~~~~~~~~~~~~~~~~~~

The :guilabel:`Monitoring Agents` tab lists software agent information as a
table with these headings:

- **Agent Hostname:** the hostname for the agent.

- **Agent IP:** the IP address of the running agent.

- **Hosts:** the number of MongoDB instances this agent monitors.

- **Ping Count:** the number of pings (i.e. data payloads) sent by the
  agent since midnight GMT. Typically agents send pings every minute.

- **Conf Count:** the number of configuration requests sent by the
  agent since midnight GMT. Typically agents request configuration
  updates every two minutes.

- **Version:** the version of the agent software running on this agent
  instance.

- **Last Ping:** the date and time of the last ping from the agent.

- **Last Conf:** the last time the agent made a configuration request
  of the MMS servers.

Remember, if you have more than one Monitoring agent, only one agent
actively monitors MongoDB instances at once. See :ref:`Monitoring
Architecture <monitoring-architecture>` for more information.

Messages
~~~~~~~~

An orange yield sign icon displays under a host name on the :guilabel:`Hosts`,
:guilabel:`Mongos`, or :guilabel:`Configs` pages when:

- |monitoring| has detected startup warnings for this host. You can see the
  warning in the last ping for the host.

- |monitoring| suspects the host has a low ``ulimit`` setting less than
  ``1024``. |monitoring| infers the host's ``ulimit`` setting using the total
  number of available and current connections. See the :manual:`UNIX ulimit
  Settings </reference/ulimit/>` reference page.

- |monitoring| flags a deactivated host.

.. important:: If you have deactivated hosts, review all deactivated hosts to
   ensure that they are still in use, and remove all hosts that are not active.
   Then click on the warning icon and select **Reactive ALL hosts**.

.. include:: /includes/mms-old-version-red.rst

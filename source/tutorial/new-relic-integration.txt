.. _new-relic-integration:

========================
Integrate with New Relic
========================

.. default-domain:: mongodb

.. only:: cloud

   .. note::

      Available with **Cloud Manager Standard** and 
      **Cloud Manager Premium**. To learn more,
      `Contact MongoDB <https://www.mongodb.com/contact>`__.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/fact-new-relic-deprecated.rst

You can configure |mms| to send metric data about your deployment to 
`New Relic <http://newrelic.com/>`__ for viewing through the 
`New Relic MongoDB plugin <https://docs.newrelic.com/docs/integrations/host-integrations/host-integrations-list/mongodb-monitoring-integration>`__.

Prerequisites
~~~~~~~~~~~~~

- To integrate |mms| with New Relic, you must have internet access
  to the New Relic servers. To learn more about the New Relic network
  requirements, see the `New Relic Getting Started Guide
  <https://docs.newrelic.com/docs/apm/new-relic-apm/getting-started/networks>`__.

- You must also have a New Relic account. If you don't have an
  existing New Relic account, you can `sign up at New Relic
  <https://newrelic.com/signup>`__.

Procedure
~~~~~~~~~

To enable New Relic to receive metric data about your MongoDB 
deployment, retrieve the following information from your New Relic 
account settings. You might need to create new Insights API keys.

- Account ID
- License Key
- Insights API Insert Key
- Insights API Query Key

You enter this information when you configure the integration. If any of 
the keys later become invalid, |mms| sends an email to the project 
owner and eventually removes the invalid credentials.

To configure |mms| integration with 
`New Relic <https://newrelic.com/signup>`__:

.. include:: /includes/steps/configure-new-relic-integration.rst

Performance Metrics Available to New Relic
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You can also use :guilabel:`Insights for New Relic` to 
run analytics on the collected |mms| performance metrics:

- Opcounters
- Queues
- Cursors
- Connections
- Replication Lag (secondaries only)
- Memory
- Page Faults
- Asserts
- Journaling Stats (MMAPv1 only)
- Network
- WiredTiger Cache Activity
- WiredTiger Cache Usage
- WiredTiger Tickets

**MongoDB 2.6 and earlier**

- Record Stats
- Index Stats
- Lock Percentage

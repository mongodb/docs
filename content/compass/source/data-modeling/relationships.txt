.. _compass-data-modeling-relationships:

:orphan:

===============================================
Manage Relationships in Your Data Model Diagram
===============================================

.. meta::
   :robots: noindex, nosnippet

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can add relationships between document fields across different collections 
in your |compass-short| data model diagram.

.. note:: 

   Relationships are for annotation purposes only. |compass-short| does not 
   store relationship information in your MongoDB database.

About this Task 
---------------

You can add relationships to your data model diagram by using one of the 
following methods: 

- **Side Panel**: Manually add a relationship by selecting a source collection.

- **Drag and Drop**: Create a relationship by clicking and dragging from one 
  collection to another.

Before You Begin
----------------

To add relationships, ensure you have already 
:ref:`generated a data model diagram <compass-data-modeling>`.

Steps
-----

To learn how to add relationships to your data model diagram, select the tab 
corresponding to your preferred method:

.. tabs:: 

   .. tab:: Side Panel
      :tabid: side-panel
      
      .. procedure::
         :style: normal
         
         .. step:: Open your data model diagram
            
            From the :icon-lg:`Diagram` :guilabel:`Data Modeling` tab, open your 
            data model diagram.
            
         .. step:: Open the collection side panel 
            
            Click one of your collection nodes in the diagram. The 
            collections side panel opens on the right side of the 
            screen.
            
         .. step:: Click Add Relationship

            In the side panel's :guilabel:`Relationship` tab, click 
            :guilabel:`Add Relationship`.

         .. step:: Specify Relationship Properties

            .. include:: /includes/data-modeling-relationship-fields.rst

            |compass-short| automatically saves and updates your changes as you 
            make them.

         .. include:: /includes/step-annotate-relationship.rst

   .. tab:: Drag and Drop
      :tabid: drag-drop

      .. procedure::
         :style: normal
         
         .. step:: Open your data model diagram
            
            From the :icon-lg:`Diagram` :guilabel:`Data Modeling` tab, open your 
            data model diagram.

         .. step:: Click the :icon-lg:`Relationship` icon 

            In the upper-left corner of the diagram view, click the 
            :icon-lg:`Relationship` icon to enable drag-and-drop relationship 
            creation.
            
         .. step:: Click one collection and drag it to another

            When you click a collection and drag it to another, 
            |compass-short| opens the side panel and displays the 
            :guilabel:`Relationship Properties` tab.

         .. step:: Specify Relationship Properties

            .. include:: /includes/data-modeling-relationship-fields.rst

            |compass-short| automatically saves and updates your changes as you 
            make them. 

         .. include:: /includes/step-annotate-relationship.rst
            
After you create a relationship, |compass-short| displays each relationship in 
the :guilabel:`Relationships` tab.

Delete Relationships
~~~~~~~~~~~~~~~~~~~~

To delete a relationship from your data model diagram:

.. procedure:: 
   :style: normal 

   .. step:: Open the relationship side panel 
      
      Click on the relationship in the diagram. The relationship side panel 
      opens on the right side of the screen.

   .. step:: Select the relationship to delete

      In the :guilabel:`Relationship Properties` tab, click the :icon-lg:`Trash` 
      :guilabel:`Delete` button.

Next Steps
----------

- :ref:`compass-data-modeling-export`

Learn More 
----------

- :ref:`compass-data-modeling`

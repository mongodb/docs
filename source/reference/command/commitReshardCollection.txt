=======================
commitReshardCollection
=======================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Definition
----------

.. dbcommand:: commitReshardCollection

   .. versionadded:: 5.0

   During a resharding operation, MongoDB does not block writes until
   the estimated duration to complete the resharding operation is
   below **two seconds**.

   If the current estimate is above two seconds but the time frame is
   acceptable to you, you can finish resharding faster. The
   :dbcommand:`commitReshardCollection` command blocks writes early and
   forces the resharding operation to complete.

   The command has the following syntax:

   .. code-block:: javascript

      {
        commitReshardCollection: "<database>.<collection>"
      }

   The :binary:`~bin.mongosh` provides a wrapper method
   :method:`sh.commitReshardCollection()`.

Example
-------

Commit a Resharding Operation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following command forces the :ref:`resharding
operation <sharding-resharding>` on the ``sales.orders`` to block writes
and complete:

.. code-block:: javascript

   db.adminCommand({
     commitReshardCollection: "sales.orders"
   })

.. seealso::

   :ref:`sharding-resharding`

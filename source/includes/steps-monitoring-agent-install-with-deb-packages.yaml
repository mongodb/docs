title: Download the latest version of the Monitoring Agent package.
stepnum: 1
edition:
  - cloud
ref: download-saas
action:
  pre: |
    Issue the following command using the system shell:
  language: sh
  code: |
    curl -OL https://cloud.mongodb.com/download/agent/monitoring/mongodb-mms-monitoring-agent_latest_amd64.deb
---
title: "Download the latest version of the Monitoring Agent package."
stepnum: 1
edition: onprem
ref: download-hosted
action:
  pre: |
    Issue the following command using the system shell:
  language: sh
  code: |
    curl -OL <mmsUri>/download/agent/monitoring/mongodb-mms-monitoring-agent_latest_amd64.deb
---
title: "Install the Monitoring Agent package."
stepnum: 2
ref: install
action:
  pre: |
    Issue the following command using the system shell:
  language: sh
  code: |
    sudo dpkg -i mongodb-mms-monitoring-agent_latest_amd64.deb
---
stepnum: 3
source:
  file: steps-source-install-agent.yaml
  ref: retrieve-monitoring-mms-api-key
---
title: "Edit the ``monitoring-agent.config`` file to include your agent API key."
stepnum: 4
ref: configure-monitoring-mms-api-key
content: |
  In the ``/etc/mongodb-mms/monitoring-agent.config`` file, set the
  :msetting:`mmsApiKey` property to your API key.
---
stepnum: 5
source:
  file: steps-source-install-agent.yaml
  ref: proxy
replacement:
  agentname: "Monitoring"
  httpProxy: ":msetting:`httpProxy`"
  configfile: "/etc/mongodb-mms/monitoring-agent.config"
---
stepnum: 6
source:
  file: steps-source-install-agent.yaml
  ref: start-monitoring
action:
  language: sh
  code: |
    sudo start mongodb-mms-monitoring-agent
...

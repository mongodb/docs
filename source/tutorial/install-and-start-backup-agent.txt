.. _tutorial-enable-backup-for-replica-set:

.. _tutorial-install-backup-agent:

.. _tutorial-register-backup-service:

==================================
Install and Start the Backup Agent
==================================

.. start-content

Overview
--------

.. note::

   The Backup agent relies on the MMS Monitoring Agent to populate the
   list of sharded clusters and replica sets eligible for backup. If
   the appropriate hosts are not added, or the Monitoring Agent is not
   being correctly run, the lists may be incomplete or out-of-date.

   If you have not already installed and configured |monitoring|,
   please refer to the :doc:`/tutorial/install-monitoring-agent`
   documentation.

The |backup| agent polls the primary MongoDB instance of
every backup-enabled replica set and transmits the operations to MMS.
The replica set must be MongoDB version 2.0 or later. To avoid resource
contention, run the agent on a host other than the hosts where the
MongoDB instances are running. Be sure the agent can access the MongoDB
hosts.

See the :doc:`/faq/backup` page for more information.

Prerequisites
-------------

If your MongoDB instances operate within a firewall, configure your
network infrastructure to allow outbound connections on port ``443``
(SSL) to ``api-backup.mongodb.com``.

If you use |backup| with a MongoDB deployment that uses
authentication, see:
:doc:`/tutorial/use-auth-with-backup-agent` before installing
the |backup| Agent.

Procedure
---------

.. include:: /includes/steps/backup-install-saas.rst

For more information, see the :file:`Readme` included with the
downloaded package.

If you are using MongoDB authentication, consult the :doc:`
Authentication Requirements documentation </reference/authentication>`.

See the :doc:`/faq/backup` page for details about backup requirements and
operations.

.. end-content

==================================================
Optional: Configure Kerberos Authentication Module
==================================================

.. default-domain:: mongodb

To enable Kerberos authentication between the MMS application and its
backing database, update values to these settings in the
``conf/conf-mms.properties`` configuration file:

.. code-block:: properties

   jvm.java.security.krb5.kdc=
   jvm.java.security.krb5.realm=
   mms.kerberos.principal=
   mms.kerberos.keyTab=
   mms.kerberos.debug=

These configuration settings and descriptions are as follows:

.. list-table::
   :header-rows: 1
   :widths: 50, 30, 400

   * - **Setting**
     - **Required**
     - **Description**
   * - ``jvm.java.security.krb5.kdc``
     - Yes
     - This should be the IP/FQDN of the KDC server. The value will be set to JVM's java.security.krb5.kdc.
   * - ``jvm.java.security.krb5.realm``
     - Yes
     - This is the default REALM for Kerberos. It is being used for JVM's java.security.krb5.realm.
   * - ``mms.kerberos.principal``
     - Yes
     - The principal we used to authenticate with MongoDB. This should be the exact same user on the mongoUri above.
   * - ``mms.kerberos.keyTab``
     - Yes
     - The absolute path to the keytab file for the principal.
   * - ``mms.kerberos.debug``
     - No
     - The debug flag to output more information on Kerberos authentication process.

Kerberos authentication will not work if any values are missing for required settings.

Here is one example of configuration setting values:

.. code-block:: properties

   jvm.java.security.krb5.kdc=kdc.example.com
   jvm.java.security.krb5.realm=EXAMPLE.COM
   mms.kerberos.principal=mms/mmsweb.example.com@EXAMPLE.COM
   mms.kerberos.keyTab=/path/to/mms.keytab
   mms.kerberos.debug=false

In this example:

- The KDC server FQDN is ``kdc.example.com``

- The Kerberos default realm is ``EXAMPLE.COM``

- The host running MMS app is ``mmsweb.example.com`` and the Kerberos principal
  for MMS is ``mms/mmsweb.example.com@EXAMPLE.com``

- The keytab file for ``mms/mmsweb.example.com@EXAMPLE.COM`` is at
  ``/path/to/mms.keytab``.

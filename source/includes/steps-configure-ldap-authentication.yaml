title: "Define your user records in the LDAP system of your choice."
stepnum: 1
ref: define-ldap-records
---
title: "Navigate to the :guilabel:`User Authentication` tab of the :guilabel:`Ops Manager Config` page."
stepnum: 2
ref: ops-manager-config-page
content: |

  a. Click :guilabel:`Admin` link at the upper right corner of the page.

  b. Click the :guilabel:`General` tab.

  c. Click the :guilabel:`Ops Manager Config` page.

  d. Click :guilabel:`User Authentication` tab.

---
title: "Enter LDAP configuration settings."
stepnum: 3
ref: set-ldap-config-setting
content: |

  a. Enter values for the following **required LDAP configuration** fields:

     .. list-table::
        :header-rows: 1
        :widths: 30 50 20

        * - Field
          - Needed Value
          - Example Value

        * - :guilabel:`User Authentication Method`
          - Change to :guilabel:`LDAP`.
          - ``LDAP``

        * - :guilabel:`LDAP URI`
          - The hostname and port of the LDAP server.
          - ``ldap://ldap.example.com:389``

        * - :guilabel:`LDAP SSL CA File`
          - The CA file for the LDAP server.
          - ``/opt/cert/ca.pem``

        * - :guilabel:`LDAP SSL PEM Key File`
          - The PEM Key file for the LDAP server.
          - ``/opt/cert/ldap.pem``

        * - :guilabel:`LDAP SSL PEM Key File Password`
          - The password to decrypt the PEM Key File if that file was encrypted.
          - ``<encrypted-password>``

        * - :guilabel:`LDAP Bind Dn`
          - A credentialed user on the LDAP server to conduct searches for users.
          - ``cn=admin,dc=example,dc=com``

        * - :guilabel:`LDAP Bind Password`
          - Password for the Bind Dn user on the LDAP server.
          - ``<password>``

        * - :guilabel:`LDAP User Base Dn`
          - The Distinguished Name that |mms| uses to search for users on the
            LDAP server.
          - ``dc=example,dc=com``

        * - :guilabel:`LDAP User Search Attribute`
          - The field in the LDAP server that specifies the username.
          - ``uid``

        * - :guilabel:`LDAP User Group`
          - The attribute of LDAP users that specifies the groups of which the
            user is a member.

            .. important::
               You can specify an LDAP group using any format, including Common Name
               (``cn``) or Distinguished Name (``dn``). The format you choose must be
               consistent across settings and consistent with the format used in the
               LDAP user records in the attribute specified in the
               :guilabel:`LDAP User Group` field. See :ref:`ldap-global-role-settings` 
               for more information and examples.

          - ``memberof``

        * - :guilabel:`LDAP Global Role Owner`
          - The LDAP group to which |mms| Global Owners belong.
          - ``cn=global-owner,ou=groups,
            dc=example,dc=com``

     .. note::
        Each Global Role group provides the members of its associated LDAP
        group or groups with |a-mms| :ref:`global role <global-roles>`. Global
        roles provide access to all the |mms| 
        :doc:`groups </tutorial/create-group>` in the |mms| deployment.

  b. Enter values for the following **Optional LDAP Configuration** fields if needed:

     .. list-table::
        :header-rows: 1
        :widths: 30 70

        * - Field
          - Needed Value

        * - :guilabel:`LDAP User First Name`
          - The attribute of LDAP users that specifies the user's first name.

        * - :guilabel:`LDAP User Last Name`
          - The attribute of LDAP users that specifies the user's last name.

        * - :guilabel:`LDAP User Email`
          - The attribute of LDAP users that specifies the user's email address.

        * - :guilabel:`LDAP Global Role Backup Admin`
          - The LDAP group to which |mms| Global Backup Administrators belong.

        * - :guilabel:`LDAP Global Role Monitoring Admin`
          - The LDAP group to which |mms| Global Monitoring Administrators
            belong.

        * - :guilabel:`LDAP Global Role User Admin`
          - The LDAP group to which |mms| Global User Administrators belong.

        * - :guilabel:`LDAP Global Role Read Only`
          - The LDAP group to which |mms| Global Read Only Users belong.

---
title: "Click :guilabel:`Save`."
stepnum: 4
ref: save-ldap
---
title: "Log in as a global owner and create the first |mms| group."
stepnum: 5
ref: first-user
content: |
  Log into |mms| as an LDAP user that is part of the LDAP group specified in the
  |mms| :guilabel:`LDAP Global Role Owner` field.

  Upon successful login, |mms| displays your groups page.
---
title: "Associate LDAP groups with group-level roles."
stepnum: 6
ref: group-level-roles
content: |

  a. Click the :guilabel:`Settings` tab.

  b. Click the :guilabel:`My Groups` page.

  c. Click the :guilabel:`Add Group` button.

  d. Enter a name for the new |mms| group and enter the LDAP groups that
     should provide the permissions for each 
     :ref:`group-level role <group-roles>`.

  e. Check the checkbox to agree to the terms of service.

  f. Click :guilabel:`Add Group`.
---
title: "Add your MongoDB deployments."
stepnum: 7
ref: deploy-mongodb
content: |
  Specify the LDAP authentication settings when :doc:`adding a MongoDB
  deployment </tutorial/add-existing-mongodb-processes>`.
...

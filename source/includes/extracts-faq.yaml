ref: faq-cloud-providers
edition: onprem
content: ""
---
ref: faq-cloud-providers
edition: cloud
content: |
  Can I deploy MongoDB to a cloud provider with |mms|?
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  Yes. See :doc:`/tutorial/nav/add-servers`.

  How does an AWS security group affect access to MongoDB instances?
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  The AWS security group affects whether MongoDB instances can
  communicate with each other within the deployment and affects access to
  the deployment from MongoDB clients, such as the :program:`mongo` shell
  or a :manual:`driver </applications/drivers>`. At minimum the security
  group must have the inbound rules described in the
  :ref:`security-group` section of this manual.
---
ref: faq-monitor-backing-dbs
edition: onprem
content: |
  Can |onprem| monitor itself?
  ++++++++++++++++++++++++++++

  Yes. You can use |onprem| to monitor the :doc:`backing MongoDB
  instances </tutorial/prepare-backing-mongodb-instances>`
  that hold data for |onprem| and the Backup Daemon. Create a
  separate group for the backing instances.

  You **cannot**, however, use |onprem| to backup or automate the backing
  instances.

  |onprem| also provides built-in basic monitoring of all backing
  databases through :doc:`system alerts </core/system-alerts>`.
---
ref: faq-monitor-backing-dbs
edition: cloud
content: ""
---
ref: faq-data-security
edition: onprem
content: ""
---
ref: faq-data-security
edition: cloud
content: |
  Is my data safe?
  ++++++++++++++++

  Yes, |mms| uses enterprise-grade hardware co-located in secure data centers to
  store all user data. The Backup Agent transmits all data using SSL. The data
  is not encrypted at rest. |mms| requires two-factor authentication to
  provide any data for restores.
---
ref: faq-backup-size-limit
edition: onprem
content: ""
---
ref: faq-backup-size-limit
edition: cloud
content: |
  Is there a limit to Backup size?
  ++++++++++++++++++++++++++++++++

  The Backup feature works optimally for deployments in which each
  replica set has a data size of less than 2 TB and has less than 25,000
  files. Within a sharded cluster, this means that backups are optimized
  for clusters where each shard has a data size of less than 2 TB and
  has less than 25,000 files.

  There is currently no limit on the total size of snapshot storage.

  If you wish to use the Backup feature for a larger deployment, please
  `contact us <https://cloud.mongodb.com/links/support>`_ for more
  information.

---
ref: faq-backup-agent-and-ssl
edition: onprem
content: ""
---
ref: faq-backup-agent-and-ssl
edition: cloud
content: |
  Does the Backup Agent Support SSL?
  ++++++++++++++++++++++++++++++++++

  The Backup Agent *always* connects to the |mms| servers using an SSL (HTTPS)
  connection.

  The Backup Agent can connect to replica sets and shared clusters
  configured with SSL. See the :doc:`/tutorial/configure-backup-agent-for-ssl`
  documentation for more information.
---
ref: faq-backup-jobs-fail-to-bind
edition: onprem
content: |
  How can I use Backup if Backup jobs fail to bind?
  +++++++++++++++++++++++++++++++++++++++++++++++++

  The most common reason that jobs fail to bind to a Backup Daemon is
  because no daemon has space for a local copy of the backed up replica
  set.

  To increase capacity so that the backup job can bind, you can:

  - add an additional backup daemon.

  - increase the size of the file system that holds the
    :setting:`rootDirectory` directory.

  - move the :setting:`rootDirectory` data to a new volume with more
    space, and create a symlink or configure the file system mount
    points so that the daemon can access the data using the original
    path.
---
ref: faq-backup-jobs-fail-to-bind
edition: cloud
content: ""
---
ref: faq-applyops-errors
edition: onprem
content: |
  How do I resolve ``applyOps`` errors during backups?
  ++++++++++++++++++++++++++++++++++++++++++++++++++++

  If you notice *consistent* errors in ``applyOps`` commands in your
  Backup logs, it *may* indicate that the daemon has run out of space.

  To increase space on a daemon to support continued operations, you
  can:

  - increase the size of the file system that holds the
    :setting:`rootDirectory` directory.

  - move the :setting:`rootDirectory` data to a new volume with more
    space, and create a symlink or configure the file system mount
    points so that the daemon can access the data using the original
    path.
---
ref: faq-applyops-errors
edition: cloud
content: ""
---
ref: faq-backup-costs
edition: onprem
content: ""
---
ref: faq-backup-costs
edition: cloud
content: |
  Customizing snapshot frequency and retention policies give you greater
  control over your :ref:`backup costs <backup-pricing>`.
---
ref: faq-copies-of-data
edition: onprem
content: ""
---
ref: faq-copies-of-data
edition: cloud
content: |
  How many copies of my data does |mms| store?
  ++++++++++++++++++++++++++++++++++++++++++++

  Although we only charge you for only one copy of the data, |mms| stores
  at least 3 copies of your data in at least 2 geographic locations to ensure
  redundancy.
---
ref: faq-pricing-backup
edition: onprem
content: ""
---
ref: faq-pricing-backup
edition: cloud
content: |
  How much does it cost to use |mms| Backup?
  ++++++++++++++++++++++++++++++++++++++++++

  The pricing for |mms| Backup is based on snapshot size, schedule, and
  retention policy. See :ref:`backup-pricing`.
---
ref: faq-host-exposed-to-public-internet
edition: onprem
content: |
  This alert indicates only that the |mms| server can connect to the
  :program:`mongod` that it is monitoring. It does not
  diagnose whether your host is exposed to the public, despite the alert
  message. This alert occurs if you configured a setting called :guilabel:`Exposed
  DB Host Check`, which is a setting used with the Cloud version of |mms|.
---
ref: faq-host-exposed-to-public-internet
edition: cloud
content: |
  Any alerts set to check if your host is exposed to the public internet will
  attempt to connect to your servers occasionally as part of a vulnerability
  check to help test your firewall configuration. This is a weak
  security validation and should not replace other auditing or intrusion
  detection system procedures.

  If you configured a setting called :guilabel:`Exposed Db Host Check`, it is now
  an alert you can edit or disable. Newly created groups have an exposed host
  alert created and activated automatically, along with a Monitoring Agent down alert.
  Existing groups must set the exposed host alert manually.

  When enabled, this alert runs twice a month, on the first and fifteenth. Once
  |mms| finds an exposed host, the service will try to connect to the exposed host
  every five minutes until the host is no longer accessible. The exposed host
  alert email looks the same as other alert emails.

  |mms| attempts to connect with both the IP address and the non-canonical host
  identifier.
...

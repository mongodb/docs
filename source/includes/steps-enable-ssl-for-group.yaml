stepnum: 1
level: 4
source:
  file: steps-source-access-control.yaml
  ref: select-auth-page
---
stepnum: 2
level: 4
title: "On the :guilabel:`Select Authentication Mechanisms` screen, click :guilabel:`Next`."
content: |
  If you wish to :doc:`enable one or more Authentication Mechanisms
  </tutorial/edit-host-authentication-credentials>` for your |mms|
  group, select them and then click :guilabel:`Next`.
ref: mechanisms-next
---
stepnum: 3
level: 4
title: "Toggle the :guilabel:`Enable SSL` slider to :guilabel:`Yes`."
ref: toggle-ssl
---
stepnum: 4
level: 4
title: "Specify the path to the SSL CA file and choose the Client Certificate Mode, then click :guilabel:`Continue`."
ref: specify-ca-path
content: |
  The SSL CA file is a ``.pem`` file that contains the root certificate chain
  from the Certificate Authority. The Monitoring and Backup Agents use the CA
  file for connections to your deployment.

  The :guilabel:`Client Certificate Mode` specifies whether client
  certificates are required for each :program:`mongod` and :program:`mongos`
  in the deployment.
    
  - :guilabel:`OPTIONAL`: |mms| starts each :program:`mongod` and
    :program:`mongos` process with both :setting:`net.ssl.CAFile` **and**
    :setting:`net.ssl.allowConnectionsWithoutCertificates`. As such,
    :program:`mongod` and :program:`mongos` processes need not possess
    client certificates.
    
  - :guilabel:`REQUIRED:`: |mms| starts each :program:`mongod` and
    :program:`mongos` with the :setting:`net.ssl.CAFile` setting. Each
    :program:`mongod` and :program:`mongos` must possess a client
    certificate.
---
stepnum: 5
level: 4
title: "Provide SSL credentials for the |mms| Agents"
ref: agent-ssl-credentials
content: |
  Specify the path to the ``.pem`` file that contains both the TLS/SSL
  certificate and key for each agent. If needed,  specify the password
  to de-crypt the .pem certificate-key file.
  
  Ensure you use the correct input box for your operating system.
---
stepnum: 6
level: 4
pre: |

  .. important::
     Ensure that your existing deployments use SSL before you click
     :guilabel:`Review & Deploy`.

source:
  file: steps-source-deployment-page.yaml
  ref: review-deployment
---
stepnum: 7
level: 4
source:
  file: steps-source-deployment-page.yaml
  ref: confirm-deployment
...

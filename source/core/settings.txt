====================
Application Settings
====================

The "Settings" section of the |mms| (MMS) console enables users to personalize
their console and activate or deactivate a variety of features. The
following sections correspond to a tab on the :guilabel:`Settings` page.

My Settings
-----------

These settings are specific to the logged in user, and will only affect
their MMS experience.

Profile
~~~~~~~

The :guilabel:`Profile` page allows users to update their personal
information.

The username, email address, and password are also used for `jira.mongodb.org
<http://jira.mongodb.org>`_. Changing your email address or password in MMS
will also change the email address and password you use to log into Jira.

- **User Name**: displays the user's name. You cannot change your
  username.

- **Email Address**: displays the email address MMS associates with
  your account. You can change your email address by clicking on the
  ":guilabel:`pencil`" icon.

- **Password**: allows you to change your MMS password. Passwords must
  fulfill MMS's :ref:`password requirements <password-requirements>`.

- **Two-Factor Authorization**: All restores, backups, and deletion confirmations
  require two-factor authentication. MMS does not use two factor
  authentication for login. MMS supports two-factor authentication with either
  a mobile phone (SMS) or the Google Authenticator application.

  - **Mobile Phone Number**: displays the mobile phone number MMS uses for
    two-factor authentication. You can change the number by clicking on the
    ":guilabel:`pencil`" icon.

    .. include:: /includes/fact-intl-phone-numbers.rst

    .. include:: /includes/fact-two-factor-auth-India-limit.rst

  - **Google Authenticator**: the Google Authenticator Application
    (`iOS
    <https://itunes.apple.com/us/app/google-authenticator/id388497605>`_
    and `Android
    <https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2>`_)
    generates unique time-sensitive verification codes, used to
    confirm identify in addition to usernames and passwords.

    To configure for the first time, click the :guilabel:`Configure` button
    to the right side of the :guilabel:`Profile` page, follow the
    instructions, then click the :guilabel:`Authenticate` button to
    complete authentication.

    After configuring two-factor authentication using Google
    Authenticator, update the authentication
    code by clicking on the ":guilabel:`pencil`" icon. Then enter two
    sequential verification codes and click the :guilabel:`Authenticate` button.

  If you require both SMS and Google Authenticator, configure SMS then
  Google Authenticator. Configuring SMS after Google Authenticator will disable
  the Google Authenticator settings.

  Contact support to delete or reset any configured two-factor authentication.

.. _mms-personalization:

Personalization
~~~~~~~~~~~~~~~

The :guilabel:`Personalization` page allows users to configure the console
to suit their needs and preferences.

- **My Dashboard**: sets the default dashboard on the "Dashboard"
  page. You can select from a list of all of your dashboards.

- **My Time Zone**: sets your local time zone.

- **My Date Format**: allows you to select your preferred
  date format.

- **Page Shown When Switching Groups** sets which page of the MMS
  console you will see when you select a different group. You can
  select the "Hosts" page or the "Dashboard" page. Alternatively,
  select "Current" and MMS will not change pages when you select a
  different group.

- **Display Opcounters On Separate Charts**: allows you to control the
  presentation of Opcounter Charts. If enabled, MMS charts each opcounter type
  separately. Otherwise, each opcounter type is overlaid together in a single
  chart.

- **Display Chart Annotations**: toggles the presence of chart
  annotations. Chart annotations overlay information about significant
  system events on the charts. For example, with chart annotations MMS
  will draw a red vertical line over the charts.

- **Email Notifications**: allows you to opt-in to, or opt-out of
  receiving e-mail newsletters about MMS.

.. _group-settings-preferred-hostnames:

Group Settings
--------------

These settings are general settings that apply to all users in the
current group.

Group Settings
~~~~~~~~~~~~~~~~

- **Group Time Zone**: sets your group's time zone.

- **Collect Logs For All Hosts**: activates or deactivates the
  collection of log data for all hosts. This overwrites the statuses
  set on the individual hosts. |monitoring| displays log data in the
  "Logs" tab of the "Host Statistics" page.

- **Collect Profiling Information for All Hosts**: activates or deactivates the
  collection of profiling information for all hosts. MMS Monitoring can collect
  data from MongoDBâ€™s profiler to provide statistics about performance and
  database operations. Ensure exposing profile data to MMS Monitoring is
  consistent with your information security practices. Also be aware the
  profiler can consume resources which may adversely affect MongoDB performance.

- **Collect Database Specific Statistics**: allows you to enable or disable the
  collection of database statistics. For more information, see ":ref:`How does
  MMS gather database statistics? <db-stats-warning>`".

- **Monitoring Agent's Log Level**: allows adjustment of the log level of the
  monitoring agent from the settings menu without restarting the agent. The
  :guilabel:`Default` level maintains the level specified when starting the
  monitoring agent. Setting the log level on the agent requires monitoring
  agent version 2.0.0+.

- **Preferred Hostnames**: allows you to specify the hostname to use for
  servers with multiple aliases. This prevents servers from appearing multiple
  times under different names. By default, the monitoring agent tries to connect
  by resolving hostnames. If the agent cannot connect by resolving a hostname,
  you can force the monitoring agent to prefer an IP address over its
  corresponding hostname for a specific IP address. To override this
  default behavior, set an IP address as a preferred hostname. If your IP
  addresses have a common prefix, create a preferred hostname with the
  :guilabel:`ends-with` button or click the :guilabel:`regexp` button to use a
  regular expression.

- **Reset Duplicates**: allows you to reset and remove all detected duplicate
  hosts. This is useful if your server environment has drastically changed and
  you believe a host is incorrectly marked as a duplicate.

API Settings
~~~~~~~~~~~~

:guilabel:`API Settings` displays the |monitoring| API Key for your MMS
group. Keep this key private. Use the API key to support
automated installation of your monitoring agent with scripts included with the
agent installation files.

Group Alerts
~~~~~~~~~~~~

:guilabel:`Group Alerts` defines the default settings for HipChat,
`PagerDuty <http://www.pagerduty.com/?utm_source=mongodb&utm_medium=docs&utm_campaign=partner>`_,
and other third-party groups used to send alerts. See :doc:`Activity
Alert Settings page </core/activity>` page for details
about using these third-party services to manage alerts.

Agents
------

Monitoring Agent
~~~~~~~~~~~~~~~~

:guilabel:`Monitoring Agent` provides links for downloading the
pre-configured Monitoring agent in both ``.zip`` and ``.tar.gz``
formats.

.. include:: /includes/settings-backup.rst

Backup Agent
~~~~~~~~~~~~

:guilabel:`Backup Agent` provides links to download the pre-configured Backup
agent in both ``.zip`` and ``.tar.gz`` formats. The software is dynamically
assembled with your API key. Instructions are included to set up and start the
Backup agent, as well as create a new user for the agent if MongoDB
authentication is used.

Backup
------

.. _scp-ssh:

Restore Settings
~~~~~~~~~~~~~~~~

:guilabel:`Restore Settings` provides the ability to generate a public key for
SCP backup restoration through the Backup and Restore Service.

.. START-COMMENT

   Automation Agent
   ~~~~~~~~~~~~~~~~

   :guilabel:`Automation Agent` provides a link to download the Linux Automation
   Agent.

   Automation
   ----------

   SSH Keys
   ~~~~~~~~

   :guilabel:`SSH Keys` provides the ability to add an SSH key when a new machine
   is provisioned from the :guilabel:`Automation` page so you can log in once
   provisioning is complete.

   Access Keys
   ~~~~~~~~~~~

   :guilabel:`Access Keys` provides the ability to add a new access key for each
   infrastructure provider. The key pair is used when a new machine is provisioned
   from the :guilabel:`Automation` page.

.. END-COMMENT

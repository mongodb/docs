# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2011-2015
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 3.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2015-03-30 14:28-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/administration/monitoring.txt:3
# 26bf31a15cf841d393c8fae2a0dd026e
msgid "Monitoring for MongoDB"
msgstr ""

#: ../source/administration/monitoring.txt:7
# 8aa60548119d46ccb3fd8ff5fcd5701c
msgid "Monitoring is a critical component of all database administration. A firm grasp of MongoDB's reporting will allow you to assess the state of your database and maintain your deployment without crisis. Additionally, a sense of MongoDB's normal operational parameters will allow you to diagnose problems before they escalate to failures."
msgstr ""

#: ../source/administration/monitoring.txt:13
# 5e7d9ea059bd47af971844c0d5a29ec4
msgid "This document presents an overview of the available monitoring utilities and the reporting statistics available in MongoDB. It also introduces diagnostic strategies and suggestions for monitoring replica sets and sharded clusters."
msgstr ""

#: ../source/includes/fact-mms-summary.rst:2
# fce09aca4d054081b9f21c1fb69bdb8c
msgid ":mms-home:`MongoDB Management Service (MMS) </>`, a hosted service, and `Ops Manager <https://www.mongodb.com/products/mongodb-enterprise-advanced>`_, an on-premise solution, provide monitoring, backup, and automation of MongoDB instances. See the :mms:`MMS documentation</>` and `Ops Manager documentation <https://docs.opsmanager.mongodb.com>`_ for more information."
msgstr ""

#: ../source/administration/monitoring.txt:22
# aa0d5ea1b74640478d5efb3818929f3e
msgid "Monitoring Strategies"
msgstr ""

#: ../source/administration/monitoring.txt:24
# 87280d74e43749e2acd7345f6982f609
msgid "There are three methods for collecting data about the state of a running MongoDB instance:"
msgstr ""

#: ../source/administration/monitoring.txt:27
# 1b9719eb9a4847e3aa2074d0a4e0723d
msgid "First, there is a set of utilities distributed with MongoDB that provides real-time reporting of database activities."
msgstr ""

#: ../source/administration/monitoring.txt:30
# a9ef7754bcd243868edb9b8e3bdbabea
msgid "Second, :doc:`database commands </reference/command>` return statistics regarding the current database state with greater fidelity."
msgstr ""

#: ../source/administration/monitoring.txt:34
# 768c449df416488f93df7ce44fdd218d
msgid "Third, :mms-home:`MMS Monitoring </>` collects data from running MongoDB deployments and provides visualization and alerts based on that data."
msgstr ""

#: ../source/administration/monitoring.txt:39
# a113bc3e68d74d89b5925f7f34c636e6
msgid "Each strategy can help answer different questions and is useful in different contexts. These methods are complementary."
msgstr ""

#: ../source/administration/monitoring.txt:43
# 96371dd824914424b0cacdb0ac5eb7ac
msgid "MongoDB Reporting Tools"
msgstr ""

#: ../source/administration/monitoring.txt:45
# 6985eb75572b48ea837860656183d475
msgid "This section provides an overview of the reporting methods distributed with MongoDB. It also offers examples of the kinds of questions that each method is best suited to help you address."
msgstr ""

#: ../source/administration/monitoring.txt:50
# 68e3860bcb164f90ba2a2b51569e2af9
msgid "Utilities"
msgstr ""

#: ../source/administration/monitoring.txt:52
# d1685140b9bc47508f091bef5f2c8551
msgid "The MongoDB distribution includes a number of utilities that quickly return statistics about instances' performance and activity. Typically, these are most useful for diagnosing issues and assessing normal operation."
msgstr ""

#: ../source/administration/monitoring.txt:58
# f03fb95c682346d88df1a4f1ab0234ad
msgid "``mongostat``"
msgstr ""

#: ../source/administration/monitoring.txt:60
# 66ba3e1360964e759ca19436c7d4e970
msgid ":program:`mongostat` captures and returns the counts of database operations by type (e.g. insert, query, update, delete, etc.). These counts report on the load distribution on the server."
msgstr ""

#: ../source/administration/monitoring.txt:64
# b6225d5084244a8ebde498e772381083
msgid "Use :program:`mongostat` to understand the distribution of operation types and to inform capacity planning. See the :doc:`mongostat manual </reference/program/mongostat>` for details."
msgstr ""

#: ../source/administration/monitoring.txt:69
# 7e72400f1b3349619572c527984688cb
msgid "``mongotop``"
msgstr ""

#: ../source/administration/monitoring.txt:71
# 598a03a1b518400c8ea8335ee6e8417c
msgid ":program:`mongotop` tracks and reports the current read and write activity of a MongoDB instance, and reports these statistics on a per collection basis."
msgstr ""

#: ../source/administration/monitoring.txt:75
# 3549620086d74be7bf7d7831f842e042
msgid "Use :program:`mongotop` to check if your database activity and use match your expectations. See the :doc:`mongotop manual </reference/program/mongotop>` for details."
msgstr ""

#: ../source/administration/monitoring.txt:82
# 6730a05a21ec45e18af8eaa714deb682
msgid "HTTP Console"
msgstr ""

#: ../source/administration/monitoring.txt:84
# a9e085c305c14ac29fe34a1f9d31eab6
msgid "MongoDB provides a web interface that exposes diagnostic and monitoring information in a simple web page. The web interface is accessible at ``localhost:<port>``, where the ``<port>`` number is **1000** more than the :program:`mongod` port ."
msgstr ""

#: ../source/administration/monitoring.txt:89
# d4d3f968d9c74e71b6403aa0f137bec4
msgid "For example, if a locally running :program:`mongod` is using the default port ``27017``, access the HTTP console at ``http://localhost:28017``."
msgstr ""

#: ../source/administration/monitoring.txt:94
# 63470734ba3b4a1db7046b6c23561425
msgid "Commands"
msgstr ""

#: ../source/administration/monitoring.txt:96
# 98ee80d2c7f844b19421d5f5d92bfe96
msgid "MongoDB includes a number of commands that report on the state of the database."
msgstr ""

#: ../source/administration/monitoring.txt:99
# 09b7685364fc449a9facc0c932dec78a
msgid "These data may provide a finer level of granularity than the utilities discussed above. Consider using their output in scripts and programs to develop custom alerts, or to modify the behavior of your application in response to the activity of your instance. The :method:`db.currentOp` method is another useful tool for identifying the database instance's in-progress operations."
msgstr ""

#: ../source/administration/monitoring.txt:107
# 486cba2b43ab43188a042dcb27dcaa26
msgid "``serverStatus``"
msgstr ""

#: ../source/administration/monitoring.txt:109
# 47ca0ac3f74e494cae1a29ee00085d41
msgid "The :dbcommand:`serverStatus` command, or :method:`db.serverStatus()` from the shell, returns a general overview of the status of the database, detailing disk usage, memory use, connection, journaling, and index access. The command returns quickly and does not impact MongoDB performance."
msgstr ""

#: ../source/administration/monitoring.txt:115
# 3e180d7024204b3b8535c68e9a82cf09
msgid ":dbcommand:`serverStatus` outputs an account of the state of a MongoDB instance. This command is rarely run directly. In most cases, the data is more meaningful when aggregated, as one would see with monitoring tools including :mms-home:`MMS </>`. Nevertheless, all administrators should be familiar with the data provided by :dbcommand:`serverStatus`."
msgstr ""

#: ../source/administration/monitoring.txt:123
# f220d2326e644ac68fa88d18a81167f3
msgid "``dbStats``"
msgstr ""

#: ../source/administration/monitoring.txt:125
# 74ff489a890e4b4887020f9f32b8235e
msgid "The :dbcommand:`dbStats` command, or :method:`db.stats()` from the shell, returns a document that addresses storage use and data volumes. The :dbcommand:`dbStats` reflect the amount of storage used, the quantity of data contained in the database, and object, collection, and index counters."
msgstr ""

#: ../source/administration/monitoring.txt:131
# 477386df59e74e65ba5bdda40d54a302
msgid "Use this data to monitor the state and storage capacity of a specific database. This output also allows you to compare use between databases and to determine the average :term:`document` size in a database."
msgstr ""

#: ../source/administration/monitoring.txt:137
# b814d5ed5f9b4dd49b644b0a7593d3f7
msgid "``collStats``"
msgstr ""

#: ../source/administration/monitoring.txt:139
# 5dcf7c90ce724ab1804393b349f0fa8f
msgid "The :dbcommand:`collStats` or :method:`db.collection.stats()` from the shell that provides statistics that resemble :dbcommand:`dbStats` on the collection level, including a count of the objects in the collection, the size of the collection, the amount of disk space used by the collection, and information about its indexes."
msgstr ""

#: ../source/administration/monitoring.txt:146
# 5acd826d649249c38253c5fb75877f13
msgid "``replSetGetStatus``"
msgstr ""

#: ../source/administration/monitoring.txt:148
# 1f979011d2014294ad39f4e39c835b18
msgid "The :dbcommand:`replSetGetStatus` command (:method:`rs.status()` from the shell) returns an overview of your replica set's status. The :doc:`replSetGetStatus </reference/command/replSetGetStatus>` document details the state and configuration of the replica set and statistics about its members."
msgstr ""

#: ../source/administration/monitoring.txt:153
# f0a8e0bf34cd40db8c3ea6c9fed5df17
msgid "Use this data to ensure that replication is properly configured, and to check the connections between the current host and the other members of the replica set."
msgstr ""

#: ../source/administration/monitoring.txt:158
# 20df6f1db4c246f5ac45d0ace8c25519
msgid "Third Party Tools"
msgstr ""

#: ../source/administration/monitoring.txt:160
# 648651f531b1402eb3f59cf61f832d36
msgid "A number of third party monitoring tools have support for MongoDB, either directly, or through their own plugins."
msgstr ""

#: ../source/administration/monitoring.txt:164
# 59a996d2fcb347f4bb7380942ec7341c
msgid "Self Hosted Monitoring Tools"
msgstr ""

#: ../source/administration/monitoring.txt:166
# 08ae15a86ba444b6b4c9814ecfc9b3ce
msgid "These are monitoring tools that you must install, configure and maintain on your own servers. Most are open source."
msgstr ""

#: ../source/administration/monitoring.txt:172
# e2594c2f98b34634b965518a4dcfe707
msgid "**Tool**"
msgstr ""

#: ../source/administration/monitoring.txt:174
# 660d72d31648451c8ac807d1a8361d67
msgid "**Plugin**"
msgstr ""

#: ../source/administration/monitoring.txt:176
# 4627408fcb814a30bcc119facf16f2c2
msgid "**Description**"
msgstr ""

#: ../source/administration/monitoring.txt:178
# 50010524474a471984a167aca0b8ef27
msgid "`Ganglia <http://sourceforge.net/apps/trac/ganglia/wiki>`_"
msgstr ""

#: ../source/administration/monitoring.txt:180
# b3c8d881564f4f138583ae88500b0763
msgid "`mongodb-ganglia <https://github.com/quiiver/mongodb-ganglia>`_"
msgstr ""

#: ../source/administration/monitoring.txt:182
# 52d19c8ac1294b99af73a7cd7654c5fe
msgid "Python script to report operations per second, memory usage, btree statistics, master/slave status and current connections."
msgstr ""

#: ../source/administration/monitoring.txt:185
# 1b9aaa44aacb45f7998592faa36ac877
msgid "Ganglia"
msgstr ""

#: ../source/administration/monitoring.txt:187
# 2aebf57e870a4af1af88d5de168607d4
msgid "`gmond_python_modules <https://github.com/ganglia/gmond_python_modules>`_"
msgstr ""

#: ../source/administration/monitoring.txt:189
# 1e837117a9554cfeafef68cb260ef7bc
msgid "Parses output from the :dbcommand:`serverStatus` and :dbcommand:`replSetGetStatus` commands."
msgstr ""

#: ../source/administration/monitoring.txt:192
# 4a7a2aff57784c89ae7e8062a83297bf
msgid "`Motop <https://github.com/tart/motop>`_"
msgstr ""

#: ../source/administration/monitoring.txt:193
#: ../source/administration/monitoring.txt:200
# 5f34e4f0ec5b47ac80d3460047fd323b
# e68512fc05ee4a57829f63f06fae3319
msgid "*None*"
msgstr ""

#: ../source/administration/monitoring.txt:195
# 116298506f734b7c84c77e69358eedcd
msgid "Realtime monitoring tool for MongoDB servers. Shows current operations ordered by durations every second."
msgstr ""

#: ../source/administration/monitoring.txt:198
# d14f21c4e6f84713a54da11e07cd1c08
msgid "`mtop <https://github.com/beaufour/mtop>`_"
msgstr ""

#: ../source/administration/monitoring.txt:202
# 04fc1dc0262149419943b0943bc6191e
msgid "A top like tool."
msgstr ""

#: ../source/administration/monitoring.txt:204
# 64ed983a82444463b6616074d16ff4ca
msgid "`Munin <http://munin-monitoring.org/>`_"
msgstr ""

#: ../source/administration/monitoring.txt:206
# 73c4cce2adc2442eb34a0dddf2128dd8
msgid "`mongo-munin <https://github.com/erh/mongo-munin>`_"
msgstr ""

#: ../source/administration/monitoring.txt:208
# 972a5cbb25c84376862a4a20f96320b2
msgid "Retrieves server statistics."
msgstr ""

#: ../source/administration/monitoring.txt:210
#: ../source/administration/monitoring.txt:217
# b2e243270a9c423ba5a9434413860dc1
# 7fff87ca361141109b080950693af9f4
msgid "Munin"
msgstr ""

#: ../source/administration/monitoring.txt:212
# f2a4fa91c38e4585bebf57c5efdfdb39
msgid "`mongomon <https://github.com/pcdummy/mongomon>`_"
msgstr ""

#: ../source/administration/monitoring.txt:214
# 0da2389e4c70453698aa2b81811413de
msgid "Retrieves collection statistics (sizes, index sizes, and each (configured) collection count for one DB)."
msgstr ""

#: ../source/administration/monitoring.txt:219
# bddf5c8b0fae452591b0cf54c47a42d6
msgid "`munin-plugins Ubuntu PPA <https://launchpad.net/~chris-lea/+archive/munin-plugins>`_"
msgstr ""

#: ../source/administration/monitoring.txt:222
# e47c1d808e214bd0bc5b1f0ca98ac9f9
msgid "Some additional munin plugins not in the main distribution."
msgstr ""

#: ../source/administration/monitoring.txt:224
# f5e6d8fa65fd4c41ad5fca0aa34947e8
msgid "`Nagios <http://www.nagios.org/>`_"
msgstr ""

#: ../source/administration/monitoring.txt:226
# 7b137f9186604a6cbf1b9d8fdbb94e7d
msgid "`nagios-plugin-mongodb <https://github.com/mzupan/nagios-plugin-mongodb>`_"
msgstr ""

#: ../source/administration/monitoring.txt:229
# 4574ba90c8cf46b4934ce823d681fa4d
msgid "A simple Nagios check script, written in Python."
msgstr ""

#: ../source/administration/monitoring.txt:231
# 473f143b83f64fc0b8d224aa5f00c917
msgid "Also consider `dex <https://github.com/mongolab/dex>`_, an index and query analyzing tool for MongoDB that compares MongoDB log files and indexes to make indexing recommendations."
msgstr ""

#: ../source/administration/monitoring.txt:235
# 9ffc14c451c94c2082ff3c4a93fbacb0
msgid "As part of `MongoDB Enterprise <http://www.mongodb.com/products/mongodb-enterprise>`_, you can run :mms-home:`MMS On-Prem </>`, which offers the features of MMS in a package that runs within your own infrastructure."
msgstr ""

#: ../source/administration/monitoring.txt:241
# 53595b4eb5054de38a595bc6be63073c
msgid "Hosted (SaaS) Monitoring Tools"
msgstr ""

#: ../source/administration/monitoring.txt:243
# f44cdd603bb84de3bce5cfeca7e6f35e
msgid "These are monitoring tools provided as a hosted service, usually through a paid subscription."
msgstr ""

#: ../source/administration/monitoring.txt:249
# 3973d3e2c9984f40850e7b042b693309
msgid "**Name**"
msgstr ""

#: ../source/administration/monitoring.txt:251
# cbee461e5aff4127b0770b2d5750f23f
msgid "**Notes**"
msgstr ""

#: ../source/administration/monitoring.txt:253
# 2092d9952d584968b6fed2eb24c6f769
msgid "`MongoDB Management Service :mms-home:</>`"
msgstr ""

#: ../source/administration/monitoring.txt:255
# fbcec2c3fa214f329bb583bc31d96be0
msgid "MMS is a cloud-based suite of services for managing MongoDB deployments. MMS provides monitoring, backup, and automation functionality."
msgstr ""

#: ../source/administration/monitoring.txt:259
# 2e991f93f3994144a69e5cbfe2d46e96
msgid "`Scout <http://scoutapp.com>`_"
msgstr ""

#: ../source/administration/monitoring.txt:261
# e39b98a70b394d1f940762996b99d0c2
msgid "Several plugins, including `MongoDB Monitoring <https://scoutapp.com/plugin_urls/391-mongodb-monitoring>`_, `MongoDB Slow Queries <http://scoutapp.com/plugin_urls/291-mongodb-slow-queries>`_, and `MongoDB Replica Set Monitoring <http://scoutapp.com/plugin_urls/2251-mongodb-replica-set-monitoring>`_."
msgstr ""

#: ../source/administration/monitoring.txt:268
# d854c070eb2b4cddb59252ae7afb17b6
msgid "`Server Density <http://www.serverdensity.com>`_"
msgstr ""

#: ../source/administration/monitoring.txt:270
# cde77136e7da421392fe11d3e10085c6
msgid "`Dashboard for MongoDB <http://www.serverdensity.com/mongodb-monitoring/>`_, MongoDB specific alerts, replication failover timeline and iPhone, iPad and Android mobile apps."
msgstr ""

#: ../source/administration/monitoring.txt:275
# 581ffcdaa06646949540807ea2a8cb35
msgid "`Application Performance Management <http://ibmserviceengage.com>`_"
msgstr ""

#: ../source/administration/monitoring.txt:277
# 2a66c3c99bf0488b9f97fd21033fd7a0
msgid "IBM has an Application Performance Management SaaS offering that includes monitor for MongoDB and other applications and middleware."
msgstr ""

#: ../source/administration/monitoring.txt:285
# e1523685e41e4fb3a232d29bd01557ca
msgid "Process Logging"
msgstr ""

#: ../source/administration/monitoring.txt:287
# 47c5b7c0803c4c558fb04901a3bc21d8
msgid "During normal operation, :program:`mongod` and :program:`mongos` instances report a live account of all server activity and operations to either standard output or a log file. The following runtime settings control these options."
msgstr ""

#: ../source/administration/monitoring.txt:293
# d9142c23677b41a590175fe846bedaa5
msgid ":setting:`~systemLog.quiet`. Limits the amount of information written to the log or output."
msgstr ""

#: ../source/administration/monitoring.txt:296
# d884b36cee244c6c90fcb2ab0b53859e
msgid ":setting:`~systemLog.verbosity`. Increases the amount of information written to the log or output. You can also modify the logging verbosity during runtime with the :parameter:`logLevel` parameter or the :method:`db.setLogLevel()` method in the shell."
msgstr ""

#: ../source/administration/monitoring.txt:301
# ac61d165b18544868c678f6cdd691c37
msgid ":setting:`~systemLog.path`. Enables logging to a file, rather than the standard output. You must specify the full path to the log file when adjusting this setting."
msgstr ""

#: ../source/administration/monitoring.txt:305
# f3e8b50245d74895a05e4cfce3ec3fc7
msgid ":setting:`~systemLog.logAppend`. Adds information to a log file instead of overwriting the file."
msgstr ""

#: ../source/administration/monitoring.txt:310
# 48b6d644f55543d6a73d542fc02e9f97
msgid "You can specify these configuration operations as the command line arguments to :doc:`mongod </reference/program/mongod>` or :doc:`mongos </reference/program/mongos>`"
msgstr ""

#: ../source/administration/monitoring.txt:314
# bf20677e770349e7857904c6338c162b
msgid "For example:"
msgstr ""

#: ../source/administration/monitoring.txt:320
# f3b7aaf1fbdd4d909593a93858072deb
msgid "Starts a :program:`mongod` instance in :setting:`verbose <systemLog.verbosity>` mode, appending data to the log file at ``/var/log/mongodb/server1.log/``."
msgstr ""

#: ../source/administration/monitoring.txt:324
# 99dfc21dec0945b1a149013d82e3095b
msgid "The following :term:`database commands <database command>` also affect logging:"
msgstr ""

#: ../source/administration/monitoring.txt:327
# 3f14287f217f4664894e2a9e794a6410
msgid ":dbcommand:`getLog`. Displays recent messages from the :program:`mongod` process log."
msgstr ""

#: ../source/administration/monitoring.txt:330
# 88a5f00fd9c44c9786364a193ca76809
msgid ":dbcommand:`logRotate`. Rotates the log files for :program:`mongod` processes only. See :doc:`/tutorial/rotate-log-files`."
msgstr ""

#: ../source/administration/monitoring.txt:334
# 69cff4d9c0b347fd8de9e34d6fa0a5b0
msgid "Diagnosing Performance Issues"
msgstr ""

#: ../source/administration/monitoring.txt:336
# 8b2eea4392894f9790632d547533f74c
msgid "Degraded performance in MongoDB is typically a function of the relationship between the quantity of data stored in the database, the amount of system RAM, the number of connections to the database, and the amount of time the database spends in a locked state."
msgstr ""

#: ../source/administration/monitoring.txt:342
# 42bfb6e47ed344a29ed2f6bd4e1650a5
msgid "In some cases performance issues may be transient and related to traffic load, data access patterns, or the availability of hardware on the host system for virtualized environments. Some users also experience performance limitations as a result of inadequate or inappropriate indexing strategies, or as a consequence of poor schema design patterns. In other situations, performance issues may indicate that the database may be operating at capacity and that it is time to add additional capacity to the database."
msgstr ""

#: ../source/administration/monitoring.txt:351
# f0f329fc13b148729048432f272e04e4
msgid "The following are some causes of degraded performance in MongoDB."
msgstr ""

#: ../source/administration/monitoring.txt:354
# 827b4b1620b644efafebc6aec42d7d30
msgid "Locks"
msgstr ""

#: ../source/administration/monitoring.txt:356
# de69a7f472944e3ebd104739146b41d7
msgid "MongoDB uses a locking system to ensure data set consistency. However, if certain operations are long-running, or a queue forms, performance will degrade as requests and operations wait for the lock. Lock-related slowdowns can be intermittent. To see if the lock has been affecting your performance, look to the data in the :ref:`globalLock` section of the :dbcommand:`serverStatus` output. If :data:`globalLock.currentQueue.total <serverStatus.globalLock.currentQueue.total>` is consistently high, then there is a chance that a large number of requests are waiting for a lock. This indicates a possible concurrency issue that may be affecting performance."
msgstr ""

#: ../source/administration/monitoring.txt:368
# 2d73945512d844cfb341a88fec57354d
msgid "If :data:`globalLock.totalTime <serverStatus.globalLock.totalTime>` is high relative to :data:`~serverStatus.uptime`, the database has existed in a lock state for a significant amount of time. If :data:`globalLock.ratio <serverStatus.globalLock.ratio>` is also high, MongoDB has likely been processing a large number of long running queries. Long queries are often the result of a number of factors: ineffective use of indexes, non-optimal schema design, poor query structure, system architecture issues, or insufficient RAM resulting in :ref:`page faults <administration-monitoring-page-faults>` and disk reads."
msgstr ""

#: ../source/administration/monitoring.txt:380
# 1115a099e1a54402adb5240c42de47d8
msgid "Memory Usage"
msgstr ""

#: ../source/administration/monitoring.txt:382
# 8eb703e5bac24cd2b4b0fccef677dbe2
msgid "MongoDB uses memory mapped files to store data. Given a data set of sufficient size, the MongoDB process will allocate all available memory on the system for its use. While this is part of the design, and affords MongoDB superior performance, the memory mapped files make it difficult to determine if the amount of RAM is sufficient for the data set."
msgstr ""

#: ../source/administration/monitoring.txt:389
# 3b37e58177ed4fce90a0ef6942fe2634
msgid "The :ref:`memory usage statuses <memory-status>` metrics of the :dbcommand:`serverStatus` output can provide insight into MongoDB's memory use. Check the resident memory use (i.e. :data:`mem.resident <serverStatus.mem.resident>`): if this exceeds the amount of system memory *and* there is a significant amount of data on disk that isn't in RAM, you may have exceeded the capacity of your system."
msgstr ""

#: ../source/administration/monitoring.txt:397
# 3098d07436d84dc1becddd9b65528a29
msgid "You should also check the amount of mapped memory (i.e. :data:`mem.mapped <serverStatus.mem.mapped>`.) If this value is greater than the amount of system memory, some operations will require disk access :term:`page faults <page fault>` to read data from virtual memory and negatively affect performance."
msgstr ""

#: ../source/administration/monitoring.txt:406
# 7d0deeae72db41cdb32aebe42e529262
msgid "Page Faults"
msgstr ""

#: ../source/includes/fact-page-fault.rst:1
# 3e8d560a11ad429caf7ee26ace4e68bd
msgid "With the MMAPv1 storage engine, page faults can occur as MongoDB reads from or writes data to parts of its data files that are not currently located in physical memory. In contrast, operating system page faults happen when physical memory is exhausted and pages of physical memory are swapped to disk."
msgstr ""

#: ../source/administration/monitoring.txt:410
# 8588e9db750b4c6f842519e8a1932c57
msgid "Page faults triggered by MongoDB are reported as the total number of page faults in one second. To check for page faults, see the :data:`extra_info.page_faults <serverStatus.extra_info.page_faults>` value in the :dbcommand:`serverStatus` output."
msgstr ""

#: ../source/administration/monitoring.txt:415
# b02f183ff6cd4929be3ea8f4f141338a
msgid "MongoDB on Windows counts both hard and soft page faults."
msgstr ""

#: ../source/administration/monitoring.txt:417
# 02677890523e4c57914d8ee6f3d625d2
msgid "The MongoDB page fault counter may increase dramatically in moments of poor performance and may correlate with limited physical memory environments. Page faults also can increase while accessing much larger data sets, for example, scanning an entire collection. Limited and sporadic MongoDB page faults do not necessarily indicate a problem or a need to tune the database."
msgstr ""

#: ../source/administration/monitoring.txt:424
# 3ae98c10298c4bfe9b9c4b11be4cf53b
msgid "A single page fault completes quickly and is not problematic. However, in aggregate, large volumes of page faults typically indicate that MongoDB is reading too much data from disk. In many situations, MongoDB's read locks will \"yield\" after a page fault to allow other processes to read and avoid blocking while waiting for the next page to read into memory. This approach improves concurrency, and also improves overall throughput in high volume systems."
msgstr ""

#: ../source/administration/monitoring.txt:432
# 73cd01af76644e18a27ddc5aa933540c
msgid "Increasing the amount of RAM accessible to MongoDB may help reduce the frequency of page faults. If this is not possible, you may want to consider deploying a :term:`sharded cluster` or adding :term:`shards <shard>` to your deployment to distribute load among :program:`mongod` instances."
msgstr ""

#: ../source/administration/monitoring.txt:437
# 1561a0cb2b294b1fadb18f81e226a6dc
msgid "See :ref:`faq-storage-page-faults` for more information."
msgstr ""

#: ../source/administration/monitoring.txt:440
# e58aac454a7f454a91d4e5034e702553
msgid "Number of Connections"
msgstr ""

#: ../source/administration/monitoring.txt:442
# b19eb53dfa1945b7b8a13f1005b43f3a
msgid "In some cases, the number of connections between the application layer (i.e. clients) and the database can overwhelm the ability of the server to handle requests. This can produce performance irregularities. The following fields in the :dbcommand:`serverStatus` document can provide insight:"
msgstr ""

#: ../source/administration/monitoring.txt:448
# 6ddcb126c0664818b30ffd2ad5910570
msgid ":data:`globalLock.activeClients <serverStatus.globalLock.activeClients>` contains a counter of the total number of clients with active operations in progress or queued."
msgstr ""

#: ../source/administration/monitoring.txt:453
# ba5080959cd64ff29aa1412887176952
msgid ":data:`~serverStatus.connections` is a container for the following two fields:"
msgstr ""

#: ../source/administration/monitoring.txt:456
# 12761f4a05df42e880519f370448326b
msgid ":data:`~serverStatus.connections.current` the total number of current clients that connect to the database instance."
msgstr ""

#: ../source/administration/monitoring.txt:459
# e1579ce154fa43268651677a45612027
msgid ":data:`~serverStatus.connections.available` the total number of unused connections available for new clients."
msgstr ""

#: ../source/administration/monitoring.txt:462
# 2f512fedcb044d9380f89c6966a07a06
msgid "If requests are high because there are numerous concurrent application requests, the database may have trouble keeping up with demand. If this is the case, then you will need to increase the capacity of your deployment. For read-heavy applications increase the size of your :term:`replica set` and distribute read operations to :term:`secondary` members. For write heavy applications, deploy :term:`sharding` and add one or more :term:`shards <shard>` to a :term:`sharded cluster` to distribute load among :program:`mongod` instances."
msgstr ""

#: ../source/administration/monitoring.txt:472
# e4eabeedda9144398a33fd3e61a25d90
msgid "Spikes in the number of connections can also be the result of application or driver errors. All of the officially supported MongoDB drivers implement connection pooling, which allows clients to use and reuse connections more efficiently. Extremely high numbers of connections, particularly without corresponding workload is often indicative of a driver or other configuration error."
msgstr ""

#: ../source/administration/monitoring.txt:479
# 256325f1de9c422c95f54a72d0ce28e5
msgid "Unless constrained by system-wide limits MongoDB has no limit on incoming connections. You can modify system limits using the ``ulimit`` command, or by editing your system's ``/etc/sysctl`` file. See :doc:`/reference/ulimit` for more information."
msgstr ""

#: ../source/administration/monitoring.txt:488
# 9c1fdba2affd4548a63c58db3e42aa6d
msgid "Database Profiling"
msgstr ""

#: ../source/administration/monitoring.txt:490
# 93c580fe44314cb3bc579d1e80c2eb8c
msgid "MongoDB's \"Profiler\" is a database profiling system that can help identify inefficient queries and operations."
msgstr ""

#: ../source/administration/monitoring.txt:493
# a4b780ca3eb7427b9f752cbfad092335
msgid "The following profiling levels are available:"
msgstr ""

#: ../source/administration/monitoring.txt:498
# 9203e747bdd847c386cb2a980d7515af
msgid "**Level**"
msgstr ""

#: ../source/administration/monitoring.txt:500
# 077245715f324bd48344a469b0b0245a
msgid "**Setting**"
msgstr ""

#: ../source/administration/monitoring.txt:502
# 83251ce81e704e25a77e5380c87d3cf5
msgid "0"
msgstr ""

#: ../source/administration/monitoring.txt:504
# e366eaa85e414adc9794806c50408c5c
msgid "Off. No profiling"
msgstr ""

#: ../source/administration/monitoring.txt:506
# f2e8a8cc19474cb8b23fe5869a23eba7
msgid "1"
msgstr ""

#: ../source/administration/monitoring.txt:508
# 1425ba8cd4c846a0af1f8ffe60d85a54
msgid "On. Only includes *\"slow\"* operations"
msgstr ""

#: ../source/administration/monitoring.txt:510
# c1e368a14a604a97bd95433a67015ada
msgid "2"
msgstr ""

#: ../source/administration/monitoring.txt:512
# f37c2b50706a4b5585696a644af53c42
msgid "On. Includes *all* operations"
msgstr ""

#: ../source/administration/monitoring.txt:514
# 6ab63a1b8d7c4868b8987c7b1570419a
msgid "Enable the profiler by setting the :dbcommand:`profile` value using the following command in the :program:`mongo` shell:"
msgstr ""

#: ../source/administration/monitoring.txt:522
# 41a7ccac8c90447eba63217e3f33ad3e
msgid "The :setting:`~operationProfiling.slowOpThresholdMs` setting defines what constitutes a \"slow\" operation. To set the threshold above which the profiler considers operations \"slow\" (and thus, included in the level ``1`` profiling data), you can configure :setting:`~operationProfiling.slowOpThresholdMs` at runtime as an argument to the :method:`db.setProfilingLevel()` operation."
msgstr ""

#: ../source/administration/monitoring.txt:0
# 519e740dfb5f4092ab3c4e812ee6c4ce
msgid "See"
msgstr ""

#: ../source/administration/monitoring.txt:531
# 1eb9f686f50f4c51b865423baeb4ab3f
msgid "By default, :program:`mongod` records all \"slow\" queries to its :setting:`log <logpath>`, as defined by :setting:`~operationProfiling.slowOpThresholdMs`."
msgstr ""

#: ../source/administration/monitoring.txt:536
# 2dfe77eccb634d6b80a30d619dded3b7
msgid "Because the database profiler can negatively impact performance, only enable profiling for strategic intervals and as minimally as possible on production systems."
msgstr ""

#: ../source/administration/monitoring.txt:540
# a4edd6e6ae1749009fed147087f8b2c4
msgid "You may enable profiling on a per-:program:`mongod` basis. This setting will not propagate across a :term:`replica set` or :term:`sharded cluster`."
msgstr ""

#: ../source/administration/monitoring.txt:544
# a264ee4d496f4f9ebbf7cb0392aa11d5
msgid "You can view the output of the profiler in the ``system.profile`` collection of your database by issuing the ``show profile`` command in the :program:`mongo` shell, or with the following operation:"
msgstr ""

#: ../source/administration/monitoring.txt:552
# 12a11824341e4ddbac57acede6a16028
msgid "This returns all operations that lasted longer than 100 milliseconds. Ensure that the value specified here (``100``, in this example) is above the :setting:`~operationProfiling.slowOpThresholdMs` threshold."
msgstr ""

#: ../source/administration/monitoring.txt:556
# 67c7da39f3bd4741870e2760fc0eb365
msgid ":doc:`/administration/optimization` addresses strategies that may improve the performance of your database queries and operations."
msgstr ""

#: ../source/administration/monitoring.txt:563
# e31455cb92c847828c62f00f82020833
msgid "Replication and Monitoring"
msgstr ""

#: ../source/administration/monitoring.txt:565
# a4021ad294fa466b825c3a2b44f71e84
msgid "Beyond the basic monitoring requirements for any MongoDB instance, for replica sets, administrators must monitor *replication lag*. \"Replication lag\" refers to the amount of time that it takes to copy (i.e. replicate) a write operation on the :term:`primary` to a :term:`secondary`. Some small delay period may be acceptable, but two significant problems emerge as replication lag grows:"
msgstr ""

#: ../source/administration/monitoring.txt:572
# bf93a25835434fd7b1fe80d33a996122
msgid "First, operations that occurred during the period of lag are not replicated to one or more secondaries. If you're using replication to ensure data persistence, exceptionally long delays may impact the integrity of your data set."
msgstr ""

#: ../source/administration/monitoring.txt:577
# 725f8b35b4634b3bbe33982e236b603c
msgid "Second, if the replication lag exceeds the length of the operation log (:term:`oplog`) then MongoDB will have to perform an initial sync on the secondary, copying all data from the :term:`primary` and rebuilding all indexes. This is uncommon under normal circumstances, but if you configure the oplog to be smaller than the default, the issue can arise."
msgstr ""

#: ../source/administration/monitoring.txt:586
# 05596cc8f9d049ed838f97956f7fc19f
msgid "The size of the oplog is only configurable during the first run using the :option:`--oplogSize <mongod --oplogSize>` argument to the :program:`mongod` command, or preferably, the :setting:`~replication.oplogSizeMB` setting in the MongoDB configuration file. If you do not specify this on the command line before running with the :option:`--replSet <mongod --replSet>` option, :program:`mongod` will create a default sized oplog."
msgstr ""

#: ../source/administration/monitoring.txt:594
# 0498c5722bb04e06996a10fd5be981c9
msgid "By default, the oplog is 5 percent of total available disk space on 64-bit systems. For more information about changing the oplog size, see the :doc:`/tutorial/change-oplog-size`"
msgstr ""

#: ../source/administration/monitoring.txt:598
# 79699d29dc174015be6f0af0fc03d630
msgid "For causes of replication lag, see :ref:`Replication Lag <replica-set-replication-lag>`."
msgstr ""

#: ../source/administration/monitoring.txt:601
# ae04a9bbb068426a84e58c6995c98a0c
msgid "Replication issues are most often the result of network connectivity issues between members, or the result of a :term:`primary` that does not have the resources to support application and replication traffic. To check the status of a replica, use the :dbcommand:`replSetGetStatus` or the following helper in the shell:"
msgstr ""

#: ../source/administration/monitoring.txt:611
# 3a0e0aaa639740639febb78b7962bcdb
msgid "The :dbcommand:`replSetGetStatus` reference provides a more in-depth overview view of this output. In general, watch the value of :data:`~replSetGetStatus.members.optimeDate`, and pay particular attention to the time difference between the :term:`primary` and the :term:`secondary` members."
msgstr ""

#: ../source/administration/monitoring.txt:618
# 953b39aaff214fd1a42c41815d6c4732
msgid "Sharding and Monitoring"
msgstr ""

#: ../source/administration/monitoring.txt:620
# 682eb604a8fa494799c3f7d5faa5b606
msgid "In most cases, the components of :term:`sharded clusters <sharded cluster>` benefit from the same monitoring and analysis as all other MongoDB instances. In addition, clusters require further monitoring to ensure that data is effectively distributed among nodes and that sharding operations are functioning appropriately."
msgstr ""

#: ../source/administration/monitoring.txt:626
# 61e5ef40e79748bc939b83d6e30330b0
msgid "See the :doc:`/core/sharding` documentation for more information."
msgstr ""

#: ../source/administration/monitoring.txt:630
# c0f7191c661e4055985542bf41f4059c
msgid "Config Servers"
msgstr ""

#: ../source/administration/monitoring.txt:632
# 247c9fe798704814ad31697767295677
msgid "The :term:`config database` maintains a map identifying which documents are on which shards. The cluster updates this map as :term:`chunks <chunk>` move between shards. When a configuration server becomes inaccessible, certain sharding operations become unavailable, such as moving chunks and starting :program:`mongos` instances. However, clusters remain accessible from already-running :program:`mongos` instances."
msgstr ""

#: ../source/administration/monitoring.txt:640
# 6503581f2317404a859feaaee2683771
msgid "Because inaccessible configuration servers can seriously impact the availability of a sharded cluster, you should monitor your configuration servers to ensure that the cluster remains well balanced and that :program:`mongos` instances can restart."
msgstr ""

#: ../source/administration/monitoring.txt:645
# 078ec80986bc422aa14d47009e35ab09
msgid ":mms-home:`MMS </>` monitors config servers and can create notifications if a config server becomes inaccessible."
msgstr ""

#: ../source/administration/monitoring.txt:650
# 6591f3bf8a894ea2865c6d3fa87e1218
msgid "Balancing and Chunk Distribution"
msgstr ""

#: ../source/administration/monitoring.txt:652
# 37ee3fa7323140ec8ec764f04eb9421a
msgid "The most effective :term:`sharded cluster` deployments evenly balance :term:`chunks <chunk>` among the shards. To facilitate this, MongoDB has a background :term:`balancer` process that distributes data to ensure that chunks are always optimally distributed among the :term:`shards <shard>`."
msgstr ""

#: ../source/administration/monitoring.txt:657
# ff8633b20b564ce3ad09174d608c671a
msgid "Issue the :method:`db.printShardingStatus()` or :method:`sh.status()` command to the :program:`mongos` by way of the :program:`mongo` shell. This returns an overview of the entire cluster including the database name, and a list of the chunks."
msgstr ""

#: ../source/administration/monitoring.txt:663
# 9e0405dbce5e47d8aa1b64788bedd148
msgid "Stale Locks"
msgstr ""

#: ../source/administration/monitoring.txt:665
# 34b9dd514a2d457da2b253e5bece1296
msgid "In nearly every case, all locks used by the balancer are automatically released when they become stale. However, because any long lasting lock can block future balancing, it's important to ensure that all locks are legitimate. To check the lock status of the database, connect to a :program:`mongos` instance using the :program:`mongo` shell. Issue the following command sequence to switch to the ``config`` database and display all outstanding locks on the shard database:"
msgstr ""

#: ../source/administration/monitoring.txt:678
# edd5e4b6969e4835a50a1180db1a1f32
msgid "For active deployments, the above query can provide insights. The balancing process, which originates on a randomly selected :program:`mongos`, takes a special \"balancer\" lock that prevents other balancing activity from transpiring. Use the following command, also to the ``config`` database, to check the status of the \"balancer\" lock."
msgstr ""

#: ../source/administration/monitoring.txt:689
# a9d244e9a87747539f24c62b32ea1e70
msgid "If this lock exists, make sure that the balancer process is actively using this lock."
msgstr ""


.. meta::
   :keywords: atlas ui, atlas cli

.. _atlas-ui-indexes:

====================================
Create, View, Drop, and Hide Indexes
====================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can use the {+atlas-cli+} or the {+atlas-ui+} to manage
:manual:`indexes </core/indexes>` on your collections.

Indexes support the efficient execution of queries in MongoDB and should
be considered for fields which your application reads often. To learn
more about creating effective indexes, see :manual:`Indexing Strategies
</applications/indexes/>`.

You can enable auto-creation of indexes for {+Serverless-instances+} (deprecated).
To learn more, see :ref:`auto-index-serverless`.

Required Roles
--------------

To :ref:`create <atlas-ui-create-an-index>`,
:ref:`drop <atlas-ui-drop-an-index>`, or :ref:`hide <atlas-ui-hide-an-index>` indexes,
you must have access provided by at least one of the following roles:

- :authrole:`Project Owner` or :authrole:`Organization Owner`
- :authrole:`Project Data Access Admin`

Considerations
--------------

By default, you can have up to three concurrent index builds. To learn  
more, see :manual:`Maximum Concurrent Index Builds
</core/index-creation/#maximum-concurrent-index-builds>`. 

When you initiate a rolling index build, the node will be in :ref:`HOST_DOWN <atlas-alert-event-types>` 
state for the duration of the build. To cancel a rolling index build, you must contact 
:ref:`MongoDB support <request-support>`.

If you select to build indexes in a rolling fashion, you must ensure 
the following:

- Request rolling index builds and non-rolling index builds 
  sequentially and not simultaneously. Wait for a currently executing 
  index build to complete before you request another index 
  build.

- If you need to request multiple rolling index builds, wait for the 
  currently executing rolling index build to complete before you 
  request another rolling index build.

To track rolling index builds, see the :ref:`Activity Feed 
<activity-feed>`.

For aborted rolling index builds, you must run :dbcommand:`listIndexes` 
on each node to verify that the cancelled index no longer exists. 
Otherwise, the {+cluster+} might remain in an inconsistent state.

.. _atlas-ui-view-indexes:

View Indexes
------------

To view index information for a collection:

.. include:: /includes/steps-atlas-ui-indexes.rst

.. _atlas-ui-create-an-index:

Create an Index
---------------

.. tip::

   When you create indexes, keep the ratio of reads to writes on the
   target collection in mind. Indexes come with a performance cost, but
   are more than worth the cost for frequent queries on large data sets.
   Before you create an index, review the documented
   :manual:`indexing strategies </applications/indexes/>`.

.. note::

   You can build full-text search with :ref:`Atlas Search 
   <fts-top-ref>` and semantic search with :ref:`{+avs+} 
   <fts-vector-search>`. |fts| offers fine-grained text indexing. To learn 
   more, see :ref:`ref-index-definitions` and :ref:`avs-types-vector-search`.

.. tabs::

   .. tab:: {+atlas-cli+}
      :tabid: atlascli

      .. include:: /includes/extracts/atlas-clusters-indexes-create.rst

   .. tab:: {+atlas-ui+}
      :tabid: ui

      To create an index for a collection by using the {+atlas-ui+}:

      .. Attention writers: If you make changes to the following
      .. procedure please check the related procedures in the following
      .. Server docs page(s) to see if they require changes as well: 
      .. www.mongodb.com/docs/manual/tutorial/expire-data/

      .. include:: /includes/steps/atlas-ui-create-index.rst

.. _atlas-ui-drop-an-index:

Drop an Index
-------------

To drop an index from a collection by using the {+atlas-ui+}:

.. include:: /includes/steps-atlas-ui-drop-index.rst

.. important::

   You can't delete or hide the ``_id`` index. To learn more, see
   :manual:`Unique Indexes </core/index-unique/>`.

   Consider :ref:`hiding the index <atlas-ui-hide-an-index>` 
   to evaluate the impact of dropping an index before you
   drop it. To learn more, see :manual:`Hidden Indexes </core/index-hidden/>`.

.. note:: {+atlas-cli+} Limitation

   You can't drop a {+cluster+}'s index by using the {+atlas-cli+}.

.. _atlas-ui-hide-an-index:

Hide an Index
-------------

To hide an index by using the {+atlas-ui+}:

.. include:: /includes/steps-atlas-ui-hide-index.rst

.. _whitelist:
.. _add-to-whitelist:

===========================
Configure Whitelist Entries
===========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

|service| only allows client connections to the cluster from entries in
the project's whitelist. Each entry is either a single IP address or a
|cidr|\-notated range of addresses. For |aws| clusters with one or more
:ref:`VPC Peering <vpc-peering>` connections to the same |aws| region,
you can specify a Security Group associated with a peered |vpc|.

For |service| clusters deployed on :ref:`google-gcp` or
:ref:`microsoft-azure`, add the IP addresses of your |gcp| or :abbr:`Azure (Microsoft Azure)` services to |service| project IP
whitelist to grant those services access to the cluster.

The whitelist applies to all clusters in the project and can have up to
200 whitelist entries, with the following exception: projects with an
existing sharded cluster created *before* August 25, 2017 can have up
to 100 whitelist entries.

|service| supports creating temporary whitelist entries that automatically expire within a user-configurable 7-day period.

.. include:: /includes/fact-ip-address-auditing.rst

.. _view-whitelist-entries-ui:

View Whitelist Entries
----------------------

In the :guilabel:`Security` section of the left navigation, click
:guilabel:`Network Access`. The :guilabel:`IP Whitelist` tab
displays.


.. list-table::
   :widths: 20 80
   :stub-columns: 1

   * - IP Address
     - IP address or |cidr| block. If this cluster is hosted on |aws|,
       you can provide an |aws| Security Group ID as well.

   * - Comment
     - Description or other information about the whitelist entry

   * - Status
     - Status of the whitelist entry:

       .. include:: /includes/list-tables/whitelist-statuses.rst

   * - Actions
     - Options to :ref:`Edit <modify-whitelist-entry-ui>` or
       :ref:`Delete <delete-whitelist-entry-ui>`



.. _add-to-whitelist-ui:

Add Whitelist Entries
---------------------

.. include:: /includes/steps/add-to-whitelist.rst

You can also add entries to the whitelist through the |service|
|api|. See :doc:`/reference/api/whitelist-add-one`.

.. _modify-whitelist-entry-ui:

Modify Whitelist Entries
------------------------

.. include:: /includes/steps/modify-whitelist-entry.rst

You can also modify existing whitelist entries through the |service|
|api|. See :doc:`/reference/api/whitelist-add-one`.

.. _delete-whitelist-entry-ui:

Delete Whitelist Entries
------------------------

.. important::

   .. include:: /includes/fact-delete-whitelist-behavior.rst

.. include:: /includes/steps/delete-whitelist-entry.rst

You can also delete existing users through the |service| |api|. See
:doc:`/reference/api/whitelist-delete-one`.

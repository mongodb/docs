ref: fts-sort-tutorial-step1
level: 4
stepnum: 1
inherit:
  file: steps-fts-tutorial-run-query.yaml
  ref: connect-to-database-deployment-fts
---
ref: fts-sort-tutorial-step2
level: 4
stepnum: 2
inherit:
  file: steps-fts-tutorial-run-query.yaml
  ref: use-sample-mflix
---
ref: fts-sort-tutorial-step3
level: 4
stepnum: 3
title: "Run an |fts| query against the indexed field and sort speed and precision."
content: |
  .. include:: /includes/extracts/fts-sort-speed-precision-constant-desc.rst 
       
  .. include:: /includes/extracts/fts-sort-speed-precision-stage.rst

  .. io-code-block::
     :copyable: true

     .. input::
        :language: js
        :linenos:

        db.movies.aggregate([
          {
            $search: {
              "autocomplete": {
                "path": "title",
                "query": "Happy"
              },
              "returnStoredSource": true
            }
          },
          {
            $limit: 5
          },
          {
            $sort: {
              title: -1
            }
          }
        ])

     .. output::
        :language: json

        {
          _id: ObjectId("573a13bef29313caabd5aeba"),
          title: 'Happy-Go-Lucky'
        },
        {
          _id: ObjectId("573a1396f29313caabce4efc"),
          title: 'Happy New Year'
        },
        {
          _id: ObjectId("573a13ddf29313caabdb4efe"),
          title: 'Happy New Year'
        },
        { _id: ObjectId("573a13c5f29313caabd70f55"), title: 'Happy Feet 2' },
        {
          _id: ObjectId("573a13c3f29313caabd6b1b2"),
          title: 'Happy Ever Afters'
        }
...

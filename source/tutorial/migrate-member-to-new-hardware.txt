============================================
Migrate a Replica Set Member to a New Server
============================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

For |mms| managed replica sets, you can replace one member of a
:term:`replica set` with another new member from the |mms| console. Use this
process to migrate members of replica sets to new underlying
servers. From a high level, this procedure requires that you add
a member to the replica set on the new server and then shut down the
existing member on the old server. Specifically, you will

1. Provision the new server.

2. Add an extra member to the replica set.

3. Shut down old member of the replica set.

4. Un-manage the old member (Optional).

Considerations
--------------

Initial Sync
~~~~~~~~~~~~

When you add a new replica set member, the member must perform an
:term:`initial sync`, which takes time to complete, depending on the
size of your data set. For more information on initial sync, see
:manual:`Replica Set Data Synchronization </core/replica-set-sync>`.

Migrating Multiple Members
~~~~~~~~~~~~~~~~~~~~~~~~~~

When migrating multiple members, you must keep a majority of voting members
active with respect to the original number of voting members. Otherwise your
primary will step down and your replica set become read-only. You can remove
multiple members at once **only if doing so leaves a majority**. For more
information on voting, see :manual:`Replica Set High Availability
</core/replica-set-high-availability>` and :manual:`Replica Set Elections
</core/replica-set-elections>` in the MongoDB Manual.

Removing members during migration might affect the ability of the replica set
to acknowledge writes, depending on the level of :term:`write concern` you
use. For more information, see :manual:`Write Concern
</reference/write-concern>` in the MongoDB manual.

Procedure
---------

Perform this procedure separately for each member of a replica set to
migrate.

.. include:: /includes/steps/migrate-member-to-new-hardware.rst

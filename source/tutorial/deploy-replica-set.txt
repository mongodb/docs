====================
Deploy a Replica Set
====================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. include:: /includes/styles/corrections.rst

.. include:: /includes/note-k8s-supported-in-om4.rst

A :term:`replica set` is a group of MongoDB deployments that maintain
the same data set. Replica sets provide redundancy and high
availability and are the basis for all production deployments.

To learn more about replica sets, see the :manual:`Replication
Introduction </core/replication-introduction>` in the MongoDB manual.

Use this procedure to deploy a new replica set managed by |mms|. After
deployment, use |mms| to manage the replica set, including such
operations as adding, removing, and reconfiguring members.


Prerequisites
-------------

.. |deployment| replace:: replica set

.. include:: /includes/prereqs-deploy-resource.rst

Considerations
--------------

.. include:: /includes/fact-one-cluster-per-proj.rst

Procedure
---------

The procedure for deploying a replica set depends on whether you require
the deployment to run with |tls| enabled for intra-cluster communication
and clients connecting to the database:

.. tabs::

   tabs:
     - id: tls-disabled
       name: Without TLS
       content: |
         .. include:: /includes/steps/deploy-k8s-replica-set.rst

     - id: tls-enabled
       name: With TLS
       content: |
         The |k8s-op-full| can use |tls| certificates to encrypt
         communication between:

         - MongoDB hosts in a replica set or sharded cluster configuration
         - Clients (|mongo| shell, drivers, |compass|, and others)
           and the MongoDB deployment

         The following procedure walks you through deploying a replica
         set with |tls| enabled:

         .. include:: /includes/steps/deploy-k8s-replica-set-tls.rst

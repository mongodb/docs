.. _3.6.22-changelog:

3.6.22 Changelog
----------------

Sharding
~~~~~~~~

:issue:`SERVER-53182` [v3.6] Omit "versions" from {shardingState: 1} command when not running as a --shardsvr

Replication
~~~~~~~~~~~

- :issue:`SERVER-33747` Arbiter tries to start data replication if cannot find itself in config after restart
- :issue:`SERVER-52680` Removed node on startup stuck in STARTUP2 after being re-added into the replica set
- :issue:`SERVER-53026` Secondary cannot restart replication
- :issue:`SERVER-53345` Excuse arbiter_new_hostname.js from multiversion tests

Query
~~~~~

:issue:`SERVER-32960` $mod has inconsistent rounding/truncation behavior

Storage
~~~~~~~

:issue:`SERVER-52902` Remove assertion !haveJournalFiles() at dur_journal.cpp:265

Build and Packaging
~~~~~~~~~~~~~~~~~~~

- :issue:`SERVER-32437` Platform Support: add Amazon Linux 2
- :issue:`SERVER-52854` Fix package test on debian based system in 3.6

Internals
~~~~~~~~~

- :issue:`SERVER-50445` Return the value as double when NumberLong subtraction overflows in ExpressionSubtract
- :issue:`SERVER-50891` mongod 3.6.20-rc2 core dumps if dbpath DNE or perms block
- :issue:`SERVER-52654` new signing keys not generated by the monitoring-keys-for-HMAC thread
- :issue:`SERVER-52806` deb install files assume systemd


.. procedure::
   :style: normal

   .. include:: /includes/atlas-nav/steps-db-access.rst
      
   .. step:: Open the :guilabel:`Add New Database User` dialog.
      
      Click :icon-fa5:`plus` :guilabel:`Add New Database User`.
      
   .. step:: Select :guilabel:`Password`.

      In the :guilabel:`Authentication Method` section of the :guilabel:`Add
      New Database User` modal window, select the box labeled :guilabel:`Password`.
      
   .. step:: Enter user information.

      Under :guilabel:`Password Authentication`, there are two text fields.
      
      a. Enter a username for the new user in the upper text field.
      
      #. Enter a password for the new user in the lower text field.
      
      To use a password auto-generated by {+atlas+},
      click the :guilabel:`Autogenerate Secure Password` button.
      
   .. step:: Assign privileges.

      Select the database user privileges. You can assign privileges to the new user
      in one or more of the following ways:
      
      - Select a :atlas:`built-in role </security-add-mongodb-users/#built-in-roles>` from the
        :guilabel:`Built-in Role` dropdown menu. You can select one
        built-in role per database user within the Atlas UI. If you delete the
        default option, you can click :guilabel:`Add Built-in Role` to select a new built-in role.
      
      - If you have any :atlas:`custom roles </security-add-mongodb-roles>` defined, you can expand
        the :guilabel:`Custom Roles` section and select
        one or more roles from the :guilabel:`Custom Roles` dropdown menu. Click
        :guilabel:`Add Custom Role` to add more custom roles. You can also
        click the :guilabel:`Custom Roles` link to see the custom
        roles for your project.
      
      - Expand the :guilabel:`Specific Privileges` section and select one or more
        :atlas:`privileges </security-add-mongodb-users/#specific-privileges>` from the
        :guilabel:`Specific Privileges` dropdown menu. Click
        :guilabel:`Add Specific Privilege` to add more privileges. This assigns the
        user specific privileges on individual databases and collections.
      
      {+atlas+} can apply a built-in role, multiple custom roles, and multiple specific
      privileges to a single database user. 
      
      To remove an applied role or privilege, click :icon-fa4:`trash-o`
      :guilabel:`Delete` next to the role or privilege you wish to delete.
      
      .. note::
      
        {+atlas+} doesn't display the :icon-fa4:`trash-o` :guilabel:`Delete` icon
        next to your :guilabel:`Built-in Role`, :guilabel:`Custom Role`, or
        :guilabel:`Specific Privilege` selection if you select only one option. You
        can delete the selected role or privilege once you apply another role or privilege.
         
      For more information on authorization, see :ref:`Role-Based
      Access Control <authorization>` and :ref:`Built-in
      Roles <built-in-roles>`.
      
   .. step:: Specify the resources in the project that the user can access.

      By default, users can access all the clusters and 
      :atlas:`federated database instances </data-federation/overview>` in the 
      project. You can restrict access to specific clusters and federated database instances
      by performing both of the following steps: 
      
      a. Toggle :guilabel:`Restrict Access to Specific Clusters/Federated 
         Database Instances` to :guilabel:`ON`.
      
      #. Select the clusters and federated database instances to grant the user access to 
         from the :guilabel:`Grant Access To` list.
      
   .. step:: Save as temporary user.
      
      Toggle :guilabel:`Temporary User` to :guilabel:`On` and choose
      a time after which {+atlas+} may delete the user from the
      :guilabel:`Temporary User Duration` dropdown. You can select one of the
      following time periods for the user to exist:
      
      - 6 hours
      - 1 day
      - 1 week
      
      In the :guilabel:`Database Users` tab, temporary users display
      the time remaining until {+atlas+} deletes the user. Once
      {+atlas+} deletes the user, any client or application that uses
      the temporary user's credentials loses access to the cluster.
      
   .. step:: Click :guilabel:`Add User`.

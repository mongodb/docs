# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2011-2015
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 3.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2015-03-30 14:28-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:3
# 44f65bbd090e48a1bd0147b6f1ceb65e
msgid "Recover Data after an Unexpected Shutdown"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:7
# 909c6cc2763b4061a0a91836196b6c67
msgid "If MongoDB does not shutdown cleanly [#clean-shutdown]_ the on-disk representation of the data files will likely reflect an inconsistent state which could lead to data corruption. [#validation]_"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:11
# 0fedaf61a90f414a9ac237d01c408e1d
msgid "To prevent data inconsistency and corruption, always shut down the database cleanly and use the :term:`durability journaling <journal>`. MongoDB writes data to the journal, by default, every 100 milliseconds, such that MongoDB can always recover to a consistent state even in the case of an unclean shutdown due to power loss or other system failure."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:18
# b024b4d18acd4b3b973fe4f413095bed
msgid "If you are *not* running as part of a :term:`replica set` **and** do *not* have journaling enabled, use the following procedure to recover data that may be in an inconsistent state. If you are running as part of a replica set, you should *always* restore from a backup or restart the :program:`mongod` instance with an empty :setting:`~storage.dbPath` and allow MongoDB to perform an initial sync to restore the data."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:25
# a1a9604da0bc4d29a291a5f8ad0901d7
msgid "The :doc:`/administration` documents, including :ref:`Replica Set Syncing <replica-set-syncing>`, and the documentation on the :option:`--repair <mongod --repair>` :setting:`~storage.repairPath` and :setting:`storage.journal.enabled` settings."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:31
# 1d4ace81b7164f43b9acaeea6a97c53d
msgid "To ensure a clean shut down, use the :method:`db.shutdownServer()` from the :program:`mongo` shell, your control script, the :option:`mongod --shutdown` option on Linux systems, \"Control-C\" when running :program:`mongod` in interactive mode, or ``kill $(pidof mongod)`` or ``kill -2 $(pidof mongod)``."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:37
# 0b1ce698e033426c9b09f64f3abd77cd
msgid "You can also use the :method:`db.collection.validate()` method to test the integrity of a single collection. However, this process is time consuming, and without journaling you can safely assume that the data is in an invalid state and you should either run the repair operation or resync from an intact member of the replica set."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:45
# 36ae5ce2265d499cabc4965a4fd0bf46
msgid "Process"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:48
# bf22e9b37944413683783339faaa8183
msgid "Indications"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:50
# 9631f483787249df9eb123275d1aef27
msgid "When you are aware of a :program:`mongod` instance running without journaling that stops unexpectedly **and** you're not running with replication, you should always run the repair operation before starting MongoDB again. If you're using replication, then restore from a backup and allow replication to perform an initial :ref:`sync <replica-set-syncing>` to restore data."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:56
# eaffc3e4797a432e88baaff1c6966229
msgid "If the ``mongod.lock`` file in the data directory specified by :setting:`~storage.dbPath`, ``/data/db`` by default, is *not* a zero-byte file, then :program:`mongod` will refuse to start, and you will find a message that contains the following line in your MongoDB log our output:"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:66
# 7d98a49ccbd14d3ea033a2a834ca43b9
msgid "This indicates that you need to run :program:`mongod` with the :option:`--repair <mongod --repair>` option. If you run repair when the ``mongodb.lock`` file exists in your :setting:`~storage.dbPath`, or the optional :option:`--repairpath <mongod --repairpath>`, you will see a message that contains the following line:"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:76
# 8e13fd25d20a40e09f8178015ad43048
msgid "If you see this message, as a last resort you may remove the lockfile **and** run the repair operation before starting the database normally, as in the following procedure:"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:81
# efb4bd2efb0d492dbd5a81af8b30d88d
msgid "Overview"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:83
# 16cbb67c92894bc2aaedcdfc4dfc593d
msgid "Recovering a member of a replica set."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:85
# e42a0832d69a4f5da0bc748cb00da9c8
msgid "Do not use this procedure to recover a member of a :term:`replica set`. Instead you should either restore from a :doc:`backup </core/backups>` or perform an initial sync using data from an intact member of the set, as described in :doc:`/tutorial/resync-replica-set-member`."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:91
# 854661af391d47539ff8460c19f24760
msgid "There are two processes to repair data files that result from an unexpected shutdown:"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:94
# ac82280dac3141be95a6e423a8f884a8
msgid "Use the :option:`--repair <mongod --repair>` option in conjunction with the :option:`--repairpath <mongod --repairpath>` option. :program:`mongod` will read the existing data files, and write the existing data to new data files."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:99
# 152b6adcb5814ffeaae96270c5ae1c32
msgid "You do not need to remove the ``mongod.lock`` file before using this procedure."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:102
# ac9671953f624a4cbb09a6c997b6b73f
msgid "Use the :option:`--repair <mongod --repair>` option. :program:`mongod` will read the existing data files, write the existing data to new files and replace the existing, possibly corrupt, files with new files."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:107
# 6a99dad7be534e13a9237b403e7031a8
msgid "You must remove the ``mongod.lock`` file before using this procedure."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:112
# 9a2e980eeffa47efacaa8202d7f704bd
msgid ":option:`--repair <mongod --repair>` functionality is also available in the shell with the :method:`db.repairDatabase()` helper for the :dbcommand:`repairDatabase` command."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:119
# 7f12729fb36a48bb858dc3ce078fd1e0
msgid "Procedures"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:121
# 8b12fe776db845f983602242cd344ec6
msgid "Always Run :program:`mongod` as the same user to avoid changing the permissions of the MongoDB data files."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:125
# 8eda57bb1258435493a72a9b94ee93ae
msgid "Repair Data Files and Preserve Original Files"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:127
# f25f63dd0cb64779a1a539102cd876f3
msgid "To repair your data files using the :option:`--repairpath <mongod --repairpath>` option to preserve the original data files unmodified."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:133
# 1b0bd8059a134115bba1d7133a770ae4
msgid "Repair Data Files without Preserving Original Files"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:135
# 90ac424e2c3f45b88f5f7de91d25750d
msgid "To repair your data files without preserving the original files, do not use the :option:`--repairpath <mongod --repairpath>` option, as in the following procedure:"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:141
# fc431642d9eb4d1fba683c4ee658c15e
msgid "After you remove the ``mongod.lock`` file you *must* run the :option:`--repair <mongod --repair>` process before using your database."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:148
# c1d97ee2731644ad909aa8ff43b00184
msgid "``mongod.lock``"
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:150
# ea5854fd57214032ba3288a3515899b3
msgid "In normal operation, you should **never** remove the ``mongod.lock`` file and start :program:`mongod`. Instead consider the one of the above methods to recover the database and remove the lock files. In dire situations you can remove the lockfile, and start the database using the possibly corrupt files, and attempt to recover data from the database; however, it's impossible to predict the state of the database in these situations."
msgstr ""

#: ../source/tutorial/recover-data-following-unexpected-shutdown.txt:158
# 50d2cc28378d4543b24b2bfd547d95f0
msgid "If you are not running with journaling, and your database shuts down unexpectedly for *any* reason, you should always proceed *as if* your database is in an inconsistent and likely corrupt state. If at all possible restore from :doc:`backup </core/backups>` or, if running as a :term:`replica set`, restore by performing an initial sync using data from an intact member of the set, as described in :doc:`/tutorial/resync-replica-set-member`."
msgstr ""


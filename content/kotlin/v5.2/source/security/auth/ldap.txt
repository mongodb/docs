.. _kotlin-ldap:

================================
LDAP (PLAIN SASL) Authentication
================================

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. facet::
   :name: genre
   :values: reference

.. meta::
   :keywords: authorization, code example

Overview
--------

The PLAIN authentication mechanism allows you to use your Lightweight Directory Access
Protocol (LDAP) username and password to authenticate to MongoDB.
LDAP authentication uses the PLAIN Simple Authentication and Security Layer
(SASL) defined in `RFC-4616 <https://tools.ietf.org/html/rfc4616>`__.

You can use this mechanism only when authenticating to MongoDB Atlas or MongoDB Enterprise
Advanced.

.. important::

   PLAIN SASL is a clear-text authentication mechanism. We strongly recommend that you
   use TLS/SSL with certificate validation when using PLAIN SASL to authenticate to MongoDB.

   To learn more about how to enable TLS for your connection, see
   :ref:`<kotlin-tls>`.
   
Code Placeholders
~~~~~~~~~~~~~~~~~

The code examples on this page use the following placeholders:

* ``LDAP username`` - your LDAP username
* ``password`` - your LDAP user's password
* ``hostname`` - network address of your MongoDB server, accessible by your client
* ``port`` - port number of your MongoDB server

Authenticate with LDAP (PLAIN)
------------------------------

.. tabs::

   .. tab::
      :tabid: Connection String

      To specify the LDAP (PLAIN) authentication mechanism by using a connection
      string:

      - Assign the ``authMechanism`` URL parameter to the value ``PLAIN``
      - *(optional)* Assign the ``authSource`` URL parameter to the value ``$external``

      .. note::

         If you specify the ``PLAIN`` mechanism, you cannot assign
         ``authSource`` to any value other than ``$external``.

      Your code to instantiate a ``MongoClient`` should resemble the following:

      .. literalinclude:: /examples/generated/EnterpriseAuthTest.snippet.ldap-connection-string.kt
         :language: kotlin

   .. tab::
      :tabid: MongoCredential

      To specify the LDAP (PLAIN) authentication mechanism by using the
      ``MongoCredential`` class, use the ``createPlainCredential()``
      method. Your code to instantiate a ``MongoClient`` should resemble the following:

      .. literalinclude:: /examples/generated/EnterpriseAuthTest.snippet.ldap-mongo-credential.kt
         :language: kotlin
======================
Embedded Chart Options
======================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

You can customize your embedded charts by appending various
query parameters to their iframe URLs.

.. note::

   To embed charts from your dashboards, you must configure embedding
   options on your data sources. For instructions, see
   :ref:`embedding-charts`. 

Specify Refresh Interval
------------------------

Use the ``autorefresh`` query parameter to define the interval,
in seconds, at which the chart refreshes with the latest data from
its :ref:`data source <data-sources>`. If you do not specify
this option, your embedded chart loads once when the iframe
loads and does not automatically refresh.

Example
~~~~~~~

The following iframe embeds a chart which automatically refreshes
every 30 seconds as defined by the ``autorefresh=30`` query parameter:

.. code-block:: none

   <iframe style="border: none;border-radius: 2px;box-shadow: 0 2px
   10px 0 rgba(70, 76, 79, .2);" width="640" height="480" src="
   {charts-host}/embed/charts?id=b3ca720f-4b4a-40b4-a726-e7dc0c49aa1c&
   tenant=c184f559-a6d6-4c17-a524-fde31193e498&autorefresh=30"></iframe>

Considerations
~~~~~~~~~~~~~~

- The minimum automatic refresh interval is 10 seconds. If you specify
  an ``autorefresh`` value less than 10, the chart refreshes every 10
  seconds.

- If you specify an ``autorefresh`` value which is not an integer or
  less than 0, an :ref:`error <embedded-errors>` is returned.

- If your data source requires a
  :ref:`Verified Signature <embedding-procedure>`, the signature
  validity (including the expiry date) is checked on each refresh. If
  the signature's expiry date passed, the host web page must
  regenerate a new signature to continue rendering charts. For
  code examples using verified signatures, see
  `MongoDB Charts Embedding Examples <https://github.com/mongodb/charts-embedding-examples>`__
  on GitHub.

  .. example::

     If you specify an automatic refresh interval of one minute and the
     expiry date of the signature is in 1 hour, the chart refreshes
     every minute for an hour. Once one hour has elapsed, the chart
     will not render and an error will be displayed as the signature is
     no longer valid. The host web page must regenerate a new signature
     to resume rendering the chart.

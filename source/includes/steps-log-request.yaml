title: "For the deployment you want to download logs, click :guilabel:`Request Logs`"
stepnum: 1
level: 4
ref: request-logs
content: |
  On the line for any process, :term:`replica set`, or 
  :term:`sharded cluster` in the project, click the ellipsis 
  [:guilabel:`...`] icon then click  :guilabel:`Request Logs`
---
title: "Select which types of log |mms| should collect and the maximum size per process you would like."
stepnum: 2
level: 4
ref: request-logs-options
content: |

  Take the following actions to choose logs to download.

  .. list-table::
     :widths: 30 70
     :header-rows: 1

     * - Action
       
       - Purpose

     * - Click :guilabel:`MongoDB Logs`
       
       - Gather logs from deployed MongoDB processes.

     * - Click :guilabel:`FTDC Data`

       - Gather the diagnostic data files from the (:abbr:`FTDC 
         (full-time diagnostic data capture)`) collection mechanism, such 
         as server statistics and status messages.

     * - Click :guilabel:`Automation Agent Logs`
       
       - Gather logs from the deployed
         :term:`Automation Agents <Automation Agent>`.

     * - Click :guilabel:`Backup Agent Logs`
       
       - Gather logs from the deployed :term:`Backup
         Agents <Backup Agent>`.

     * - Click :guilabel:`Monitoring Agent Logs`
       
       - Gather logs from the deployed
         :term:`Monitoring Agent`.

     * - Set :guilabel:`Size per Log Type` in MB

       - Enter the maximum uncompressed size in megabytes of each log 
         file to be retrieved. 

         - This limit is per log file type. If you set this value to
           ``50`` MB, |mms| gathers 50 MB of uncompressed log file for
           each type of log you chose to download. Those log files are
           then archived and compressed.

         - If the current log file is less than the requested size,
           |mms| gathers the most recent rotated file as well

         - If the total size of the log files reach the requested size
           part way through a log file, the log file is truncated to the
           most recent line.

---
title: "View the progress on the :guilabel:`Log Request History` page."
stepnum: 3
level: 4
ref: switch-log-request-history
content: |
  Entry Status shows :guilabel:`Collecting Logs...` Refresh the page to 
  see if the log collection has completed.

  - If |mms| fails to gather or receive log files from the agents and/or
    the MongoDB processes, click :guilabel:`Retry` to complete the
    failed attempt.

  - If a failure has occurred, you can still download the archive. Some
    of the requested log files will be missing.

---
title: "Download the collected logs archive."
stepnum: 4
level: 4
ref: download-logs
content: |
  Click the :guilabel:`Download icon`.

  The size listed for the archive on the :guilabel:`Log Request History`
  page is the uncompressed size. The archive will consume that amount of
  disk space on the target host once it is extracted.

  The archive is named ``mongodb-logfiles_<instance_or_process>_<ISO8601_Format_Date>.tar.gz``.

...

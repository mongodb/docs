ref: fts-facet-tutorial-step1
level: 4
stepnum: 1
inherit:
  file: steps-source-project-nav.yaml
  ref: project-nav-search
---
ref: fts-facet-tutorial-step2
level: 4
stepnum: 2
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-fts-index
---
ref: fts-facet-tutorial-step3
level: 4
stepnum: 3
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: select-a-configuration-method
---
ref: fts-facet-tutorial-step4
level: 4
stepnum: 4
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: name-index
---
ref: fts-facet-tutorial-step5
level: 4
stepnum: 5
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: enter-index-definition
content: |
  The following index definition uses ``lucene.standard`` as the 
  default analyzer for both indexing and querying the fields and 
  specifies the following for the fields to index:
    
  .. list-table:: 
     :header-rows: 1
     :widths: 30 70

     * - Field Name
       - Data Type

     * - ``genres`` 
       - :ref:`bson-data-types-string-facet`
    
     * - ``year`` 
       - :ref:`bson-data-types-number-facet` 
    
     * - ``released`` 
       - :ref:`bson-data-types-date-facet`
  
  .. note:: 

     .. include:: /includes/fact-fts-facet-data-type-deprecation.rst

  You can use the :guilabel:`Visual Editor` or the :guilabel:`JSON 
  Editor` in the |service| user interface to create the index.

  Visual Editor
  +++++++++++++
  
  a. Click :guilabel:`Next`.
  #. Click :guilabel:`Refine Your Index`.
  #. Change :guilabel:`Dynamic Mapping` to :guilabel:`Off`.
  #. Add the following fields:
              
     .. list-table:: 
        :header-rows: 1
        :widths: 20 30 50
   
        * - Field Name 
          - Dynamic Mapping 
          - Data Type Configuration 

        * - ``genres``
          - Change :guilabel:`Enable Dynamic Mapping` to 
            :guilabel:`Off`.
          - Click :guilabel:`Add Data Type`, and select 
            :guilabel:`StringFacet`.

        * - ``year``
          - Change :guilabel:`Enable Dynamic Mapping` to 
            :guilabel:`Off`.
          - Click :guilabel:`Add Data Type`, and select 
            :guilabel:`NumberFacet`.

        * - ``released``
          - Change :guilabel:`Enable Dynamic Mapping` to 
            :guilabel:`Off`.
          - Click :guilabel:`Add Data Type`, and select 
            :guilabel:`DateFacet`.

  JSON Editor
  +++++++++++
  
  a. Replace the default definition with the following:

     .. code-block:: json 

        {
          "mappings": {
            "dynamic": false,
            "fields": {
              "genres": {
                "type": "stringFacet"
              },
              "year": {
                "type": "number"
              },
              "released": {
                "type": "date"
              }
            }
          }
        }

  #. Click :guilabel:`Next`.

---
ref: fts-facet-tutorial-step10
level: 4
stepnum: 6
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: click-create-search-index
---
ref: fts-facet-tutorial-step11
level: 4
stepnum: 7
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: close-in-progress
---
ref: fts-facet-tutorial-step12
level: 4
stepnum: 8
inherit:
  file: steps-fts-tutorial-create-index.yaml
  ref: wait-for-index
---


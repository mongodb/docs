title: Download the latest version of the Automation Agent archive.
stepnum: 1
ref: download-automation-agent-archive
pre: |
  On a system shell, issue one of the following commands:
action:
  - pre: |
      For RHEL / CentOS (7.x), and SUSE 11:
    language: sh
    code: |
      curl -OL https://cloud.mongodb.com/download/agent/automation/mongodb-mms-automation-agent-latest.rhel7_x86_64.tar.gz
  - pre: |
      For all other Linux operating systems:
    language: sh
    code: |
      curl -OL https://cloud.mongodb.com/download/agent/automation/mongodb-mms-automation-agent-latest.linux_x86_64.tar.gz
edition:
  - cloud
---
title: Download the latest version of the Automation Agent archive.
stepnum: 1
ref: download-automation-agent-archive
pre: |
  On a system shell, issue one of the following commands:
action:
  - pre: |
      For RHEL / CentOS (7.x), and SUSE 11:
    language: sh
    code: |
      curl -OL https://<OpsManagerCentralURL>/download/agent/automation/mongodb-mms-automation-agent-latest.rhel7_x86_64.tar.gz
  - pre: |
      For all other Linux operating systems:
    language: sh
    code: |
      curl -OL https://<OpsManagerCentralURL>/download/agent/automation/mongodb-mms-automation-agent-latest.linux_x86_64.tar.gz
edition:
  - onprem
---
title: "Install the Automation Agent."
stepnum: 2
ref: extract
pre: |
  To install the agent, extract the archive using the following command:
action:
  language: sh
  code: |
    tar -xf mongodb-mms-automation-agent-latest.*.tar.gz
post: |
  The Automation Agent is installed.
---
title: "Edit the ``local.config`` file to include your Group ID and agent API key."
stepnum: 3
ref: configure-automation-group-api-cloud
pre: |
  In the directory where you installed the Automation Agent, edit the
  ``local.config`` file.

  - For ``mmsGroupId``, enter your GroupID as the value. 
  - For ``mmsApiKey``, enter the group's :term:`agent API key`.
action:
  language: none
  code: |
    mmsGroupId=<Group ID>
    mmsApiKey=<agent API key>
edition:
  - cloud
---
title: "Edit the ``local.config`` file to include your Group ID and agent API key."
stepnum: 3
ref: configure-automation-group-api-onprem
pre: |
  In the directory where you installed the Automation Agent, edit the
  ``local.config`` file.

  - For ``mmsGroupId``, enter your GroupID as the value. 
  - For ``mmsApiKey``, enter the group's :term:`agent API key`.
  - For ``mmsBaseUrl``, enter the URL of the |application|. Include the port number.
action:
  language: none
  code: |
    mmsGroupId=<Group ID>
    mmsApiKey=<agent API key>
    mmsBaseUrl=<application URL>
edition:
  - onprem
---
stepnum: 4
source:
  file: steps-source-install-agent.yaml
  ref: proxy
replacement:
  agentname: "Automation"
  httpProxy: ":asetting:`httpProxy`"
  configfile: "<install-directory>/local.config"
---
title: "Create the automation directories and data directory."
stepnum: 5
ref: create-automation-directory
content: |
  Create the following directories and ensure that the user running the
  agent owns the directories:

  - ``/var/lib/mongodb-mms-automation``

  - ``/var/log/mongodb-mms-automation``

  - ``/data``

---
title: "Start the Automation Agent."
stepnum: 6
ref: start-automation-agent
action:
  pre: |
    Issue the following command:
  language: sh
  code: |
    nohup ./mongodb-mms-automation-agent >> automation-agent.log 2>&1 &
...

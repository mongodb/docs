[build]
    publish = "dist"
    base = "content/datalake"

[build.environment]
    REPO_NAME ="docs-datalake"
    SECRETS_SCAN_ENABLED = "false"
    OFFLINE_SNOOTY_ENABLED = "false"
    SEARCH_MANIFEST_ENABLED = "false"
    MUT_COMMANDS_ENABLED = "false"
    REDOC_ENABLED = "false"

[context.production.environment]
    ENV = "dotcomprd"

[context.preprd.environment]
    ENV = "dotcomstg"

[context.deploy-preview.environment]
    ENV = "prd"

[context.branch-deploy.environment]
    ENV = "prd"

[context.preview-server.environment]
    ENV = "prd"

[context.dev.environment]
    ENV = "stg"

[[redirects]] 
from = "/docs/datalake/admin/delete-private-endpoint/"
to = "/docs/atlas/data-federation/admin/delete-private-endpoint/"

[[redirects]] 
from = "/docs/datalake/admin/determine-query-status/"
to = "/docs/atlas/data-federation/admin/determine-query-status/"

[[redirects]] 
from = "/docs/datalake/admin/edit-private-endpoint/"
to = "/docs/atlas/data-federation/admin/edit-private-endpoint/"

[[redirects]] 
from = "/docs/datalake/admin/manage-namespace-catalog-cli/"
to = "/docs/atlas/data-federation/admin/manage-namespace-catalog-cli/"

[[redirects]] 
from = "/docs/datalake/admin/optimize-query-performance/"
to = "/docs/atlas/data-federation/admin/optimize-query-performance/"

[[redirects]] 
from = "/docs/datalake/admin/query-with-sql/"
to = "/docs/atlas/data-federation/query/query-with-sql/"

[[redirects]] 
from = "/docs/datalake/admin/terminate-running-query/"
to = "/docs/atlas/data-federation/admin/terminate-running-query/"

[[redirects]] 
from = "/docs/datalake/admin/view-private-endpoints/"
to = "/docs/atlas/data-federation/admin/view-private-endpoints/"

[[redirects]] 
from = "/docs/datalake/billing/"
to = "/docs/atlas/data-federation/overview/"

[[redirects]] 
from = "/docs/datalake/config/config-data-lake/"
to = "/docs/atlas/data-federation/config/config-data-stores/"

[[redirects]] 
from = "/docs/datalake/config/manage-collections-views-cli/"
to = "/docs/datalake/config/config-data-lake/"

[[redirects]] 
from = "/docs/datalake/config/manage-dbs-cli/"
to = "/docs/datalake/config/config-data-lake/"

[[redirects]] 
from = "/docs/datalake/config/manage-stores-cli/"
to = "/docs/datalake/config/config-data-lake/"

[[redirects]] 
from = "/docs/datalake/config/update-region/"
to = "/docs/atlas/data-federation/admin/update-region/"

[[redirects]] 
from = "/docs/datalake/deployment/deploy-atlas/"
to = "/docs/atlas/data-federation/deployment/deploy-atlas/"

[[redirects]] 
from = "/docs/datalake/deployment/deploy-http/"
to = "/docs/atlas/data-federation/deployment/deploy-http/"

[[redirects]] 
from = "/docs/datalake/deployment/deploy-s3/"
to = "/docs/atlas/data-federation/deployment/deploy-s3/"

[[redirects]] 
from = "/docs/datalake/query/download-query-logs/"
to = "/docs/atlas/data-federation/query/download-query-logs/"

[[redirects]] 
from = "/docs/datalake/query/query-data-lake/"
to = "/docs/atlas/data-federation/query/query-federated-database/"

[[redirects]] 
from = "/docs/datalake/query/view-query-history/"
to = "/docs/atlas/data-federation/query/view-query-history/"

[[redirects]] 
from = "/docs/datalake/reference/cli/collections/create-collections-views/"
to = "/docs/atlas/data-federation/admin/cli/collections/create-collections-views/"

[[redirects]] 
from = "/docs/datalake/reference/cli/collections/drop-collections-views/"
to = "/docs/atlas/data-federation/admin/cli/collections/drop-collections-views/"

[[redirects]] 
from = "/docs/datalake/reference/cli/collections/rename-collection/"
to = "/docs/atlas/data-federation/admin/cli/collections/rename-collection/"

[[redirects]] 
from = "/docs/datalake/reference/cli/database/drop-database/"
to = "/docs/atlas/data-federation/admin/cli/database/drop-database/"

[[redirects]] 
from = "/docs/datalake/reference/cli/datalake-cli/"
to = "/docs/datalake/reference/cli/administration-commands/"

[[redirects]] 
from = "/docs/datalake/reference/cli/namespace/cataloginfo/"
to = "/docs/atlas/data-federation/admin/namespace/cataloginfo/"

[[redirects]] 
from = "/docs/datalake/reference/cli/namespace/updatecatalog/"
to = "/docs/atlas/data-federation/admin/namespace/updatecatalog/"

[[redirects]] 
from = "/docs/datalake/reference/cli/sql/sqlgenerateschema/"
to = "/docs/atlas/data-federation/query/sql/sqlgenerateschema/"

[[redirects]] 
from = "/docs/datalake/reference/cli/sql/sqlgetschema/"
to = "/docs/atlas/data-federation/query/sql/sqlgetschema/"

[[redirects]] 
from = "/docs/datalake/reference/cli/sql/sqlsetschema/"
to = "/docs/atlas/data-federation/query/sql/sqlsetschema/"

[[redirects]] 
from = "/docs/datalake/reference/cli/stores/create-store/"
to = "/docs/atlas/data-federation/admin/cli/stores/create-store/"

[[redirects]] 
from = "/docs/datalake/reference/cli/stores/drop-store/"
to = "/docs/atlas/data-federation/admin/cli/database/drop-store/"

[[redirects]] 
from = "/docs/datalake/reference/cli/stores/list-stores/"
to = "/docs/atlas/data-federation/admin/cli/stores/list-stores/"

[[redirects]] 
from = "/docs/datalake/reference/config-files/data-lake-configuration/"
to = "/docs/atlas/data-federation/config/config-adl-datasets/"

[[redirects]] 
from = "/docs/datalake/reference/config-files/sql-schema-format/"
to = "/docs/atlas/data-federation/query/sql/sql-schema-format/"

[[redirects]] 
from = "/docs/datalake/reference/examples/path-syntax-examples/"
to = "/docs/atlas/data-federation/config/path-syntax-examples/"

[[redirects]] 
from = "/docs/datalake/reference/format/data-lake-configuration/"
to = "/docs/atlas/data-federation/config/config-adl-datasets/"

[[redirects]] 
from = "/docs/datalake/reference/format/sql-schema-format/"
to = "/docs/atlas/data-federation/query/sql/sql-schema-format/"

[[redirects]] 
from = "/docs/datalake/reference/pipeline/collstats/"
to = "/docs/atlas/data-federation/supported-unsupported/pipeline/collstats/"

[[redirects]] 
from = "/docs/datalake/reference/pipeline/lookup-stage/"
to = "/docs/atlas/data-federation/supported-unsupported/pipeline/lookup-stage/"

[[redirects]] 
from = "/docs/datalake/reference/pipeline/merge/"
to = "/docs/atlas/data-federation/supported-unsupported/pipeline/merge/"

[[redirects]] 
from = "/docs/datalake/reference/pipeline/out/"
to = "/docs/atlas/data-federation/supported-unsupported/pipeline/out/"

[[redirects]] 
from = "/docs/datalake/reference/pipeline/sql/"
to = "/docs/atlas/data-federation/supported-unsupported/pipeline/sql/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/administration-commands/"
to = "/docs/atlas/data-federation/supported-unsupported/administration-commands/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/diagnostic-commands/"
to = "/docs/atlas/data-federation/supported-unsupported/diagnostic-commands/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/encryption/"
to = "/docs/atlas/data-federation/supported-unsupported/encryption/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/limitations/"
to = "/docs/datalake/limitations/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/mql-support/"
to = "/docs/atlas/data-federation/supported-unsupported/mql-support/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/query-write-op-commands/"
to = "/docs/atlas/data-federation/supported-unsupported/query-write-op-commands/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/role-management-commands/"
to = "/docs/atlas/data-federation/supported-unsupported/role-management-commands/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/storage-config-commands/"
to = "/docs/atlas/data-federation/supported-unsupported/storage-config-commands/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/supported-aggregation/"
to = "/docs/atlas/data-federation/supported-unsupported/supported-aggregation/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/supported-data-formats/"
to = "/docs/atlas/data-federation/supported-unsupported/supported-data-formats/"

[[redirects]] 
from = "/docs/datalake/supported-unsupported/supported-partition-attributes/"
to = "/docs/atlas/data-federation/supported-unsupported/supported-partition-attributes/"

[[redirects]] 
from = "/docs/datalake/tutorial/add-ip-address/"
to = "/docs/atlas/data-federation/tutorial/add-ip-address/"

[[redirects]] 
from = "/docs/datalake/tutorial/config-private-endpoint/"
to = "/docs/atlas/data-federation/tutorial/config-private-endpoint/"

[[redirects]] 
from = "/docs/datalake/tutorial/configure-connection/"
to = "/docs/atlas/data-federation/tutorial/configure-connection/"

[[redirects]] 
from = "/docs/datalake/tutorial/configure-database-collections/"
to = "/docs/atlas/data-federation/tutorial/configure-database-collections/"

[[redirects]] 
from = "/docs/datalake/tutorial/connect/"
to = "/docs/atlas/data-federation/tutorial/connect/"

[[redirects]] 
from = "/docs/datalake/tutorial/create-mongodb-user/"
to = "/docs/atlas/data-federation/tutorial/create-mongodb-user/"

[[redirects]] 
from = "/docs/datalake/tutorial/deploy/"
to = "/docs/atlas/data-federation/tutorial/deploy/"

[[redirects]] 
from = "/docs/datalake/tutorial/getting-started/"
to = "/docs/atlas/data-federation/tutorial/getting-started/"

[[redirects]] 
from = "/docs/datalake/tutorial/jdbc-driver/"
to = "/docs/atlas/data-federation/tutorial/jdbc-driver/"

[[redirects]] 
from = "/docs/datalake/tutorial/load-sample-data/"
to = "/docs/datalake/tutorial/deploy/"

[[redirects]] 
from = "/docs/datalake/tutorial/run-queries/"
to = "/docs/atlas/data-federation/tutorial/run-queries/"

[[redirects]] 
from = "/docs/datalake/tutorial/security-self-managed-x509/"
to = "/docs/atlas/data-federation/tutorial/security-self-managed-x509/"

[[redirects]] 
from = "/docs/datalake/tutorials/"
to = "/docs/atlas/data-federation/tutorials/"

# CATCH ALL - Redirecting all other /docs/datalake/* to /docs/atlas/data-federation/overview/ for the Data Lake EOL (See https://jira.mongodb.org/browse/DOCSP-54109)

[[redirects]] 
from = "/docs/datalake/*"
to = "/docs/atlas/data-federation/overview/"

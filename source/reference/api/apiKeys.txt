========
API Keys
========

.. default-domain:: mongodb

.. include:: /includes/api/base-api-uri.rst

Organization API Key Endpoints
------------------------------

Use the ``/orgs/{ORG-ID}/apiKeys`` resource to view, create, or delete
:ref:`API Keys <mms-prog-api-key>` within the specified |mms|
:ref:`organization <organizations>`.

The Organization |api| Key, or users with the
:authrole:`Organization Owner` role in the
:ref:`organization <organizations>` in which the
:ref:`API Key <mms-prog-api-key>` belongs, can be access these
endpoints.

.. list-table::
   :header-rows: 1
   :stub-columns: 1
   :widths: 10 50 40

   * - Method
     - Endpoint
     - Description

   * - ``GET``

     - :doc:`/orgs/{ORG-ID}/apiKeys </reference/api/apiKeys/apiKeys-orgs-get-all>`

     - Get all API Keys associated with ``{ORG-ID}``.

   * - ``GET``

     - :doc:`/orgs/{ORG-ID}/apiKeys/{API-KEY-ID} </reference/api/apiKeys/apiKeys-orgs-get-one>`

     - Get one API Key associated with ``{ORG-ID}`` by its ID.

   * - ``GET``

     - :doc:`/api/public/v1.0/orgs/{ORG-ID}/apiKeys/{API-KEY-ID}/whitelist </reference/api/apiKeys/apiKeys-org-whitelist-get-all>`

     - Get all whitelist entries that belong to ``{API-KEY-ID}``.

   * - ``GET``

     - :doc:`/api/public/v1.0/orgs/{ORG-ID}/apiKeys/{API-KEY-ID}/whitelist/{IP-ADDRESS} </reference/api/apiKeys/apiKeys-org-whitelist-get-one>`

     - Get the whitelist entry for ``{API-KEY-ID}`` specified by
       ``{IP-ADDRESS}``.

   * - ``POST``

     - :doc:`/orgs/{ORG-ID}/apiKeys </reference/api/apiKeys/apiKeys-orgs-create-one>`

     - Create an API Key for the specified organization.

   * - ``POST``

     - :doc:`/api/public/v1.0/orgs/{ORG-ID}/apiKeys/{API-KEY-ID}/whitelist
       </reference/api/apiKeys/apiKeys-org-whitelist-create>`

     - Create one or more whitelist entries for ``{API-KEY-ID}``.

   * - ``PATCH``

     - :doc:`/orgs/{ORG-ID}/apiKeys/{API-KEY-ID} </reference/api/apiKeys/apiKeys-orgs-update-one>`

     - Update one API Key associated with ``{ORG-ID}``.

   * - ``DELETE``

     - :doc:`/api/public/v1.0/orgs/{ORG-ID}/apiKeys/{API-KEY-ID}
       </reference/api/apiKeys/delete-one-api-key>`

     - Delete the |api| Key with ID ``{API-KEY-ID}``.

   * - ``DELETE``

     - :doc:`/api/public/v1.0/orgs/{ORG-ID}/apiKeys/{API-KEY-ID}/whitelist/{IP-ADDRESS}
       </reference/api/apiKeys/apiKeys-org-whitelist-delete-one>`

     - Delete the whitelist entry for ``{API-KEY-ID}`` specified by
       ``{IP-ADDRESS}``.

Organization API Keys on Projects Endpoints
-------------------------------------------

Use the following resources to view, create and assign, or unassign
Organization :ref:`programmatic API Keys <mms-prog-api-key>` within
the specified |mms| :ref:`project <projects>`.

The Organization |api| Key, or users with the :authrole:`Project Owner`
role in the project in which the :ref:`API Key <mms-prog-api-key>`
belongs, can be access these endpoints.

.. list-table::
   :header-rows: 1
   :widths: 10 40 50

   * - Method
     - Endpoint
     - Description

   * - ``GET``

     - :doc:`/groups/{GROUP-ID}/apiKeys </reference/api/projectApiKeys/get-all-apiKeys-in-one-project>`

     - Get All Organization |api| Keys Assigned to One Project with ID
       ``{GROUP_ID}``.

   * - ``PATCH``

     - :doc:`/groups/{GROUP-ID}/apiKeys/{API-KEY-ID} </reference/api/projectApiKeys/update-one-apiKey-in-one-project>`

     - Modify Roles of One Organization |api| Key to One Project.

   * - ``POST``

     - :doc:`/groups/{GROUP-ID}/apiKeys </reference/api/projectApiKeys/create-one-apiKey-in-one-project>`

     - Create and Assign One Organization |api| Key to One Project.

   * - ``POST``

     - :doc:`/groups/{GROUP-ID}/apiKeys/{API-KEY-ID} </reference/api/projectApiKeys/assign-one-org-apiKey-to-one-project>`

     - Assign One Organization |api| Key to One Project.

   * - ``DELETE``

     - :doc:`/groups/{GROUP-ID}/apiKeys/{API-KEY-ID} </reference/api/projectApiKeys/delete-one-apiKey-in-one-project>`

     - Unassign One Organization API Key (``{API-KEY-ID}``) from One
       Project.


.. class:: hidden

   .. toctree::
      :titlesonly:

      /reference/api/apiKeys/apiKeys-orgs-get-all
      /reference/api/apiKeys/apiKeys-orgs-get-one
      /reference/api/apiKeys/apiKeys-org-whitelist-get-all
      /reference/api/apiKeys/apiKeys-org-whitelist-get-one
      /reference/api/apiKeys/apiKeys-orgs-create-one
      /reference/api/apiKeys/apiKeys-org-whitelist-create
      /reference/api/apiKeys/apiKeys-orgs-update-one
      /reference/api/apiKeys/apiKeys-org-whitelist-delete-one
      /reference/api/apiKeys/delete-one-api-key
      /reference/api/projectApiKeys/get-all-apiKeys-in-one-project
      /reference/api/projectApiKeys/create-one-apiKey-in-one-project
      /reference/api/projectApiKeys/assign-one-org-apiKey-to-one-project
      /reference/api/projectApiKeys/update-one-apiKey-in-one-project
      /reference/api/projectApiKeys/delete-one-apiKey-in-one-project


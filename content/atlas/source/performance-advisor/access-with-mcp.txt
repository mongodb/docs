.. _performance-advisor-mcp:

======================================================
Access Performance Advisor with the MongoDB MCP Server
======================================================

.. default-domain:: mongodb

.. facet::
   :name: genre
   :values: reference

.. meta::
   :keywords: MCP, Model Context Protocol, Performance Advisor, AI, natural language, index recommendations, slow queries, schema optimization
   :description: Use the MongoDB MCP Server with Performance Advisor to get AI-powered performance recommendations for your Atlas clusters.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

You can use the MongoDB MCP server to get :ref:`Performance Advisor <performance-advisor>`
recommendations from your preferred AI tools by using natural language. These recommendations include 
retrieving slow queries, performing index management, and suggesting schema improvements.

About the MongoDB MCP Server
----------------------------

The MongoDB MCP Server is a tool that allows you to interact with your MongoDB clusters in 
natural language by integrating with AI clients like Claude, Cursor, and GitHub Copilot.

To learn more about the MongoDB MCP Server, see :ref:`what-is-mcp-server`.

Get Started
-----------

To quickly configure the MongoDB MCP Server for your AI client, 
complete the steps in :ref:`mcp-get-started`.

To learn more about the performance advisor MCP tool, see :ref:`mcp-pa-tool`.

For detailed examples with sample outputs, see :ref:`mcp-server-performance-examples`.

Considerations
~~~~~~~~~~~~~~

When performing slow query analysis, the MCP Server retrieves a
sample of slow queries, capped at 50 queries. The sample includes up to 50
most recent slow queries that match any specified conditions in your prompt
to ensure optimal performance and response times.

This limitation does not apply to the Performance Advisor UI in Atlas.

Example Prompts
~~~~~~~~~~~~~~~

After you've configured the MongoDB MCP Server and connected it to your |service|
cluster, you can use natural language to retrieve Performance Advisor recommendations. 
The following table illustrates example prompts that you can use:

.. list-table::
   :widths: 25 45 30
   :header-rows: 1

   * - Use Case
     - Example Prompts
     - Performance Advisor Operation

   * - Analyze Slow Queries
     - | ``Show me my slow queries``
       |
       | ``What is slowing down my cluster?``
       |
       | ``Show me queries that are longer than 5 seconds``
       |
       | ``Show me slow writes in the website.users namespace``

     - :oas-atlas-tag:`slowQueryLogs </PerformanceAdvisor/operation/listGroupProcessPerformanceAdvisorSlowQueryLogs>`
  
   * - Index Suggestions
     - | ``Are there any indexes I should create to improve performance?``
       |
       | ``What indexes do you recommend I drop?``
     - :oas-atlas-tag:`suggestedIndexes </PerformanceAdvisor/operation/listGroupClusterPerformanceAdvisorSuggestedIndexes>`
       :oas-atlas-tag:`dropIndexSuggestions </PerformanceAdvisor/operation/listGroupClusterPerformanceAdvisorDropIndexSuggestions>`
   * - Schema Advice
     - | ``Show schema recommendations for my cluster``
       |
       | ``Help me optimize my database schema``

     - :oas-atlas-tag:`schemaAdvice </PerformanceAdvisor/operation/listGroupClusterPerformanceAdvisorSchemaAdvice>`
     
===============
Count Documents
===============

.. default-domain:: mongodb

There are two instance methods in the ``MongoCollection`` class that you can 
call to count the number of documents in a collection.

- ``countDocuments()`` returns the number of documents in the collection
  that match a specified query. If you specify an empty query document,
  the method returns the total number of documents in the collection.
  
- ``estimatedDocumentCount()`` returns an **estimation** of the number of
  documents in the collection based on the collection metadata. You cannot
  specify a query when using this method.

The ``estimatedDocumentCount()`` returns more quickly than 
``countDocuments()`` because it uses the collection's metadata rather than
scanning the entire collection. The ``countDocuments()`` method returns an
**accurate** count of the number of documents and supports specifying
a filter.

When you call the ``countDocuments()`` method, you can optionally pass a 
**query filter** parameter. You cannot pass any parameters when you call
``estimatedDocumentCount()``.

You can also pass an optional parameter to either of these methods to
specify the behavior of the call:

- The ``countDocuments()`` method accepts a ``CountOptions`` object with which 
  you can specify a maximum number of documents to count by using the 
  ``limit()`` method or the maximum amount of execution time using the 
  ``maxTime()`` method.

- The ``estimatedDocumentCount()`` method accepts
  a ``EstimatedDocumentCountOptions`` object with which you can specify
  the maximum executiontime using the ``maxTime()`` method.

Both methods return the number of matching documents as a ``long`` primitive.

Example
-------

The following example estimates the number of documents in the
``movies`` collection in the ``sample_mflix`` database, and then returns
an accurate count of the number of documents in the ``movies``
collection with ``Canada`` in the ``countries`` field.

.. include:: /includes/connect-guide-note.rst

.. literalinclude:: /code-snippets/usage-examples/Count.java
  :language: java

If you run the sample code above, you should see output that resembles the
following:

.. code-block:: none

   Estimated number of documents in the movies collection: 23541
   Number of movies from Canada: 1349


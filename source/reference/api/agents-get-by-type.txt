==============================
Get Agents by Type for a Group
==============================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

Get all agents of a specified type (i.e. Monitoring, Backup, or
Automation) for a group.

.. only:: cloud

    .. include:: /includes/api-cm-base-url.rst

.. only:: onprem

    .. include:: /includes/api-ops-base-url.rst

Syntax
------

.. code-block:: none

   GET /api/public/v1.0/groups/{GROUP-ID}/agents/{TYPE}

Where ``{TYPE}`` can be one of the following values:

- ``MONITORING``

- ``BACKUP``

- ``AUTOMATION``

Request Path Parameters
~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/api/no-path-parameters.rst

Request Query Parameters
~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/api/default-query-parameters.rst

Request Body Parameters
~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/api/no-body-parameters.rst


Response Elements
-----------------

.. include:: /includes/list-table-api-agents-elements.rst

Links
~~~~~

.. list-table::
   :header-rows: 1

   * - Relation
     - Description
   * - ``self``
     - Me


Examples
--------

Get All Monitoring Agents for a Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Request
```````

.. only:: cloud

   .. code-block:: none

      curl -u "username:apiKey" --digest -i "https://cloud.mongodb.com/api/public/v1.0/groups/5421e044e4b09da19248b17f/agents/MONITORING"

.. only:: onprem

   .. code-block:: none

      curl -u "username:apiKey" --digest -i "https://<ops-manager-host>/api/public/v1.0/groups/5421e044e4b09da19248b17f/agents/MONITORING"

Response
````````

.. code-block:: none

   HTTP/1.1 200 OK

   {
     "links": [ ... ],
     "results": [
       {
         "confCount": 59,
         "hostname": "example",
         "isManaged": true,
         "lastConf": "2015-06-18T14:21:42Z",
         "lastPing": "2015-06-18T14:21:42Z",
         "pingCount": 6,
         "stateName": "ACTIVE",
         "typeName": "MONITORING"
       }
     ],
     "totalCount": 1
   }

Get All Backup Agents for a Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Request
```````

.. only:: cloud

   .. code-block:: none

      curl -u "username:apiKey" --digest -i "https://cloud.mongodb.com/api/public/v1.0/groups/5421e044e4b09da19248b17f/agents/BACKUP"

.. only:: onprem

   .. code-block:: none

      curl -u "username:apiKey" --digest -i "https://<ops-manager-host>/api/public/v1.0/groups/5421e044e4b09da19248b17f/agents/BACKUP"

Response
````````

.. code-block:: none

   HTTP/1.1 200 OK

   {
     "links": [ ... ],
     "results": [
       {
         "confCount": 12,
         "hostname": "example",
         "isManaged": true,
         "lastConf": "2015-06-18T14:26:29Z",
         "stateName": "ACTIVE",
         "typeName": "BACKUP"
       }
     ],
     "totalCount": 1
   }

Get All Automation Agents for a Group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Request
```````

.. only:: cloud

   .. code-block:: none

      curl -u "username:apiKey" --digest "https://cloud.mongodb.com/api/public/v1.0/groups/5421e044e4b09da19248b17f/agents/AUTOMATION"


.. only:: onprem

   .. code-block:: none

      curl -u "username:apiKey" --digest "https://<ops-manager-host>/api/public/v1.0/groups/5421e044e4b09da19248b17f/agents/AUTOMATION"

Response
````````

.. code-block:: none

   {
     "links": [ ... ],
     "results": [
       {
         "confCount": 141,
         "hostname": "example-1",
         "lastConf": "2015-06-18T14:27:42Z",
         "stateName": "ACTIVE",
         "typeName": "AUTOMATION"
       }
     ],
     "totalCount": 1
   }

==============================================================
Move Jobs from a Lost Backup Service to another Backup Service
==============================================================

.. default-domain:: mongodb

Overview
--------

If the server running a :ref:`Backup Daemon <backup-daemon>` fails, and if
you :doc:`run multiple Backup Daemons
</tutorial/configure-backup-high-availability>`, then an administrator
with the ``global owner`` or ``global backup admin`` :doc:`role
</reference/user-roles>` can move all the daemon's jobs to another
Backup Daemon. The new daemon takes over the responsibility to back
up the associated :term:`shards <shard>` and :term:`replica sets <replica
set>`.

When you move jobs, the destination daemon reconstructs the data using a
snapshot and the :term:`oplog` from the :ref:`Backup Blockstore database
<mms-backup-blockstore-database>`. Reconstruction of data takes time,
depending on the size of the databases on the source.

During the time it takes to reconstruct the data and reassign the backups
to the new Backup Daemon:

- |mms| Backup does not take new snapshots of the jobs that are moving until
  the move is complete. Jobs that are not moving are not affected.

- |mms| Backup *does* save incoming oplog data. Once the jobs are on the new
  Backup Daemon's server, |mms| Backup takes the missed snapshots at the
  regular snapshot intervals.

- Restores of previous snapshots are still available.

- |mms| can produce restore artifacts using existing snapshots with
  :doc:`point-in-time recovery
  </tutorial/restore-from-point-in-time-snapshot>` for :term:`replica
  sets <replica set>` or :ref:`checkpoints <checkpoint>` for
  :term:`sharded clusters <sharded cluster>`.

Procedure
---------

With administrative privileges, you can move jobs between Backup
daemons using the following procedure:

.. include:: /includes/steps/move-jobs-to-new-backup-daemon.rst

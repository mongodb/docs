==========================================
Install MongoDB Community Edition on macOS
==========================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

Overview
--------

The following tutorial uses ``brew`` to install MongoDB {+version+}
Community Edition on macOS systems. To install a different version of
MongoDB, please refer to that versionâ€™s documentation.

.. note::

   .. include:: /includes/fact-default-bind-ip-change.rst

Platform Support
----------------

.. note::

   .. include:: /includes/3.6-osx-platform.rst

MongoDB only supports macOS versions 10.7 (Lion) and later on Intel
x86-64.

See :ref:`mongodb-supported-platforms` for more
information.

.. _install-with-homebrew:

Install MongoDB Community Edition
---------------------------------

.. _osx-prereq:

Prerequisites
~~~~~~~~~~~~~

If you have the Homebrew ``brew`` package installed on your OSX host 
*and* you have previously tapped the official 
`MongoDB Homebrew Tap <https://github.com/mongodb/homebrew-brew>`_, 
skip the prerequisites and go to the :ref:`install` step.

Install XCode
`````````````
.. container::

   Apple's XCode includes command-line tools that are required
   by ``brew``, and is available for free on the App Store. Make sure
   you are running the latest version.

Install Homebrew
````````````````

.. container::

   Issue the following from the terminal to
   tap the official 
   `MongoDB Homebrew Tap <https://github.com/mongodb/homebrew-brew>`_:

   .. code-block:: sh

      brew tap mongodb/brew 

.. _install:

Install MongoDB
~~~~~~~~~~~~~~~

.. container::

   From a terminal, issue the following:

   .. code-block:: sh

      brew install mongodb-community@{+version+}

   In addition to the :doc:`binaries </reference/program>`, the install
   creates:

   - the :doc:`configuration file </reference/configuration-options>`
     (:file:`/usr/local/etc/mongod.conf`)

   - the  :setting:`log directory path <systemLog.path>` (``/usr/local/var/log/mongodb``)

   - the :setting:`data directory path <storage.dbPath>` (``/usr/local/var/mongodb``)

Run MongoDB
~~~~~~~~~~~

.. container::

   You can run MongoDB as a macOS service using ``brew``, or you can run
   MongoDB manually as a background process. It is recommended to run
   MongoDB as a macOS service, as doing so sets the correct system
   ``ulimit`` values automatically (see
   :ref:`ulimit settings <ulimit-settings>` for more information).

   - To run MongoDB (i.e. the :binary:`~bin.mongod` process) **as a
     macOS service**, issue the following:

     .. code-block:: sh

        brew services start mongodb-community

   - To run MongoDB **manually as a background process**, issue the
     following:

     .. code-block:: sh

        mongod --config /usr/local/etc/mongod.conf --fork

   Both methods use the :file:`/usr/local/etc/mongod.conf` file created
   during the install. You can add your own MongoDB
   :doc:`configuration options </reference/configuration-options>` to
   this file as well.

   To verify that MongoDB is running, search for ``mongod`` in your
   running processes:

   .. code-block:: sh

      ps aux | grep -v grep | grep mongod

   You can also view the log file to see the current status of your
   ``mongod`` process: ``/usr/local/var/log/mongodb/mongo.log``.

Connect and Use MongoDB
~~~~~~~~~~~~~~~~~~~~~~~

.. container::

   To begin using MongoDB, connect a :binary:`~bin.mongo` shell to the
   running instance. From a new terminal, issue the following:

   .. code-block:: sh

      mongo

   For information on CRUD (Create,Read,Update,Delete) operations, see:

   - :doc:`/tutorial/insert-documents`
   - :doc:`/tutorial/query-documents`
   - :doc:`/tutorial/update-documents`
   - :doc:`/tutorial/remove-documents`

.. toctree::
   :hidden:
   :titlesonly:

   Install using .tgz Tarball </tutorial/install-mongodb-on-os-x-tarball>

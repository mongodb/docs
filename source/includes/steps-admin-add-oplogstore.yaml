stepnum: 1
source:
  file: steps-source-admin-navigation.yaml
  ref:  admin-backup-oplog
---
title: "Click :guilabel:`Create New Oplog Store`."
stepnum: 2
level: 4
ref: create-new-oplogstore
---
title: "Provide the Oplog Store details."
stepnum: 3
level: 4
ref: provide-new-oplogstore
content: |

   .. list-table::
      :widths: 30 70
      :header-rows: 1

      * - Field

        - Contents

      * - :guilabel:`Name`

        - A name for the Oplog Store

      * - :guilabel:`Datastore Type`

        - Select :guilabel:`Standalone`, :guilabel:`Replica Set` or
          :guilabel:`Sharded Cluster`.

      * - :guilabel:`MongoDB Host List` (:term:`Replica Set` and
          :term:`Sharded Cluster` only)

        - Type a comma-separated list of :program:`mongod` instances
          (for a Replica Set) or :program:`mongos` instances (for a
          Sharded Cluster) that comprise the Oplog Store database in
          the ``<hostname:port>`` format.

          .. example::

             ``host1.example.com:27017, host2.example.com:27017, host2.example.com:27018``

      * - :guilabel:`MongoDB Hostname` (Standalone only)

        - Type the hostname of the standalone MongoDB instance.
        
      * - :guilabel:`MongoDB Port` (Standalone only)
        
        - Type the port number of the standalone MongoDB instance.
        
      * - :guilabel:`Username` 

        - 

          .. list-table::
             :widths: 25 45 30
             :header-rows: 1

             * - Auth Mechanism
               - Action
               - Configure Instructions

             * - Username and Password (``SCRAM-SHA-1``)
               - Type the name of the user authorized to access the
                 oplog store database.
               - :ref:`SCRAM <authentication-scram>`

             * - x.509 (``X.509``)
               - Type the `RFC2253
                 <https://www.ietf.org/rfc/rfc2253.txt>`_-formatted
                 subject from the client certificate of the user
                 authorized to access the oplog store database.
               - :manual:`x.509 </tutorial/configure-x509-client-authentication>`

             * - Kerberos (``GSSAPI``)
               - Type the User Principal Name of the user authorized to
                 access the oplog store database.
               - :manual:`Kerberos </core/kerberos>`

             * - LDAP (``PLAIN``)
               - Type the name of the :abbr:`LDAP (Lightweight
                 Directory Access Protocol)` user authorized to access
                 the oplog store database.
               - :manual:`LDAP </core/security-ldap>`

      * - :guilabel:`Password` (optional) 

        - 

          .. list-table::
             :widths: 25 45 30
             :header-rows: 1

             * - Auth Mechanism
               - Action
               - Configure Instructions

             * - Username and Password (``SCRAM-SHA-1``)
               - Type the password associated with the username that
                 can access the oplog store database.
               - :ref:`SCRAM <authentication-scram>`

             * - x.509 (``X.509``)
               - Leave it blank.
               - :manual:`x.509 </tutorial/configure-x509-client-authentication>`

             * - Kerberos (``GSSAPI``)
               - Kerberos retrieves the password from its 
                 :doc:`keytab file </tutorial/enable-kerberos-authentication-for-group/>`. 
                 You do not need to type a password into this field.
               - :manual:`Kerberos </core/kerberos>`

             * - LDAP (``PLAIN``)
               - Type the password of the :abbr:`LDAP (Lightweight
                 Directory Access Protocol)` user authorized to access
                 the oplog store database.
               - :manual:`LDAP </core/security-ldap>`
        
      * - :guilabel:`Connection Options` (optional) 

        - Type any additional :manual:`configuration file options 
          </reference/configuration-options>` for the MongoDB instance. 
          This field supports unescaped values only.

          For proper syntax, see :manual:`Connection String URI
          Format </reference/connection-string>` in the MongoDB manual.
        
      * - :guilabel:`Encrypted Credentials` (optional)

        - Select if the credentials for the database were encrypted using the
          :ref:`credentialstool <encrypt-mongodb-user-credentials>`. 
          The credentials include the Username, Password, AWS Access
          Key ID and AWS Secret Key.
        
      * - :guilabel:`Use TLS/SSL` (optional)

        - Select if the Oplog Store database only accepts connection
          encrypted using :abbr:`TLS (Transport Layer Security)`. 

          To enable TLS on the Oplog Store database, see 
          :manual:`Configure mongod and mongos for TLS/SSL </tutorial/configure-ssl>`.

      * - :guilabel:`New Assignment Enabled` (optional)

        - Select if you want to enable this Oplog Store after creating
          it. This is selected by default so the Oplog Store can be
          assigned backup jobs. If you clear this checkbox, the
          Oplog Store is created but you cannot assign backups to this
          Oplog Store.


---
title: "Click :guilabel:`Create`."
stepnum: 4
level: 4
ref: create-oplogstore 
...
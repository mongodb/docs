===================
Upgrade Ops Manager
===================

.. include:: /includes/styles/corrections.rst

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

.. tabs-pillstrip:: platforms

This tutorial describes how to upgrade an existing |onprem|
installation.

.. _upgrade-on-prem-with-rpm:
.. _upgrade-on-prem-with-deb:
.. _upgrade-on-prem-from-archive:
.. _upgrade-on-prem-windows:

Upgrade Path
------------

.. include:: /includes/upgrade-path-onprem-upgrade.rst

.. tabs-platforms::

   .. tab::
      :tabid: debian

      .. include:: /includes/important-backup-conf-files-for-upgrade.rst

   .. tab::
      :tabid: windows

      .. include:: /includes/important-backup-conf-files-for-upgrade.rst

Considerations
--------------

.. include:: /release-notes/release-advisories/advisories-v4.2.rst

Prerequisites
-------------

.. include:: /includes/prerequisites-onprem-upgrade.rst

.. include:: /includes/admonition-backup-before-upgrade.rst

Platform Compatibility
~~~~~~~~~~~~~~~~~~~~~~

.. include:: /includes/fact-onprem-platform-compatibility.rst

Procedure
---------

.. include:: /includes/fact-opsmanager-upgrade-mode.rst

If you're running your |application| in a
:doc:`high availability configuration </tutorial/configure-application-high-availability>`,
complete this procedure on one |onprem| host at a time.


.. tabs-platforms::

   .. tab::
      :tabid: windows

      Use this procedure to upgrade the |application| on hosts running
      Microsoft Windows:

      .. include:: /includes/steps/upgrade-on-prem-windows.rst

   .. tab::
      :tabid: debian

      Use this procedure to upgrade the |application| on hosts installed using ``deb`` packages:

      .. include:: /includes/steps/upgrade-on-prem-with-deb-packages.rst

   .. tab::
      :tabid: rhel

      Use this procedure to upgrade the |application| on hosts installed using ``rpm`` packages:

      .. include:: /includes/steps/upgrade-on-prem-with-rpm-packages.rst

   .. tab::
      :tabid: linux

      Use this procedure to upgrade Linux systems that do not use
      ``deb`` or ``rpm`` packages.

      .. include:: /includes/steps/upgrade-on-prem-from-archive.rst


Troubleshooting
---------------

.. tabs-platforms::
   :hidden:

   .. tab::
      :tabid: debian

      .. include:: /includes/troubleshooting/upgrade/unrecognized-vm-unix.rst

   .. tab::
      :tabid: rhel

      .. include:: /includes/troubleshooting/upgrade/unrecognized-vm-unix.rst

   .. tab::
      :tabid: linux

      .. include:: /includes/troubleshooting/upgrade/unrecognized-vm-unix.rst

   .. tab::
      :tabid: windows

      .. include:: /includes/troubleshooting/upgrade/unrecognized-vm-windows.rst

.. include:: /includes/troubleshooting/upgrade/illegal-reflective-access.rst


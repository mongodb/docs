:tabs-selector-position: main

.. _voyage-text-embeddings:

===============
Text Embeddings
===============

.. facet::
   :name: genre
   :values: reference

.. meta::
   :description: Learn about Voyage AI's text embedding models for semantic search and retrieval applications.
   :keywords: text embeddings, vector embeddings, voyage-4-large, voyage-4, voyage-4-lite, voyage-4-nano, semantic search, retrieval

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

{+voyageai+}'s text embedding models convert your text into
high-dimensional vectors that capture semantic meaning. The models are
inherently multilingual, meaning semantic similarity of texts is
irrespective of language. Use the following models to power your AI
search applications with state-of-the-art retrieval accuracy.

Available Models
----------------

{+voyageai+} provides the following text embedding models:

.. kicker:: General Purpose Models

.. include:: /includes/tables/general-purpose-models-table.rst

.. kicker:: Domain-Specific Models

.. include:: /includes/tables/domain-specific-models-table.rst

.. kicker:: Open Models

.. include:: /includes/tables/open-models-table.rst

.. collapsible::
   :heading: Older Models
   :sub_heading: The following older models are still accessible from our API, but we recommend using the new models above for better quality and efficiency.
   :expanded: false

   Our latest models perform better than the legacy models in all aspects, such as quality, context length, latency, and throughput.

   .. include:: /includes/tables/older-embedding-models-table.rst

Tutorials
---------

For tutorials on using text embeddings, 
see the following resources:

- :ref:`Quick Start <voyage-quickstart>`
- :ref:`voyage-semantic-search`
- :ref:`voyage-rag`

.. _voyage-text-embeddings-usage:

Usage
-----

.. composable-tutorial::
   :options: client
   :defaults: python

   .. selected-content::
      :selections: python

      You can access Voyage text embeddings in Python through the
      ``voyageai`` package. Install the ``voyageai`` package, set up
      the API key, and use the ``voyageai.Client.embed()`` function to
      vectorize your inputs.

      .. code-block:: python

         voyageai.Client.embed(
             texts: List[str],
             model: str,
             input_type: Optional[str] = None,
             truncation: Optional[bool] = None,
             output_dimension: Optional[int] = None,
             output_dtype: Optional[str] = "float"
         )

      .. collapsible::
         :heading: Parameters
         :sub_heading: View the parameters for the embed method.
         :expanded: false

         .. include:: /includes/tables/text-embeddings-parameters.rst

      .. collapsible::
         :heading: Response
         :sub_heading: View the response for the embed method.
         :expanded: false

         This method returns an ``EmbeddingsObject``, which contains the following attributes:

         .. include:: /includes/tables/text-embeddings-returns.rst

      Example
      ~~~~~~~

      .. code-block:: python

         import voyageai

         vo = voyageai.Client()
         # This will automatically use the environment variable VOYAGE_API_KEY.
         # Alternatively, you can use vo = voyageai.Client(api_key="<model-api-key>")

         texts = [
             "The Mediterranean diet emphasizes fish, olive oil, and vegetables, believed to reduce chronic diseases.",
             "Photosynthesis in plants converts light energy into glucose and produces essential oxygen.",
             "20th-century innovations, from radios to smartphones, centered on electronic advancements.",
             "Rivers provide water, irrigation, and habitat for aquatic species, vital for ecosystems.",
             "Apple's conference call to discuss fourth fiscal quarter results and business updates is scheduled for Thursday, November 2, 2023 at 2:00 p.m. PT / 5:00 p.m. ET.",
             "Shakespeare's works, like 'Hamlet' and 'A Midsummer Night's Dream,' endure in literature."
         ]

         # Embed the documents
         result = vo.embed(texts, model="voyage-4-large", input_type="document")
         print(result.embeddings)

   .. selected-content::
      :selections: typescript

      You can access Voyage text embeddings in JavaScript or TypeScript through
      HTTP requests using the Fetch API or other HTTP clients.

      Example
      ~~~~~~~

      .. code-block:: javascript

         const apiKey = process.env.VOYAGE_API_KEY;
         const url = "https://ai.mongodb.com/v1/embeddings";

         const headers = {
             "Authorization": `Bearer ${apiKey}`,
             "Content-Type": "application/json"
         };

         const data = {
             input: [
                 "The Mediterranean diet emphasizes fish, olive oil, and vegetables, believed to reduce chronic diseases.",
                 "Photosynthesis in plants converts light energy into glucose and produces essential oxygen.",
                 "20th-century innovations, from radios to smartphones, centered on electronic advancements.",
                 "Rivers provide water, irrigation, and habitat for aquatic species, vital for ecosystems.",
                 "Apple's conference call to discuss fourth fiscal quarter results and business updates is scheduled for Thursday, November 2, 2023 at 2:00 p.m. PT / 5:00 p.m. ET.",
                 "Shakespeare's works, like 'Hamlet' and 'A Midsummer Night's Dream,' endure in literature."
             ],
             model: "voyage-4-large",
             input_type: "document"
         };

         const response = await fetch(url, {
             method: "POST",
             headers: headers,
             body: JSON.stringify(data)
         });

         const result = await response.json();

   .. selected-content::
      :selections: java

      You can access Voyage text embeddings in Java by sending HTTP requests
      using the built-in ``HttpClient`` or other HTTP libraries.

      Example
      ~~~~~~~

      .. code-block:: java

         import java.net.URI;
         import java.net.http.HttpClient;
         import java.net.http.HttpRequest;
         import java.net.http.HttpResponse;

         String apiKey = System.getenv("VOYAGE_API_KEY");
         String url = "https://ai.mongodb.com/v1/embeddings";

         String jsonBody = """
             {
                 "input": [
                     "The Mediterranean diet emphasizes fish, olive oil, and vegetables, believed to reduce chronic diseases.",
                     "Photosynthesis in plants converts light energy into glucose and produces essential oxygen.",
                     "20th-century innovations, from radios to smartphones, centered on electronic advancements.",
                     "Rivers provide water, irrigation, and habitat for aquatic species, vital for ecosystems.",
                     "Apple's conference call to discuss fourth fiscal quarter results and business updates is scheduled for Thursday, November 2, 2023 at 2:00 p.m. PT / 5:00 p.m. ET.",
                     "Shakespeare's works, like 'Hamlet' and 'A Midsummer Night's Dream,' endure in literature."
                 ],
                 "model": "voyage-4-large",
                 "input_type": "document"
             }
             """;

         HttpClient client = HttpClient.newHttpClient();
         HttpRequest request = HttpRequest.newBuilder()
             .uri(URI.create(url))
             .header("Authorization", "Bearer " + apiKey)
             .header("Content-Type", "application/json")
             .POST(HttpRequest.BodyPublishers.ofString(jsonBody))
             .build();

         HttpResponse<String> response = client.send(request,
             HttpResponse.BodyHandlers.ofString());
         System.out.println(response.body());

   .. selected-content::
      :selections: go

      You can access Voyage text embeddings in Go by sending HTTP requests
      using the standard ``net/http`` package.

      Example
      ~~~~~~~

      .. code-block:: go

         package main

         import (
             "bytes"
             "encoding/json"
             "fmt"
             "io"
             "net/http"
             "os"
         )

         func main() {
             apiKey := os.Getenv("VOYAGE_API_KEY")
             url := "https://ai.mongodb.com/v1/embeddings"

             texts := []string{
                 "The Mediterranean diet emphasizes fish, olive oil, and vegetables, believed to reduce chronic diseases.",
                 "Photosynthesis in plants converts light energy into glucose and produces essential oxygen.",
                 "20th-century innovations, from radios to smartphones, centered on electronic advancements.",
                 "Rivers provide water, irrigation, and habitat for aquatic species, vital for ecosystems.",
                 "Apple's conference call to discuss fourth fiscal quarter results and business updates is scheduled for Thursday, November 2, 2023 at 2:00 p.m. PT / 5:00 p.m. ET.",
                 "Shakespeare's works, like 'Hamlet' and 'A Midsummer Night's Dream,' endure in literature.",
             }

             requestBody := map[string]interface{}{
                 "input":      texts,
                 "model":      "voyage-4-large",
                 "input_type": "document",
             }

             jsonData, _ := json.Marshal(requestBody)

             req, _ := http.NewRequest("POST", url, bytes.NewBuffer(jsonData))
             req.Header.Set("Authorization", "Bearer "+apiKey)
             req.Header.Set("Content-Type", "application/json")

             client := &http.Client{}
             resp, _ := client.Do(req)
             defer resp.Body.Close()

             body, _ := io.ReadAll(resp.Body)
             fmt.Println(string(body))
         }

   .. selected-content::
      :selections: curl

      You can access Voyage text embeddings with cURL by sending
      a POST request to the endpoint ``https://ai.mongodb.com/v1/embeddings``.

      Example
      ~~~~~~~

      .. tabs::

         .. tab:: Embed a single string
            :tabid: single-string

            .. code-block:: bash

               curl \
                 --request POST 'https://ai.mongodb.com/v1/embeddings' \
                 --header "Authorization: Bearer $VOYAGE_API_KEY" \
                 --header "Content-Type: application/json" \
                 --data '{
                   "input": "Sample text",
                   "model": "voyage-4-large",
                   "input_type": "document"
                 }'

         .. tab:: Embed a list of strings
            :tabid: list-strings

            .. code-block:: bash

               curl \
                 --request POST 'https://ai.mongodb.com/v1/embeddings' \
                 --header "Authorization: Bearer $VOYAGE_API_KEY" \
                 --header "Content-Type: application/json" \
                 --data '{
                   "input": ["Sample text 1", "Sample text 2"],
                   "model": "voyage-4-large",
                   "input_type": "document"
                 }'

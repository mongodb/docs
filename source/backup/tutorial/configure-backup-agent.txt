================================
|backup| Agent SSL Configuration
================================

.. _backup-ssl:

.. start-content

Overview
--------

|backup| can backup MongoDB instances running with SSL. To use SSL with
``mongod`` and ``mongos``, you must enable it at compile time, or use
`MongoDB Enterprise <https://www.mongodb.com/products/downloads/mongodb-enterprise>`_.

The backup agent must be configured with the trusted CA certificates used to
sign the certificates used by any MongoDB instances running with SSL. Edit the
``local.config`` file in your agent installation to set
``sslTrustedServerCertificates`` to the path of a file containing one or more
certificates in PEM format.

By default, the backup agent only connects to MongoDB instances with a
trusted certificate. For testing purposes, set the
``sslRequireValidServerCertificates`` setting in the ``local.config`` file to 
``False`` to bypass this check. This configuration is NOT recommended
for production use as it makes the connection insecure.

Procedure
---------

.. include:: /includes/steps/backup-configure-agent-ssl.rst

.. end-content

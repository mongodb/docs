========================
Add a User to a Database
========================

.. default-domain:: mongodb

.. versionchanged:: 2.5.3

Overview
--------

Create a user for every individual who accesses the MongoDB deployment and for
every *instance* of an application that accesses the deployment. Giving an
application instance its own user allows you to shut down the user should
security become compromised.

Creating a user involves creating the user's credentials and assigning the
user :ref:`roles <roles>`. Credentials verify the user's identity to a
database, and roles
determine the user's access to database resources and operations.

For an overview of MongoDB's approach to credentials and roles, see
:doc:`/core/access-control`.

Considerations
--------------

When adding a user to multiple databases, use unique username-and-password
combinations for each database. If a user has the same password for multiple
databases, the password hash is the same and presents a security issue,
as described in :ref:`password-hashing-security`.

You need not provide credentials for users who use external authentication,
such as through through :doc:`Kerberos
</tutorial/control-access-to-mongodb-with-kerberos-authentication>`,
:doc:`LDAP </tutorial/configure-ldap-sasl-authentication>`, or x.509
certificates.

When assigning roles, select roles that have the exact :ref:`privileges
<privileges>` the user needs, in keeping with the policy of :term:`least
privilege`. If such roles do not exist, :doc:`create the roles
</tutorial/define-roles>`.

You can create a user without assigning roles, choosing instead to assign the
roles later. To do so, create the user with an empty
:data:`~admin.system.users.roles` array.

.. _add-user-prereq:

Prerequisites
-------------

To create a user on a system that uses :ref:`authentication <authentication>`,
you must authenticate as a user administrator. If you have not yet created a
user administrator, do so as described in
:doc:`/tutorial/add-user-administrator`.

.. include:: /includes/access-create-user.rst

The :authrole:`userAdmin` and :authrole:`userAdminAnyDatabase` roles both
provide those actions.

Procedures
----------

.. include:: /includes/steps/add-user-to-database.rst

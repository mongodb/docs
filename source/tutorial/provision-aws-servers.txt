=========================
Add or Remove EC2 Servers
=========================

.. default-domain:: mongodb

Overview
--------

|mms| integrates with Amazon Web Services (AWS) so that you can provision EC2
servers directly from the |mms| interface. You can also terminate
instances you no longer need. When you provision an EC2 server from |mms|,
|mms| automatically installs the Automation Agent to the server and is
ready to deploy managed MongoDB instances on this system.

Considerations
--------------

In general, provision one machine per :program:`mongod` instance. For
MongoDB deployment architectures, see :manual:`Replica Set Architectures
</core/replica-set-architectures>` and :manual:`Sharded Cluster
Architectures </core/sharded-cluster-architectures>` in the MongoDB
manual.

If you attempt to provision larger-sized AWS instances, be aware that
Amazon often has a limited number of larger instances in any given region,
which may prevent provisioning.

AWS accounts have restrictions that limit the number of instances you can
deploy. If you reach this limit, you must contact AWS support to raise
this limit.

Prerequisites
-------------

You or an administrator must first meet the prerequisites and perform the
procedures described in :doc:`/tutorial/configure-aws-settings`.

You must have at least one public key stored in your |mms|
:ref:`Provisioning Settings <provisioning-settings-page>`. You will use
the key when logging in to the provisioned servers.

Procedures
----------

Provision AWS Servers
+++++++++++++++++++++

.. include:: /includes/steps/provision-aws-servers.rst

.. _terminate-aws-server:

Terminate AWS Servers
+++++++++++++++++++++

.. include:: /includes/steps/terminate-aws-servers.rst

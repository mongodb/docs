====================================
Install and Start the |backup| Agent
====================================

.. start-content

.. note::

   The Backup agent relies on the MMS Monitoring Agent to populate the
   list of sharded clusters and replica sets eligible for backup. If
   the appropriate hosts are not added, or the Monitoring Agent is not
   being correctly run, the lists may be incomplete or out-of-date.

   If you have not already installed and configured |monitoring|,
   please refer to the :doc:`/monitoring/install` documentation.

The |backup| agent polls the primary MongoDB instance of
every backup-enabled replica set and transmits the operations to MMS.
The replica set must be MongoDB version 2.0 or later. To avoid resource
contention, run the agent on a host other than the hosts where the
MongoDB instances are running. Be sure the agent can access the MongoDB
hosts.

Prerequisites
~~~~~~~~~~~~~

If your MongoDB instances operate within a firewall, configure your
network infrastructure to allow outbound connections on port ``443``
(SSL) to ``api-backup.mongodb.com``.

If you use |backup| with a MongoDB deployment that uses
authentication, see:
:doc:`/backup/tutorial/use-auth-with-backup-agent` before installing
the |backup| Agent.

Install and Start the Agent
~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Go to :guilabel:`Settings`.

#. Click on :guilabel:`Backup Agent`.

#. Click on the appropriate :guilabel:`Backup Agent` link ( ``tar.gz``
   or ``zip``) for your operating system.

#. Either unzip or untar the file in the preferred directory.

#. In the :file:`backup-agent` directory, issue the following sequence
   of commands to create a log file, ensure that the ``backup-agent``
   binary is executable, and start the agent:

   .. code-block:: sh

      touch backup-agent.log
      chmod +x backup-agent
      nohup ./backup-agent >> backup-agent.log 2>&1

For more information, see the :file:`Readme` included with the
downloaded package.

.. end-content

===========================
Real-Time Performance Panel
===========================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The Real-Time Performance Panel (RTTP) monitors and displays current
network traffic, database operations on the machines hosting MongoDB in your
clusters, and hardware statistics about the hosts. Use
:abbr:`RTTP (Real-Time Performance Panel)` to visually identify relevant
database operations, evaluate query
execution times and the ratio of documents scanned to documents returned,
monitor network load and thoughput, and  discover potential
replication lag on secondary members of replica sets.

.. note::

   :abbr:`RTTP (Real-Time Performance Panel)` is available only on 
   ``M10`` and larger clusters.

Procedure
---------

To view the Real-Time Performance Panel:

.. include:: /includes/steps/rttp-view.rst

Graph View
----------

.. list-table::
	:header-rows: 1
	:widths: 25 75

	* - Chart/Location
	  - Description

	* - :guilabel:`Connections, Network In, Network Out` (Top of panel)

	  - Displays the number of current connections to the machine
	    hosting MongoDB and the number of inbound and outbound bytes as 
	    reported by :manual:`mongostat</reference/program/mongostat/#fields>`.

	* - :guilabel:`CPU, Disk Util, and Memory` (Top of panel)

	  - Displays the current CPU, disk, and memory usage of the machine
	    hosting MongoDB.

	* - :guilabel:`Operations`

	  - Displays the number of operations as reported by
	    :manual:`mongostat </reference/program/mongostat/#fields>`.

	* - :guilabel:`Query Execution Times`

	  - Displays latency statistics for current read requests, write requests,
	    and other database commands. Available only for MongoDB 3.4+. See 
	    ``opLatencies`` at :manual:`serverStatus
	    </reference/command/serverStatus>` for more information.

	* - :guilabel:`Query Targeting`

	  - Displays the ratio of documents and objects scanned to documents
	    and objects returned in current queries. These statistics are useful
	    in determining if and how a query uses an index. See :manual:`Analyze
	    Query Performance </tutorial/analyze-query-plan>` for more information.

	* - :guilabel:`Reads & Writes`

	  - Displays the number of active reads, queued reads, active
	    writes, and queued writes as reported by :manual:`mongostat
	    </reference/program/mongostat/#fields>`.

	* - :guilabel:`Replication Lag`

	  - Available only for secondary members of a replica set. Displays
	    the time required to replicate operations from the primary to the
	    secondary members of a replica set. See :manual:`Replica Set
	    Secondary Members </core/replica-set-secondary>` for more information.

	* - :guilabel:`Hottest Collections`

	  - Displays the collections with the most operations as reported by
	    :manual:`mongotop </reference/program/mongotop/#fields>`. For 
	    each hot collection, the table also displays the 
	    :guilabel:`Utilization Percent` for  the collection. 

	    :guilabel:`Utilization Percent` is calculated from the read and write
	    times as reported by :manual:`mongotop </reference/program/mongostat/#fields>`
	    during a sample period. Specifically, the :guilabel:`Utilization Percent` is the
	    percentage (rounded to the nearest 0.1%) of the read and write
	    times for a collection relative to the read and write times for
	    all collections in the deployment during the sample period. If
	    no read and write operation occur during this period, the
	    :guilabel:`Utilization Percent` will be 0%.

	    The hottest collections correspond to the most current time
	    displayed in the charts. That is, if the display is running
	    (i.e. not paused), the collections correspond to the hottest
	    collections at the current timestamp. If the display is paused,
	    the collections correspond to the hottest collections at the
	    paused time.

	* - :guilabel:`Slowest Operations`

	  - Displays the slowest operations as reported by
	    :manual:`db.currentOp() </reference/method/db.currentOp>`. 

	    The operations correspond to the most current time displayed in
	    the charts. That is, if the display is running (i.e. not
	    paused), the operations correspond to the slowest operations at
	    the current timestamp. If the display is paused, the operations
	    correspond to the slowest operations at the paused time.

Table View
----------

Click on the elipsis button (``...``) to hide or display fields from
the table.

.. list-table::
	:header-rows: 1
	:widths: 25 75

	* - Fields
	  - Description

	* - | :guilabel:`Commands` 
	    | :guilabel:`Queries`
	    | :guilabel:`Updates`
	    | :guilabel:`Deletes`
	    | :guilabel:`Inserts`
	    | :guilabel:`GetMores`

	  - Displays the number of the specified operations (commands,
	    queries, etc.) as reported by :manual:`mongostat </reference/program/mongostat/#fields>`.

	* - | :guilabel:`Time / Read`
	    | :guilabel:`Time / Write`
	    | :guilabel:`Time / Command`

	  - Displays latency statistics for current read requests, write requests,
	    and other database commands. Available only for MongoDB 3.4+.
	    See ``opLatencies`` at :manual:`serverStatus </reference/command/serverStatus>`
	    for more information.

	* - | :guilabel:`Scanned / Returned`
	    | :guilabel:`Scanned Objects / Returned`

	  - Displays the ratio of documents and objects scanned to documents
	    and objects returned in current queries. These statistics are useful
	    in determining if and how a query uses an index. See :manual:`Analyze
	    Query Performance </tutorial/analyze-query-plan>` for more information.

	* - | :guilabel:`Active Readers`
	    | :guilabel:`Active Writers`
	    | :guilabel:`Queued Readers`
	    | :guilabel:`Queued Writers`

	  - Displays the number of active reads, queued reads, active
	    writes, and queued writes as reported by :manual:`mongostat </reference/program/mongostat/#fields>`.

	* - | :guilabel:`Lag Time`

	  - Available only for secondary members of a replica set. Displays
	    the time required to replicate operations from the primary to the
	    secondary members of a replica set. See :manual:`Replica Set
	    Secondary Members </core/replica-set-secondary>` for more information.

	* - | :guilabel:`CPU`
	    | :guilabel:`Disk Util` 
	    | :guilabel:`Memory`

	  - Displays the currently used percentage of CPU capacity, disk
	    capacity, and memory of the machine hosting MongoDB.

	* - | :guilabel:`Connections`
	    | :guilabel:`Bytes In` 
	    | :guilabel:`Bytes Out`

	  - Displays the number of current connections to the machine
	    hosting MongoDB and the number of inbound and outbound bytes as 
	    reported by :manual:`mongostat</reference/program/mongostat/#fields>`.
	    
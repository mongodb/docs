ref: _fact-findandmodify-return
content: |
  If the ``new`` parameter is not set or is ``false``:

  - the pre-modification document if the query matcches a document,

  - otherwise, ``null``.

  If ``new`` is ``true``:

  - the modified document if the query returns a match,

  - the inserted document if ``upsert: true`` and no document matches the query,

  - otherwise, ``null``.

  Prior to MongoDB 3.0, if ``new`` is not set or is ``false``, ``upsert: true``,
  and there is a ``sort`` term, then {{op}} would yield an empty document
  ``{}`` instead of ``null``.
---
ref: fact-findandmodify-command-return
inherit:
  file: extracts-fact-findandmodify-return.yaml
  ref: _fact-findandmodify-return
replacement:
  op: :dbcommand:`findAndModify`
---
ref: fact-findandmodify-method-return
inherit:
  file: extracts-fact-findandmodify-return.yaml
  ref: _fact-findandmodify-return
replacement:
  op: :method:`db.collection.findAndModify()`
...

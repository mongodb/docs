=============================================
Frequently Asked Questions About |monitoring|
=============================================

.. contents::
   :backlinks: none
   :local:


How do I add a new host or server?
----------------------------------

Click on the plus icon on the top of the `hosts page
<https://mms.mongodb.com/host/list>`_.

How do I download the preconfigured agent?
------------------------------------------

You can download a preconfigured agent from the "Agent" section on the
`settings page`_.

.. _`settings page`: https://mms.mongodb.com/settings

How do I setup and configure the agent?
---------------------------------------

See the README file included in the agent download.

.. _db-stats-warning:

How does MMS gather database statistics?
----------------------------------------

In most instances, |monitoring| will scale its request cycle to limit
more expensive statistics gathering. The information on the DB Stats
tab updates every 10 minutes, and the agent will throttle the frequency
to reduce the impact on the database. [#dbstats-tab]_ Even so, the "DB
stats" operation impacts the performance of your database, as is
possible when installations have a large number of databases and
collections.

In these situations you must disable database stats collection. See
the "DB Stats" section on the "Settings" page in the MMS Console
before starting your agent.

.. [#dbstats-tab] The DB Stats tab will not appear until 30 minutes
   after you add the host to |monitoring|.

Can I run the Monitoring agent on an AWS micro instances?
---------------------------------------------------------

If you are monitoring five or fewer ``mongod`` instances, you can use
a AWS micro instance.

What are all those vertical bars in my charts?
----------------------------------------------

A *red bar* indicates a server restart.

A *purple bar* indicates the server is now a primary.

A *yellow bar* indicates the server is now a secondary.

Why is my hostname displayed in orange?
---------------------------------------

Your server either has startup warnings or a `very low ulimit set
<http://docs.mongodb.org/manual/reference/ulimit/>`_. This can
introduce problems. If your startup warning is about NUMA, see the
`MongoDB documentation <http://docs.mongodb.org/manual/>`_. If you have
a ulimit of 1024 or less, see the instructions for `increasing your
ulimit <http://docs.mongodb.org/manual/reference/ulimit/>`_.

Why is my Monitoring agent highlighted in red on the Agents tab?
----------------------------------------------------------------

Your agent is out of date. For instructions on updating the agent, see:
:doc:`Updating the MMS Agent </monitoring/tutorial/update-mms>`.

.. todo: is that the email subject going forward?

What is "Exposed DB Host Check," and why did MMS send me an "MMS Found Exposed Databases!!!" Email?
---------------------------------------------------------------------------------------------------

If enabled on the `settings page`_, the |monitoring| application servers will
attempt to connect to your MongoDB instances to help ensure
that your firewall is properly configured. This is a weak security
validation that should not replace other auditing or intrusion
detection system procedures.

This test runs once per day and attempts to connect using both the IP
address and the non-canonical host identifier that you see in the
:guilabel:`Name` field of the Hosts page.

Why can't the Monitoring agent connect to my host?
--------------------------------------------------

The most common problem is that the agent is unable to resolve the
hostname of the server. Check DNS and the ``/etc/hosts`` file.

The second most common problem is that there are firewall rules in
place that prohibit access to the server from the agent.

To test the connection, login to the server running the agent and run:
``mongo hostname:port/test`` If you are unable to connect, the agent
will not be able to connect.

How do I modify my alert settings?
----------------------------------

You can enable, disable, or modify alerts on the settings tab of
Alerts page.

How do I reset my password?
---------------------------

You can reset your password using the `password reset form
<https://mms.mongodb.com/user/resetPassword>`_.

How do I change my password?
----------------------------

You can change your password by `resetting your password
<https://mms.mongodb.com/user/resetPassword>`_.

What are the password requirements?
-----------------------------------

.. include:: /includes/faq-mms-password-requirement.rst

Passwords for the `MongoDB Jira`_ instance and MMS are the same,
although the length and character requirements are different for Jira
and MMS. 

How do I add a user to my company/group?
----------------------------------------

If the user already has a `MongoDB Jira`_ or MMS account, you can add
their username to your group on the admin page.

If the user does not have a Jira account then they can `create a new
account <https://mms.mongodb.com/user/register/user>`_. After they have
created an account, you can add their username to the company/group on
the admin page.

.. _`MongoDB Jira`: https://jira.mongodb.org/

How do I remove my company/group?
---------------------------------

.. include:: /includes/fact-remove-group.rst

What open source projects are you using?
----------------------------------------

- Database: `MongoDB <http://mongodb.org>`_
- App framework: `Google Guice <http://code.google.com/p/google-guice/>`_
- Http server: `Jetty <http://jetty.codehaus.org/jetty/>`_
- Web framework: `Jersey <http://jersey.java.net/>`_
- Misc server libs: `Apache Commons <http://commons.apache.org/>`_
- UI lib: `jQuery <http://jquery.com/>`_ , `Bootstrap <http://twitter.github.io/bootstrap/>`_
- Charts: `dygraphs <http://dygraphs.com/>`_
- Graphics: `Font-Awesome <http://fortawesome.github.io/Font-Awesome/>`_

---
ref: helm-os-offline-docker-request-host
inherit:
  file: steps-helm-master.yaml
  ref: helm-master-docker-request-os
title: "Use ``docker`` to request the files on a host
             connected to the Internet."
stepnum: 1
---
ref: helm-os-offline-host-archive-files
inherit:
  file: steps-helm-master.yaml
  ref: helm-master-archive-files
stepnum: 2
content: |

  .. code-block:: sh

     docker save registry.connect.redhat.com/mongodb/mongodb-enterprise-operator:<op-version> -o mongodb-enterprise-operator.tar; \
     docker save registry.connect.redhat.com/mongodb/mongodb-enterprise-database:<op-version> -o mongodb-enterprise-database.tar; \
     docker save registry.connect.redhat.com/mongodb/mongodb-enterprise-ops-manager:<om-version>-operator<op-version> -o mongodb-enterprise-ops-manager.tar

  .. include:: /includes/replace-op-and-om-versions.rst
---
ref: helm-os-offline-copy-tar
inherit:
  file: steps-helm-master.yaml
  ref: helm-master-copy-tar
stepnum: 3
---
ref: helm-os-offline-import-tar
inherit:
  file: steps-helm-master.yaml
  ref: helm-master-import-tar
stepnum: 4
content: |

  .. code-block:: sh

     docker import mongodb-enterprise-operator.tar registry.connect.redhat.com/mongodb/mongodb-enterprise-operator:<op-version>; \
     docker import mongodb-enterprise-database.tar registry.connect.redhat.com/mongodb/mongodb-enterprise-database:<op-version>; \
     docker import mongodb-enterprise-ops-manager.tar registry.connect.redhat.com/mongodb/mongodb-enterprise-ops-manager:<om-version>-operator<op-version>

  .. include:: /includes/replace-op-and-om-versions.rst

---
ref: helm-os-offline-secret-host
inherit:
  file: steps-helm-master.yaml
  ref: helm-master-openshift-pull-secret
stepnum: 5
---
ref: helm-os-offline-install-host
inherit:
  file: steps-helm-master.yaml
  ref: helm-master-install-pullpolicy
stepnum: 6
content: |

  .. code-block:: sh

     helm template --set registry.pullPolicy=IfNotPresent \
     helm_chart > operator.yaml \
     -- values helm_chart/values-openshift.yaml
     kubectl apply -f operator.yaml

  .. include:: /includes/helm-install-os-options.rst

  .. note:: 

     You can also pass these values as options when you apply the helm
     chart:

     .. code-block:: sh
              
        helm template --set registry.pullPolicy=IfNotPresent \
        --set namespace=<testNamespace> \
        helm_chart > operator.yaml \
        -- values helm_chart/values-openshift.yaml
        kubectl apply -f operator.yaml

...

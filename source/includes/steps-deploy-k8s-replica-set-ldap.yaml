---
ref: configure-kubectl-repl-ldap
stepnum: 1
inherit:
  file: steps-configure-kubectl-namespace.yaml
  ref: configure-kubectl-namespace
---
stepnum: 2
ref: create-k8s-rs-tls-secret
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: create-rs-tls-secret
---
stepnum: 3
ref: create-k8s-rs-agent-secret
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: create-agent-tls-secret
---
stepnum: 4
ref: create-k8s-rs-tls-configmap
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: create-rs-tls-configmap

---
stepnum: 5
ref: copy-k8s-example-rs-ldap
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: copy-k8s-example-resource
replacement:
  k8sResource: :term:`replica set`
  k8sExampleFileName: example-replica-set.yaml
  k8sResourceType: replica-set
  k8sExample: |

   .. literalinclude:: /includes/code-examples/yaml-files/example-replica-set.yaml
      :language: yaml
      :linenos:
      :copyable: false
      :start-after: START-tls-replset-upper-custom
      :end-before: END-tls-replset-upper-custom

   .. literalinclude:: /includes/code-examples/yaml-files/example-replica-set.yaml
      :language: yaml
      :linenos:
      :lineno-start: 16
      :start-after: START-tls-replset-lower-custom
      :end-before: END-tls-replset-lower-custom

---
stepnum: 6
ref: paste-k8s-example-rs-ldap
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: paste-k8s-example-resource-section
replacement:
  k8sResource: :term:`replica set`
---
stepnum: 7
ref: k8s-add-rs-ldap
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: add-ldap-settings
replacement:
  k8sResource: :term:`replica set`

---
stepnum: 8
ref: k8s-add-rs-ldap-agent
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: add-ldap-settings-agent
replacement:
  k8sResource: :term:`replica set`

---
stepnum: 9
ref: save-object-spec-rs-ldap
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: save-object-spec-update
replacement:
  k8sResource: :term:`replica set`
---
stepnum: 10
ref: start-k8s-deployment-rs-ldap
source:
  file: steps-source-deploy-k8s-resource.yaml
  ref: apply-changes-k8s-deployment
replacement:
  k8sResource: :term:`replica set`
  k8sResourceType: replica-set
---
stepnum: 11
title: "Track the status of your deployment."
level: 4
ref: track-k8s-deployment-basic-rs-ldap
content: |

  .. include:: /includes/check-resource-status.rst

...

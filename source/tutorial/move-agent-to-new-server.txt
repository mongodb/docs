========================================
Move or Add a Monitoring or Backup Agent
========================================

.. default-domain:: mongodb

Overview
--------

When you deploy MongoDB as a :term:`replica set` or :term:`sharded
cluster` to a group of servers, MMS selects one server to run the
Monitoring Agent. If you enable MMS Backup, MMS also selects a server to
run the Backup Agent.

You can move the Monitoring and Backup Agents to different servers in the
deployment. You might choose to do this, for example, if you are
terminating a server.

You also can add additional instances of each agent as hot standbys for
high availability. However, this is not standard practice. A single
Monitoring Agent and single Backup Agent are sufficient and strongly
recommended. If you run multiple agents, only one Monitoring Agent and one
Backup Agent per group or environment are primary. Only the primary agent
reports cluster status and performs backups. If you run multiple agents,
see :ref:`troubleshooting-one-agent`.

Procedures
----------

Move a Monitoring or Backup Agent to a Different Server
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To move an agent to a new server, you install a new instance of the agent
on the target server, and then remove the agent from its original server.

.. include:: /includes/steps/move-agent-to-new-server.rst

Install Additional Agent as Hot Standby for High Availability
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

In general, using only one Monitoring Agent and one Backup Agent is
sufficient and strongly recommended. If you run multiple agents, see
:ref:`troubleshooting-one-agent` to ensure no conflicts.

.. include:: /includes/steps/install-additional-agent-as-standby.rst

==========
Monitoring
==========

.. default-domain:: mongodb

:guilabel:`Monitoring` provides access to all your monitored objects. The
:guilabel:`Monitoring` tab includes the pages described here.

Deployment Page
---------------

The :guilabel:`Deployment` page provides access to all monitored
:program:`mongod` and :program:`mongos` instances. The page includes the
following information:

- :guilabel:`Last Ping`: The last time this agent sent a ping to the MMS
  servers. Click a ping to view a detailed status from the ping.

- :guilabel:`Host`: The hostname and port of the instance. Click the
  hostname to view host performance charts.

  An orange yield sign icon under a host name indicates startup warnings
  for this host. Click the host's last ping for warning details.
  MMS startup warnings can include the following:

  - MMS suspects the host has a low ``ulimit`` setting of less than
    ``1024``. MMS infers the host's ``ulimit`` setting using the total
    number of available and current connections. See the :manual:`UNIX
    ulimit Settings </reference/ulimit/>` reference page.

  - MMS flags a deactivated host.

    .. important:: If you have deactivated hosts, review all deactivated
       hosts to ensure that they are still in use, and remove all hosts
       that are not active. Then click on the warning icon and select
       :guilabel:`Reactive ALL hosts`.

- :guilabel:`Type`: The type of host. Possible types include:
  :replstate:`PRIMARY`, :replstate:`SECONDARY`, :replstate:`STANDALONE`,
  and :replstate:`ARBITER`. When the host recovers, the rectangle flag
  turns yellow and displays :replstate:`RECOVERING`. When the host returns
  a fatal error, the flag displays :replstate:`FATAL`. The flag also can
  display ``NO DATA``.

- :guilabel:`Cluster`: The name of the cluster to which this instance
  belongs. Only cluster members display this value. Click the cluster name
  to display aggregated information on the cluster's replica sets. See
  :doc:`/tutorial/view-cluster-statistics` for details.

- :guilabel:`Shard`: The name of the shard.

- :guilabel:`Repl Set`: The name of the shard's replica set. Click the
  replica set name to display replica set statistics.

- :guilabel:`Up Since`: The date the host first pinged MMS.

- :guilabel:`Version`: The version of the MongoDB running on this
  instance.

Host Mapping Page
-----------------

The :guilabel:`Host Mapping` page shows the mapping between system hostnames
and the names provided by the monitored :program:`mongod` and
:program:`mongos` processes.

Monitoring Agents Page
----------------------

The :guilabel:`Monitoring Agents` page includes the following information:

- :guilabel:`Hostname`: The hostname for the agent and any warnings, such
  as that the agent is down or out-of-date.

- :guilabel:`Last Configuration Call`: The last time the agent made a
  configuration request of the MMS servers.

- :guilabel:`Configuration Count`: The number of configuration requests
  sent by the agent since midnight GMT. Typically agents request
  configuration updates every two minutes.

- :guilabel:`Last Ping Call`: The date and time of the last ping from the
  agent.

- :guilabel:`Ping Count`: The number of pings (i.e. data payloads) sent by
  the agent since midnight GMT. Typically agents send pings every minute.

- :guilabel:`Version`: The version of the agent software running on this
  agent instance.

If you have more than one Monitoring Agent, only one agent actively
monitors MongoDB instances at a time. See :ref:`Monitoring Architecture
<monitoring-agent-redundancy>` for more information.

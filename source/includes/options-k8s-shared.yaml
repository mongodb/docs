---
program: _shared
name: apiVersion
type: string
directive: setting
optional: false
description: |
  *Required.* Version of the |k8s-mdbrsc| schema.

---
program: _shared
name: kind
type: string
directive: setting
optional: false
description: |
  *Required.* Type of |k8s-mdbrsc| to create. Accepted values are:

  - ``MongoDbStandalone``
  - ``MongoDbReplicaSet``
  - ``MongoDbShardedCluster``

---
program: _shared
name: metadata.name
type: string
directive: setting
optional: false
description: |
  *Required.* Name of the |k8s-mdbrsc| you are creating.

---
program: _shared
name: metadata.namespace
type: string
directive: setting
optional: false
description: |
  *Required.* |k8s| |k8s-ns| where this |k8s-mdbrsc| and other
  |k8s-objs| are created.

---
program: _shared
name: spec.version
type: number
directive: setting
optional: false
description: |
  *Required.* Version of MongoDB that is installed on this
  |k8s-mdbrsc|.

---
program: _shared
name: spec.service
type: string
directive: setting
optional: true
default: <resource_name>+"-svc" and <resource_name>+"-svc-external"
description: |
  *Optional.* Name of |k8s| service to be created or used for a
  |k8s-statefulset|. If the service with this name already exists, the
  |k8s-op-full| does not delete or recreate it. This setting lets
  users to create their custom services and lets the Operator reuse
  them.

---
program: _shared
name: spec.clusterName
type: string
directive: setting
optional: true
default: cluster.local
description: |
  *Optional.* When |k8s| creates a |k8s-statefulset|, the
  |k8s| assigns each |k8s-pod| a |fqdn|. To update |onprem|, the
  |k8s-op-short| calculates the |fqdn| for each |k8s-pod|
  using a provided clusterName. |k8s| does not provide an |api| to
  query these hostnames.

---
program: _shared
name: spec.project
type: string
directive: setting
optional: false
description: |
  *Required.* Name given to the Project |k8s-obj| as defined in its
  |k8s-configmap|. This value *must* be the match the
  ``metadata.name`` value in :ref:`the ConfigMap <create-k8s-project>`.

---
program: _shared
name: spec.credentials
type: string
directive: setting
optional: false
description: |
  *Required.* Name of the |k8s| |k8s-secret| created as |mms| |api|
  authentication credentials for the |k8s-op-short| to communicate
  with |onprem|.

---
program: _shared
name: spec.persistent
type: boolean
directive: setting
optional: true
default: true
description: |
  .. include:: /includes/k8s/k8s-persistent-volumes.rst
---
program: _shared
name: spec.podSpec.cpu
type: string
directive: setting
optional: true
description: |
  *Optional.* Minimum CPU capacity that must be available on a |k8s|
  |k8s-node| to host this {{component}} |k8s-mdbrsc|.
replacement:
  component: :term:`standalone deployment`

---
program: _shared
name: spec.podSpec.memory
type: string
directive: setting
optional: true
description: |
  *Optional.* Minimum memory capacity that must be available on a
  |k8s| |k8s-node| to host this |k8s-mdbrsc| on |k8s|. This value is
  expressed as an integer followed by a unit of memory in
  :abbr:`JEDEC (Joint Electron Device Engineering Council)` notation.

  .. example::

     If this |k8s-mdbrsc| requires 4 gigabytes of memory, set
     this value to ``4G``.

---
program: _shared
name: spec.podSpec.storage
type: string
directive: setting
optional: true
default: 16G
description: |
  *Optional.* Minimum storage capacity that must be available on a
  |k8s| |k8s-node| to host this |k8s-mdbrsc| on |k8s|. This value is
  expressed as an integer followed by a unit of storage in
  :abbr:`JEDEC (Joint Electron Device Engineering Council)` notation.

  .. example::

     If this |k8s-mdbrsc| requires 60 gigabytes of storage space, set
     this value to ``60G``.

---
program: _shared
name: spec.podSpec.storageClass
type: string
directive: setting
optional: true
description: |
  *Optional.* Type of storage needed for this {{component}}. The user
  may create this storage type as a |k8s-sc| object before using it in
  this |k8s-obj| specification.

---
program: _shared
name: spec.podSpec.podAffinity
type: Struct
directive: setting
optional: true
description: |
  *Optional.* |k8s| |k8s-rule| to determine if multiple
  |k8s-mdbrsc| |k8s-pods| must be co-located with other |k8s-pods|.

  .. seealso::

     The |k8s| documentation for use cases on
     `affinity and anti-affinity <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#more-practical-use-cases>`__

---
program: _shared
name: spec.podSpec.podAntiAffinityTopologyKey
type: string
directive: setting
default: kubernetes.io/hostname
optional: true
description: |

  *Optional.* This sets a |k8s-rule| to spread |k8s-mdbrsc| |k8s-pods|
  to different locations. A location can be a single node, rack, or
  region. This key defines which node
  `label <https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/>`__
  is used to `determine equal location <https://kubernetes.io/docs/concepts/configuration/assign-pod-node/>`__
  for nodes. By default, |k8s-op-short| tries to spread pods across
  different hosts.

---
program: _shared
name: spec.podSpec.nodeAffinity
type: Struct
directive: setting
optional: true
description: |
  *Optional.* |k8s| |k8s-rule| to place {{component}} |k8s-pods| on a
  specific range of |k8s-nodes|.

  .. example::

     A user can isolate "dev" and "testing" environments to ensure 
     |k8s-pods| go to |k8s-nodes| with appropriate labels.

...

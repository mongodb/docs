:orphan:

==============================
Geospatial Indexes and Queries
==============================

.. default-domain:: mongodb

MongoDB provides three special index types that support geospatial
queries in a number of different use cases. Depending on the query and
index type, MongoDB allows applications to represent geospatial data
in :term:`documents <document>` as either `GeoJSON
<http://geojson.org/geojson-spec.html>`_ objects or as coordinate
pairs on a two-dimensional plane. 

MongoDB's geospatial query operators support queries for:

- points and geometries (shapes) within a geometry. (:operator:`$geoWithin`)

- points and geometries that intersect a geometry. (:operator:`$geoIntersects`)

- points in proximity to another point. (:operator:`$geoNear`)

To support these geospatial queries, MongoDB provides the following
index types: 

- :doc:`2sphere </applications/2dsphere>`, which supports data sets
  that refer to geospatial data with *spherical coordinate systems*,
  and: 
  
  - polygon intersection (i.e. :operator:`$geoIntersects`.)
  - indexing geometries in addition to points.
  - GeoJSON points, lines, and polygons.
  - supports compound indexes with scalar index
    (i.e. ascending/descending,) as a prefix or suffix of the
    ``2dsphere`` index field.

  .. versionadded:: 2.4 
     ``2dsphere`` indexes are not available before version 2.4.
               
- :doc:`2d </applications/2d>`, which supports data sets that refer to
  geospatial data that refer to points on a *planar coordinate system*,
  and: 

  - can only store point data using legacy-coordinate pairs.
  - supports a compound index with one additional field only as a
    suffix of the ``2d`` index field. 

See the following documents for complete documentation of geospatial
indexes and documentation: 

.. toctree::
   :maxdepth: 1

   /applications/2d
   /applications/2dsphere
   /applications/geohaystack
   /reference/geospatial-queries
   /tutorial/calculate-distances-using-spherical-geometry-with-2d-geospatial-indexes
   /core/geospatial-indexes

=============================
{+Old-Backup+} Checkpoints
=============================

.. default-domain:: mongodb

.. include:: /includes/fact-projects-groups-synonyms.rst

This resource allows you to view checkpoint metadata. Checkpoints are
additional restore points for :manual:`sharded clusters </core/sharded-cluster-components>`
at points in time between regular snapshots. With checkpoints enabled,
|service| creates checkpoints at configurable intervals of every 15, 30,
or 60 minutes between snapshots.

.. include:: /includes/fact-continuous-backup-only-resource.rst

To create a checkpoint, |service| stops the :manual:`balancer </core/sharding-balancer-administration>`
and inserts a token into the :term:`oplog` of each :term:`shard` and
:term:`config server` in the cluster. These checkpoint tokens are lightweight
and do not have a significant impact on performance or disk use.

Restoring from a checkpoint requires |service| to apply the oplog of
each shard and config server to the last snapshot captured before the
checkpoint. Restoration from a checkpoint takes longer than restoration
from a snapshot.

Endpoints
---------

.. list-table::
   :header-rows: 1
   :widths: 10 60 30

   * - Method
     - Endpoint
     - Description

   * - GET
     - :doc:`/groups/{GROUP-ID}/clusters/{CLUSTER-NAME}/backupCheckpoints </reference/api/checkpoints-get-all>`
     - Retrieve all checkpoints for the specified sharded cluster.

   * - GET
     - :doc:`/groups/{GROUP-ID}/clusters/{CLUSTER-NAME}/backupCheckpoints/{CHECKPOINT-ID} </reference/api/checkpoints-get-one>`
     - Retrieve one checkpoint for the specified sharded cluster.

.. toctree::
   :titlesonly:

   /reference/api/checkpoints-get-all
   /reference/api/checkpoints-get-one

:noprevnext:

.. _secure-tls:

============================
Secure Deployments using TLS
============================

.. include:: /includes/styles/corrections.rst

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

The |k8s-op-full| can use |tls| certificates to encrypt connections
between:

- MongoDB hosts in a replica set or sharded cluster
- Client applications and MongoDB deployments

.. include:: /includes/admonitions/cannot-secure-standalone.rst

This guide instructs you on how to configure the |k8s-op-short| to use
|tls| for its MongoDB instances.

.. include:: /includes/admonitions/deprecate-cert-generation.rst

.. _secure-tls-prerequisites:

General Prerequisites
---------------------

Before you secure your MongoDB deployment using |tls| encryption,
complete the following:

.. include:: /includes/prereqs/secure-resource.rst

.. _tls-for-replica-set:

Configure TLS for a Replica Set
-------------------------------

Prerequisites
~~~~~~~~~~~~~

Before you secure your replica set using |tls| encryption, complete the
following:

- :doc:`Deploy the Replica Set </tutorial/deploy-replica-set>`
  that you want to secure

.. include:: /includes/prereqs/custom-ca-prereqs-rs-tls-only.rst

Procedure
~~~~~~~~~

.. include:: /includes/steps/deploy-k8s-replica-set-tls-custom.rst

Configure TLS for a Sharded Cluster
-----------------------------------

Prerequisites
~~~~~~~~~~~~~

Before you secure your replica set using |tls| encryption, complete the
following:

- :doc:`Deploy the Sharded Cluster </tutorial/deploy-sharded-cluster>`
  that you want to secure

.. include:: /includes/prereqs/custom-ca-prereqs-sc-tls-only.rst

Procedure
~~~~~~~~~

.. include:: /includes/steps/deploy-k8s-sharded-cluster-tls-custom.rst

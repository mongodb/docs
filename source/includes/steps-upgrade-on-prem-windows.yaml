title: "*Recommended*. Take a full backup of the |mms| database before beginning the upgrade procedure."
stepnum: 1
ref: full-backup
---
title: "Shut down |mms|."
stepnum: 2
ref: shutdown-opsmanager
content: |
  To shutdown |onprem|:
  
  a. Click the :guilabel:`Start` button.

  b. Click :guilabel:`Administrative Tools`.

  c. Click :guilabel:`Services`.

  d. Right-click on the :guilabel:`MongoDB Ops Manager HTTP Service` and select :guilabel:`Stop`.

  e. Right-click on the :guilabel:`MongoDB Ops Manager Backup Daemon Service` and select :guilabel:`Stop`.

  f. Right-click on the :guilabel:`MongoDB Ops Manager Backup HTTP Service` and select :guilabel:`Stop`.
---
title: "Download the latest version of the |onprem| package."
stepnum: 3
level: 4
ref: download
content: |
  a. In a browser, go to `http://www.mongodb.com/download <http://www.mongodb.com/download>`_.

  b. Complete and submit the subscription form.

  c. On the :guilabel:`MongoDB Enterprise Downloads` page, click the :guilabel:`MongoDB Ops Manager` link.

  d. Click the :guilabel:`here` link.

  d. On the :guilabel:`Ops Manager Download` page, click the :guilabel:`I Understand` button to acknowledge the recommendation to contact MongoDB for production installs.

  e. On the :guilabel:`MongoDB Ops Manager Downloads` page, click on the :guilabel:`MSI` link.

  .. note::

     The downloaded package is named ``mongodb-mms-<version>.msi``,
     where ``<version>`` is the version number.
---
title: "Install the |onprem| package on each server being used for |onprem|."
stepnum: 4
level: 4
ref: install
content: |
  a. Double click on the MSI package.

  b. Follow the instructions in the :guilabel:`Setup Wizard`.

  c. During setup, the :guilabel:`Configuration/Log Folder` step prompts you to specify a folder where the configuration and log files will be stored.

  The installation restricts access to the folder to users with the :guilabel:`Administrator` access privileges only.
---
title: "Install the |onprem| package."
stepnum: 5
level: 4
source:
  file: steps-source-install-onprem.yaml
  ref: configure-app-db-connection
pre: |
  On a server that is to run the |onprem|, open ``<installPath>\MMSData\Server\Config\conf-mms.properties`` with :guilabel:`Administrator` access privileges.

---
title: "Start the |onprem| instances."
stepnum: 6
level: 4
ref: start-http-service-windows
content: |
  a. To start the service, click the :guilabel:`Start` button.

  b. Click :guilabel:`Administrative Tools`.

  c. Click :guilabel:`Services`.

  d. In the :guilabel:`Services` list, right-click on the :guilabel:`MongoDB Ops Manager HTTP Service` and select
     :guilabel:`Start`.
---
title: "Open the |onprem| home page."
stepnum: 7
level: 4
ref: home-page
action:
  pre: |
    To open the home page, enter the following URL in a browser,
    where ``<host>`` is the fully
    qualified domain name of the server:
  language: none
  code: | 
    http://<host>:8080 
  post: | 
    Log into the |application| as the new user. The :guilabel:`Setup
    Recommended` wizard may appear to guide you through any configuration
    steps if you want to chanage all after upgrade.
---
title: "Update all Monitoring Agents."
stepnum: 8
ref: update
content: |
  See :doc:`/tutorial/nav/install-monitoring-agent` for more information.
---
title: "Update the Monitoring and Backup Agents as appropriate."
stepnum: 9
ref: update-daemon
content: |
  If you are running the Backup feature, update the Backup Daemon package and any
  Backup Agent.
post: |
  See :doc:`/tutorial/nav/install-backup-agent` for more information.
...

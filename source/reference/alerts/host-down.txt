=========
Host Down
=========

.. default-domain:: mongodb

Description
-----------

At time ``T``, the {+magent+} on host ``X`` had not detected a :program:`mongod`
process running on host ``Y`` port ``Z`` for ``A`` minutes.

Common Triggers
---------------

- The :program:`mongod` process could not be reached because of a network issue.

- The :program:`mongod` process is not running.

- The host is powered off.

Possible Solutions
------------------

- Verify network communication between the host running the {+magent+} and the
  host that is listed as down. One way to do this is through {+mongosh+}:

  .. code-block:: sh

     mongosh <hostname>:<port>

  If connecting from {+mongosh+} fails, try a basic 
  ping test:

  .. code-block:: sh

     ping <hostname>

- Verify the :program:`mongod` process is running:

  If the process was installed from ``deb`` or ``rpm`` package, query the
  service manager for the status:

  .. code-block:: sh

     sudo service mongod status

  Alternatively, you can use ``ps``:

  .. code-block:: sh

     ps aux | grep mongo

Notes
-----

The ``Host Down`` alert should not be used to detect all occurrences of a
host rebooting. The alert is triggered only if the host is seen as down at
the instant that the {+magent+} runs the check. The interval between
checks can vary from 1 to 3 minutes.

Documentation
-------------

- :alert:`Host is down` alert condition

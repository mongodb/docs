---
stepnum: 0
level: 4
ref: create-external-services
title: "Create an external service for each of the Pods."
content: |
  To connect to your {{k8sResource}} from an external resource, configure the 
  :ref:`spec.externalAccess <multi-spec-externalaccess>` setting:

  .. code-block:: yaml

    externalAccess: {}

  This setting instructs the |k8s-op-short| to create an external :k8sdocs:`LoadBalancer 
  </concepts/services-networking/service/#loadbalancer>` service for each Pod in your 
  {{k8sResource}}. The external service provides an entry point for external connections.
  Adding this setting with no values creates an external service with the following default
  values:

  .. include:: /includes/list-tables/external-service-default.rst

  Optionally, if you need to add values to the service or override the default values,
  specify:

  - Annotations specific to your cloud provider, in {{annotations}}
  
  - Overrides for the service specification, in {{overrides}}.

  For example, the following settings override the default values for the external service 
  to configure your {{k8sResource}} to create a :k8sdocs:`NodePort service 
  </concepts/services-networking/service/#type-nodeport>` that exposes the {{k8sResource}}:
  
  .. code-block:: yaml

    externalAccess:
      externalService: 
        annotations:
          # cloud-specific annotations for the service
        spec:
          type: NodePort # default is LoadBalancer
          port: 27017
          # you can specify other spec overrides if necessary

  .. tip:: 

    To learn more, see 
    :k8sdocs:`Annotations </concepts/overview/working-with-objects/annotations/>` 
    and :k8sdocs:`ServiceSpec </reference/kubernetes-api/service-resources/service-v1/#ServiceSpec>` 
    in the |k8s| documentation.

---
stepnum: 0
level: 4
ref: verify-external-services
title: "Verify the external services."
content: |
  In {{deployment}}, run the following command to verify that the external services
  have been created.

  .. code-block:: sh

     $ kubectl get services

  The command returns a list of services similar to the following output.
  For each database Pod in the cluster, the |k8s-op-short| creates an external service 
  named ``<pod-name>-svc-external``. This service is configured according to the values 
  and overrides you provide in the :ref:`external service specification <k8s-specification>`.

  .. code-block:: sh
     :copyable: false

     NAME                                  TYPE         CLUSTER-IP   EXTERNAL-IP       PORT(S)           AGE
     {{example}}   LoadBalancer   10.102.27.116    1.2.3.4      27017:27017/TCP     8m30s
  
...
